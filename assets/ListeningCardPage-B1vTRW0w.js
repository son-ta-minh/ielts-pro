import{c as ve,r as s,a0 as Ne,ai as ye,$ as Se,j as e,aN as Te,P as Ce,aA as se,bD as le,af as ae,h as ke,T as Ie,aB as oe,s as Ae,bE as Q,X as ee,au as Pe,av as Fe,bf as re,bF as Le,bG as ze,aj as Ee,bH as Me,H as D}from"./index-D-83NIjs.js";import{R as Oe,a as $e}from"./ResourceActions-CRuq4t9L.js";import{V as Re}from"./ViewMenu-BCt8od04.js";import{U as Ue}from"./UniversalCard-BjRmVhWz.js";import{T as Be}from"./TagBrowser-Qw1Ki3o_.js";import{M as Ve,F as ce}from"./FileSelector-Cv1LjaUt.js";import{I as We}from"./InteractiveTranscript-GKvD-cBf.js";import{E as ie}from"./ear-BPXcHe6W.js";import{T as _e}from"./tag-D_0wH-Ev.js";import{S as qe}from"./skip-forward-DE_duQuA.js";import"./chevron-left-CiTFDgZy.js";import"./filter-CZQge8lR.js";import"./server-D4Z3IMar.js";import"./list-todo-DZYQoDSP.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=ve("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),ne="vocab_pro_listening_view",Ge=({isOpen:N,onClose:O,item:b,onUpdate:n,showDash:$,onToggleDash:V})=>{const u=b.audioLinks||[],[l,T]=s.useState(0),[C,f]=s.useState(!1),[j,U]=s.useState(0),[k,z]=s.useState(0),[w,W]=s.useState(b.text),[p,E]=s.useState(!1),x=s.useRef(null),P=s.useRef(null),i=s.useRef(null);s.useEffect(()=>()=>{I(),P.current&&clearTimeout(P.current)},[]),s.useEffect(()=>{N?(W(b.text),F(0,!1)):(I(),T(0))},[N,b.id]);const _=r=>{W(r),P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{n({...b,text:r})},1500)},I=()=>{x.current&&x.current.pause(),re(),f(!1),i.current=null},F=(r,h)=>{if(I(),T(r),u.length>0&&u[r]){const L=u[r];let d=x.current;d||(d=new Audio,x.current=d),d=new Audio(L),x.current=d,d.addEventListener("loadedmetadata",()=>{U(d.duration)}),d.addEventListener("timeupdate",()=>{d&&(z(d.currentTime),i.current!==null&&d.currentTime>=i.current&&(d.pause(),f(!1),i.current=null))}),d.addEventListener("ended",()=>{f(!1),i.current=null,i.current}),d.addEventListener("error",()=>{f(!1)}),h&&(d.play().catch(console.error),f(!0))}},J=()=>{if(u.length>0)x.current?C?(x.current.pause(),f(!1)):(i.current=null,x.current.play().catch(console.error),f(!0)):F(l,!0);else if(C)re(),f(!1);else{const r=b.text.replace(/[{}]/g,"").replace(/\[|\]/g,"").replace(/\(.*?\|.*?\)/g,"");D(r),f(!0);const h=r.length/10*1e3;setTimeout(()=>f(!1),h)}},o=r=>{const h=Number(r.target.value);z(h),x.current&&(x.current.currentTime=h)},m=()=>{l>0&&F(l-1,!0)},v=()=>{l<u.length-1&&F(l+1,!0)},A=(r,h,L,d)=>{if(!r){D(d);return}let q=u.findIndex(B=>B===r||decodeURIComponent(B).endsWith(r)||B.includes(r));if(q===-1){console.warn("Audio file not found for segment:",r),D(d);return}if(q===l&&x.current)h!==void 0&&(x.current.currentTime=h),L!==void 0?i.current=(h||0)+L:i.current=null,x.current.play().catch(console.error),f(!0);else{I(),T(q);const B=u[q],y=new Audio(B);x.current=y,y.addEventListener("loadedmetadata",()=>{U(y.duration),h!==void 0&&(y.currentTime=h),L!==void 0&&(i.current=(h||0)+L),y.play().catch(console.error),f(!0)}),y.addEventListener("timeupdate",()=>{z(y.currentTime),i.current!==null&&y.currentTime>=i.current&&(y.pause(),f(!1),i.current=null)}),y.addEventListener("ended",()=>f(!1))}},M=()=>{I(),O()};if(!N)return null;const K=u.length>0?decodeURIComponent(u[l].split("/").pop()||`Track ${l+1}`):"System Voice (TTS)",Y=r=>{const h=Math.floor(r/60),L=Math.floor(r%60);return`${h}:${L.toString().padStart(2,"0")}`};return e.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-7xl rounded-[2.5rem] shadow-2xl border border-neutral-200 flex flex-col h-[90vh] overflow-hidden",children:[e.jsxs("header",{className:"px-8 py-6 border-b border-neutral-100 flex justify-between items-center bg-white z-10 shrink-0",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-neutral-900 flex items-center gap-2",children:[e.jsx(ie,{size:20})," Listening Practice"]}),e.jsx("p",{className:"text-xs text-neutral-500 font-bold mt-1 max-w-[250px] truncate",children:b.title||b.note||"Practice Session"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"bg-neutral-100 p-1 rounded-xl flex items-center",children:[e.jsx("button",{onClick:V,className:`p-2 rounded-lg transition-all ${$?"bg-white shadow-sm text-indigo-600":"text-neutral-400 hover:text-neutral-600"}`,title:"Toggle Audio Marks",children:e.jsx(Le,{size:16})}),e.jsx("div",{className:"w-px h-4 bg-neutral-200 mx-1"}),e.jsx("button",{onClick:()=>E(!1),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${p?"text-neutral-500":"bg-white shadow-sm text-neutral-900"}`,children:"Read"}),e.jsx("button",{onClick:()=>E(!0),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${p?"bg-white shadow-sm text-neutral-900":"text-neutral-500"}`,children:"Edit Raw"})]}),e.jsx("button",{onClick:M,className:"p-2 text-neutral-400 hover:bg-neutral-100 rounded-full",children:e.jsx(ee,{size:20})})]})]}),e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden relative bg-neutral-50/50",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar relative",children:p?e.jsx("textarea",{value:w,onChange:r=>_(r.target.value),className:"w-full h-full p-6 bg-white border border-neutral-200 rounded-2xl resize-none outline-none text-lg font-medium leading-relaxed font-mono text-neutral-700 shadow-sm",placeholder:"Paste transcript here..."}):e.jsx("div",{className:"h-full flex flex-col bg-white border border-neutral-200 rounded-2xl shadow-sm p-8 overflow-y-auto",children:e.jsx(We,{rawText:w,onUpdate:_,showDash:$,audioLinks:u,onPlaySegment:A})})})}),e.jsxs("div",{className:"px-6 py-3 bg-white border-t border-neutral-100 shrink-0 flex items-center gap-4",children:[e.jsxs("div",{className:"w-48 shrink-0",children:[e.jsx("h4",{className:"text-xs font-bold text-neutral-900 truncate",children:K}),u.length>1&&e.jsxs("p",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest",children:["Track ",l+1,"/",u.length]})]}),e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[e.jsx("button",{onClick:m,disabled:l===0,className:"p-2 text-neutral-400 hover:text-neutral-900 disabled:opacity-30 transition-colors",children:e.jsx(He,{size:18,fill:"currentColor"})}),e.jsx("button",{onClick:J,className:"w-10 h-10 bg-neutral-900 text-white rounded-full flex items-center justify-center shadow-md hover:scale-105 active:scale-95 transition-all",children:C?e.jsx(ze,{size:16,fill:"currentColor"}):e.jsx(Ee,{size:16,fill:"currentColor",className:"ml-0.5"})}),e.jsx("button",{onClick:v,disabled:l===u.length-1,className:"p-2 text-neutral-400 hover:text-neutral-900 disabled:opacity-30 transition-colors",children:e.jsx(qe,{size:18,fill:"currentColor"})}),e.jsxs("div",{className:"flex-1 flex items-center gap-3 ml-2",children:[e.jsx("span",{className:"text-[10px] font-mono font-bold text-neutral-400 w-8 text-right",children:Y(k)}),e.jsxs("div",{className:"flex-1 h-1.5 bg-neutral-100 rounded-full relative group cursor-pointer",children:[u.length>0&&e.jsx("input",{type:"range",min:"0",max:j||100,value:k,onChange:o,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),e.jsx("div",{className:"absolute top-0 left-0 h-full bg-neutral-900 rounded-full transition-all",style:{width:`${j?k/j*100:0}%`}})]}),e.jsx("span",{className:"text-[10px] font-mono font-bold text-neutral-400 w-8 text-left",children:Y(j)})]})]})]})]})})},Qe=({isOpen:N,onClose:O,onSave:b,initialData:n})=>{const[$,V]=s.useState(""),[u,l]=s.useState(""),[T,C]=s.useState(""),[f,j]=s.useState("/"),[U,k]=s.useState(""),[z,w]=s.useState([]),[W,p]=s.useState(!1),[E,x]=s.useState(null),[P,i]=s.useState(!1);s.useEffect(()=>{var o;if(N)if(V((n==null?void 0:n.title)||""),l((n==null?void 0:n.text)||""),C((n==null?void 0:n.note)||""),w((n==null?void 0:n.audioLinks)||[]),(n==null?void 0:n.path)===void 0){const m=(n==null?void 0:n.tags)||[],v=m.find(M=>M.startsWith("/")),A=m.filter(M=>!M.startsWith("/"));j(v||"/"),k(A.join(", "))}else j((n==null?void 0:n.path)||"/"),k(((o=n==null?void 0:n.tags)==null?void 0:o.join(", "))||"")},[N,n]);const _=o=>{if(o.preventDefault(),u.trim()){const m=U.split(",").map(v=>v.trim()).filter(Boolean);b($.trim(),u.trim(),T.trim(),f.trim(),m,z)}},I=o=>{const{url:m,transcript:v}=o;w(A=>[...A,m]),v&&(u.trim()?(x(v),i(!0)):l(v))},F=()=>{E&&l(E),x(null),i(!1)},J=o=>{w(m=>m.filter((v,A)=>A!==o))};return N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("form",{onSubmit:_,className:"bg-white w-full max-w-lg rounded-[2.5rem] shadow-2xl border border-neutral-200 flex flex-col max-h-[90vh]",children:[e.jsxs("header",{className:"px-8 py-6 border-b border-neutral-100 flex justify-between items-start shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-neutral-900",children:n?"Edit Listening Card":"New Listening Card"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"Add text script and attach audio."})]}),e.jsx("button",{type:"button",onClick:O,className:"p-2 -mr-2 text-neutral-400 hover:bg-neutral-100 rounded-full",children:e.jsx(ee,{size:20})})]}),e.jsxs("main",{className:"p-8 space-y-6 overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500",children:"Title"}),e.jsx("input",{value:$,onChange:o=>V(o.target.value),placeholder:"e.g. Unit 1 Podcast",className:"w-full px-4 py-3 bg-neutral-50 border border-neutral-200 rounded-xl font-bold text-lg focus:ring-2 focus:ring-neutral-900 outline-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500",children:"Script / Transcript"}),e.jsx("div",{className:"relative",children:e.jsx("textarea",{value:u,onChange:o=>l(o.target.value),placeholder:"Paste full transcript here...",rows:6,className:"w-full p-4 bg-neutral-50 border border-neutral-200 rounded-xl font-medium resize-none focus:ring-2 focus:ring-neutral-900 outline-none text-sm leading-relaxed",required:!0})}),e.jsx("p",{className:"text-[10px] text-neutral-400 italic",children:"You can highlight key phrases in Practice mode."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500",children:"Attached Audio"}),e.jsxs("button",{type:"button",onClick:()=>p(!0),className:"flex items-center gap-1 text-[10px] font-bold text-indigo-600 hover:bg-indigo-50 px-2 py-1 rounded-lg transition-colors",children:[e.jsx(ae,{size:12})," From Server"]})]}),e.jsxs("div",{className:"space-y-2",children:[z.length===0&&e.jsx("p",{className:"text-[10px] text-neutral-400 italic px-2",children:"No audio files attached."}),z.map((o,m)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[e.jsx(le,{size:14,className:"text-emerald-500 shrink-0"}),e.jsx("span",{className:"text-xs font-mono text-neutral-600 truncate",children:decodeURIComponent(o.split("/").pop()||"file")})]}),e.jsx("button",{type:"button",onClick:()=>J(m),className:"p-1 text-neutral-400 hover:text-red-500 hover:bg-red-50 rounded-full",children:e.jsx(ee,{size:14})})]},m))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500",children:"Note (Optional)"}),e.jsx("input",{value:T,onChange:o=>C(o.target.value),placeholder:"e.g. Fast speech, linking sounds...",className:"w-full px-4 py-3 bg-neutral-50 border border-neutral-200 rounded-xl font-medium text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500",children:"Tags"}),e.jsx("input",{value:U,onChange:o=>k(o.target.value),placeholder:"linking, elision...",className:"w-full px-4 py-3 bg-neutral-50 border border-neutral-200 rounded-xl font-medium text-sm"})]})]}),e.jsx("footer",{className:"px-8 py-6 border-t border-neutral-100 flex justify-end shrink-0 bg-neutral-50/50 rounded-b-[2.5rem]",children:e.jsxs("button",{type:"submit",className:"px-6 py-3 bg-neutral-900 text-white rounded-xl font-black text-xs flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(Pe,{size:14})," Save Item"]})})]})}),e.jsx(ce,{isOpen:W,onClose:()=>p(!1),onSelect:I,type:"audio",title:"Select Audio"}),e.jsx(oe,{isOpen:P,title:"Replace Script?",message:"This audio file comes with a linked transcript. Do you want to replace your current text content with it?",confirmText:"Replace",isProcessing:!1,onConfirm:F,onClose:()=>i(!1),icon:e.jsx(Fe,{size:40,className:"text-indigo-500"}),confirmButtonClass:"bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-200"})]}):null},it=({user:N})=>{const[O,b]=s.useState([]),[n,$]=s.useState(!0),[V,u]=s.useState(!1),[l,T]=s.useState(()=>Ne(ne,{showNote:!0,compact:!1,showType:!0,showDash:!1})),[C,f]=s.useState(""),[j,U]=s.useState(null),[k,z]=s.useState(!1),[w,W]=s.useState("all"),[p,E]=s.useState("all"),[x,P]=s.useState(0),[i,_]=s.useState(12),[I,F]=s.useState(null);s.useEffect(()=>{ye(ne,l)},[l]);const[J,o]=s.useState(!1),[m,v]=s.useState(null),[A,M]=s.useState(null),[K,Y]=s.useState(!1),{showToast:r}=Se(),h=async()=>{$(!0);const t=await Ae(N.id);b(t.sort((c,a)=>a.createdAt-c.createdAt)),$(!1)};s.useEffect(()=>{h()},[N.id]),s.useEffect(()=>{P(0)},[j,i,w,p,C]);const L=s.useMemo(()=>w!=="all"||p!=="all",[w,p]),d=s.useMemo(()=>{let t=O;const c=C.toLowerCase().trim();return c&&(t=t.filter(a=>(a.title||"").toLowerCase().includes(c)||(a.text||"").toLowerCase().includes(c))),w==="focused"&&(t=t.filter(a=>a.isFocused)),p!=="all"&&(t=t.filter(a=>a.focusColor===p)),j&&(j==="Uncategorized"?t=t.filter(a=>{const g=a.path??(a.tags||[]).find(H=>H.startsWith("/"));return!(g&&g!=="/"&&g!=="")}):t=t.filter(a=>{var g,S;return((g=a.path)==null?void 0:g.startsWith(j))||((S=a.tags)==null?void 0:S.includes(j))})),t},[O,j,w,p,C]),q=s.useMemo(()=>{const t=x*i;return d.slice(t,t+i)},[d,x,i]),B=()=>{v(null),o(!0)},y=t=>{v(t),o(!0)},de=async()=>{A&&(await Me(A.id),M(null),r("Deleted item.","success"),h())},ue=async(t,c,a,g,S,H)=>{try{const R=Date.now();if(m){const G={...m,title:t,text:c,note:a,path:g,tags:S,audioLinks:H,updatedAt:R};await Q(G),r("Item updated!","success")}else{const G={id:`lst-${R}-${Math.random()}`,userId:N.id,title:t,text:c,note:a,path:g,tags:S,audioLinks:H,createdAt:R,updatedAt:R};await Q(G),r("Item added!","success")}o(!1),h()}catch{r("Failed to save item.","error")}},xe=async t=>{const{url:c,filename:a,transcript:g,transcriptTitle:S,map:H,path:R}=t;if(!g){r("No transcript found for selected file.","error");return}const G=H||"Unknown",X=R?`/${R}`:"",je=S?`${G}${X} - ${S}`:a,Z=Date.now(),we={id:`lst-scripted-${Z}-${Math.random()}`,userId:N.id,title:je,text:g,note:`Imported from ${G}${X}`,path:X||"/",tags:["scripted-audio"],audioLinks:[c],createdAt:Z,updatedAt:Z};try{await Q(we),r("Scripted Audio Card Created!","success"),h()}catch{r("Failed to create card.","error")}},he=async t=>{await Q(t),F(t),h()},pe=t=>{F(t)},fe=()=>{b(t=>[...t].sort(()=>Math.random()-.5)),r("Shuffled!","success")},me=async(t,c)=>{const a={...t,focusColor:c||void 0,updatedAt:Date.now()};c||delete a.focusColor,b(g=>g.map(S=>S.id===t.id?a:S)),await Q(a)},ge=async t=>{const c={...t,isFocused:!t.isFocused,updatedAt:Date.now()};b(a=>a.map(g=>g.id===t.id?c:g)),await Q(c)},te=()=>{T(t=>({...t,showDash:!t.showDash}))},be=t=>{if(t.title)return e.jsx("div",{className:"font-black text-lg text-neutral-900 leading-tight",children:t.title});const c=t.text.split(/\s+/),a=c.length>15?c.slice(0,15).join(" ")+"...":t.text;return e.jsx("div",{className:"font-medium text-lg text-neutral-700 leading-tight",children:e.jsx(HighlightedText,{text:a,showDash:l.showDash})})};return e.jsxs(e.Fragment,{children:[e.jsx(Oe,{title:"Listening Library",subtitle:"Practice listening reflexes and capture difficult phrases.",icon:e.jsx("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Objects/Headphone.png",className:"w-8 h-8 object-contain",alt:"Listening"}),query:C,onQueryChange:f,searchPlaceholder:"Search title or text...",config:{},isLoading:n,isEmpty:d.length===0,emptyMessage:"No difficult phrases saved.",activeFilters:{},onFilterChange:()=>{},pagination:{page:x,totalPages:Math.ceil(d.length/i),onPageChange:P,pageSize:i,onPageSizeChange:_,totalItems:d.length},aboveGrid:e.jsx(e.Fragment,{children:k&&e.jsx(Be,{items:O,selectedTag:j,onSelectTag:U,forcedView:"tags",title:"Browse Tags",icon:e.jsx(_e,{size:16})})}),actions:e.jsx($e,{viewMenu:e.jsx(Re,{isOpen:V,setIsOpen:u,hasActiveFilters:L,customSection:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-3 py-2 text-[9px] font-black text-neutral-400 uppercase tracking-widest border-b border-neutral-50 flex items-center gap-2",children:[e.jsx(Ie,{size:10})," Focus & Status"]}),e.jsxs("div",{className:"p-1 flex flex-col gap-1 bg-neutral-100 rounded-xl mb-2",children:[e.jsx("button",{onClick:()=>W(w==="all"?"focused":"all"),className:`w-full py-1.5 text-[9px] font-black rounded-lg transition-all ${w==="focused"?"bg-white shadow-sm text-red-600":"text-neutral-500 hover:text-neutral-700"}`,children:w==="focused"?"Focused Only":"All Items"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>E(p==="green"?"all":"green"),className:`flex-1 h-6 rounded-lg border-2 transition-all ${p==="green"?"bg-emerald-500 border-emerald-600":"bg-white border-neutral-200 hover:bg-emerald-50"}`}),e.jsx("button",{onClick:()=>E(p==="yellow"?"all":"yellow"),className:`flex-1 h-6 rounded-lg border-2 transition-all ${p==="yellow"?"bg-amber-400 border-amber-500":"bg-white border-neutral-200 hover:bg-amber-50"}`}),e.jsx("button",{onClick:()=>E(p==="red"?"all":"red"),className:`flex-1 h-6 rounded-lg border-2 transition-all ${p==="red"?"bg-rose-500 border-rose-600":"bg-white border-neutral-200 hover:bg-rose-50"}`})]})]})]}),viewOptions:[{label:"Show Notes",checked:l.showNote,onChange:()=>T(t=>({...t,showNote:!t.showNote}))},{label:"Show Card Type",checked:l.showType,onChange:()=>T(t=>({...t,showType:!t.showType}))},{label:"Show Dash Lines",checked:l.showDash,onChange:te},{label:"Compact Mode",checked:l.compact,onChange:()=>T(t=>({...t,compact:!t.compact}))}]}),browseTags:{isOpen:k,onToggle:()=>{z(!k)}},addActions:[{label:"Add Scripted Audio",icon:le,onClick:()=>Y(!0)},{label:"Add Phrase",icon:ae,onClick:B}],extraActions:e.jsx(e.Fragment,{children:e.jsx("button",{onClick:fe,disabled:O.length<2,className:"p-3 bg-white border border-neutral-200 text-neutral-600 rounded-xl hover:bg-neutral-50 active:scale-95 transition-all shadow-sm disabled:opacity-50",title:"Randomize",children:e.jsx(ke,{size:16})})})}),children:()=>e.jsx(e.Fragment,{children:q.map(t=>e.jsx(Ue,{title:be(t),badge:l.showType?{label:"Listening",colorClass:"bg-red-50 text-red-600 border-red-100",icon:ie}:void 0,tags:t.tags,compact:l.compact,onClick:()=>pe(t),focusColor:t.focusColor,onFocusChange:c=>me(t,c),isFocused:t.isFocused,onToggleFocus:()=>ge(t),isCompleted:t.focusColor==="green",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:c=>{c.stopPropagation(),y(t)},className:"p-1.5 text-neutral-400 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",title:"Edit",children:e.jsx(Ce,{size:14})}),e.jsx("button",{onClick:c=>{c.stopPropagation(),M(t)},className:"p-1.5 text-neutral-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"Delete",children:e.jsx(se,{size:14})})]}),children:e.jsxs("div",{className:"flex flex-col gap-2 h-full justify-between",children:[l.showNote&&t.note&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500 font-medium bg-neutral-50 px-2 py-1 rounded-lg w-fit",children:[e.jsx(Te,{size:12})," ",t.note]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-black text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full w-fit uppercase tracking-wider border border-emerald-100 self-start",children:[e.jsx(Ve,{size:10})," ",t.audioLinks?t.audioLinks.length:0," Tracks"]})]})},t.id))})}),e.jsx(Qe,{isOpen:J,onClose:()=>o(!1),onSave:ue,initialData:m}),I&&e.jsx(Ge,{isOpen:!!I,onClose:()=>F(null),item:I,onUpdate:he,showDash:l.showDash,onToggleDash:te}),e.jsx(ce,{isOpen:K,onClose:()=>Y(!1),onSelect:xe,type:"audio",title:"Select Audio"}),e.jsx(oe,{isOpen:!!A,title:"Delete Phrase?",message:"Are you sure you want to remove this phrase?",confirmText:"Delete",isProcessing:!1,onConfirm:de,onClose:()=>M(null),icon:e.jsx(se,{size:40,className:"text-red-500"})})]})};export{it as ListeningCardPage,it as default};
