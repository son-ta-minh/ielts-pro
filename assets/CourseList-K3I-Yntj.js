import{c as L,_ as Le,r,k as g,aK as f,H as ot,bi as nt,j as e,E as q,D as rt,bG as lt,ai as be,as as at,ae as je,f as he,ay as ye,K as it,X as xe,aA as we,aQ as ke,bz as Ee,M as ct,G as dt,aI as ut,b9 as xt}from"./index-BRuxk4ej.js";import{C as ve}from"./chevron-left-3nbQA9Ce.js";import{M as ht}from"./minus-Cy_cG8_f.js";import{M as mt}from"./music-frlneARK.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=L("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=L("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=L("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=L("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=L("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=L("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=L("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=L("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=L("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),ue=["#22c55e","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316"],yt=x=>x.replace(/\.md$/i,""),wt=x=>{if(!x)return[];const _=x.split(`
`),l=[];let c=null;const $=()=>{c&&((c.content.trim()||c.title!=="Introduction")&&l.push(c),c=null)};return _.forEach(k=>{const H=k.match(/^#\s+(.+)/),D=k.match(/^##\s+(.+)/);H?(c||(c={title:"Introduction",content:""}),c.content+=`${k}
`):D?($(),c={title:D[1].trim(),content:`${k}
`}):(c||(c={title:"Introduction",content:""}),c.content+=`${k}
`)}),$(),l.length>0?l:[{title:"General",content:x}]},kt=({courseId:x,courseTitle:_})=>{const{showToast:l}=Le(),[c,$]=r.useState([]),[k,H]=r.useState(null),[D,ee]=r.useState(""),[w,N]=r.useState("home"),[U,A]=r.useState(!0),[F,B]=r.useState(!1),[m,b]=r.useState(0),[te,I]=r.useState(!1),S=r.useRef(null),[se,W]=r.useState(!1),[re,E]=r.useState(!1),[le,R]=r.useState(null),[T,J]=r.useState(""),Q=140,[V,O]=r.useState(""),[ae,ie]=r.useState(""),[me,o]=r.useState(!1),[d,p]=r.useState(null),[h,v]=r.useState(""),[ce,oe]=r.useState(ue[0]),[G,X]=r.useState(!1),[Y,pe]=r.useState(null),[Ue,Me]=r.useState(!1),[Z,ge]=r.useState(null),[Ae,Se]=r.useState(!1),[ne,Be]=r.useState(!1),fe=r.useMemo(()=>c.flatMap(t=>t.modules),[c]),K=r.useMemo(()=>{var t,s;return((t=c.find(n=>n.isDefault))==null?void 0:t.id)||((s=c[0])==null?void 0:s.id)||""},[c]),Te=r.useMemo(()=>fe.find(t=>t.id===k),[fe,k]),C=r.useMemo(()=>wt(D),[D]),z=C[m],ze=r.useMemo(()=>{const t=new Map;return C.forEach((s,n)=>{s.content.split(`
`).forEach(i=>{const u=i.trim().match(/^#{1,4}\s+(.+)/);if(!u)return;const a=u[1].trim().toLowerCase();a&&!t.has(a)&&t.set(a,n)})}),t},[C]),y=r.useCallback(async()=>{A(!0);try{const t=g(),s=f(t),n=await fetch(`${s}/api/courses/${x}/sessions`);if(n.ok){const i=await n.json();$(Array.isArray(i)?i:[])}else l("Failed to load course sessions","error")}catch(t){console.error("Failed to load sessions",t),l("Failed to load course sessions","error")}finally{A(!1)}},[x,l]),Ie=r.useCallback(async t=>{A(!0);try{const s=g(),n=f(s),i=await fetch(`${n}/api/courses/${x}/modules/${t}`);if(i.ok){const u=await i.json();ee(u.content||""),b(0)}}catch(s){console.error("Failed to load module content",s),l("Failed to load module content","error")}finally{A(!1)}},[x,l]);r.useEffect(()=>{y()},[y]),r.useEffect(()=>(window.handleLessonSpeak=(t,s)=>{ot(t,!1,s)},()=>{delete window.handleLessonSpeak}),[]),r.useEffect(()=>{const t=s=>{S.current&&!S.current.contains(s.target)&&I(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),r.useEffect(()=>(window.resolveMarkdownNav=t=>{if(w!=="module")return!1;const s=ze.get(t);if(s===void 0)return!1;const n=()=>{const i=Array.from(document.querySelectorAll("h1, h2, h3, h4")),u=i.find(j=>(j.textContent||"").trim().toLowerCase()===t),a=i.find(j=>(j.textContent||"").trim().toLowerCase().includes(t)),M=u||a;M?M.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})};return s!==m?(b(s),requestAnimationFrame(()=>requestAnimationFrame(n))):n(),!0},()=>{delete window.resolveMarkdownNav}),[w,ze,m]);const Re=t=>{H(t.id),Ie(t.filename),N("module")},Je=async()=>{if(Te){B(!0);try{const t=g(),s=f(t);if((await fetch(`${s}/api/courses/${x}/modules/${Te.filename}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:D})})).ok)l("Module content saved","success"),N("module");else throw new Error("Save failed")}catch(t){console.error("Failed to save content",t),l("Failed to save content","error")}finally{B(!1)}}},$e=t=>{J(""),O(""),ie(t||K),W(!0)},Ve=async()=>{if(T.trim()){X(!0);try{const t=g(),s=f(t),n=await fetch(`${s}/api/courses/${x}/modules`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:T,description:V,sessionId:ae||K})});if(n.ok)l("Module created successfully","success"),W(!1),J(""),O(""),y();else{const i=await n.json();l(i.error||"Failed to create module","error")}}catch(t){console.error(t),l("Failed to create module","error")}finally{X(!1)}}},Ge=async()=>{if(!(!le||!T.trim())){X(!0);try{const t=g(),s=f(t),n=await fetch(`${s}/api/courses/${x}/modules/${le.filename}/rename`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({newTitle:T,description:V})});if(n.ok)l("Module renamed successfully","success"),E(!1),R(null),J(""),O(""),y();else{const i=await n.json();l(i.error||"Failed to rename module","error")}}catch(t){console.error(t),l("Failed to rename module","error")}finally{X(!1)}}},qe=(t,s)=>{s.stopPropagation(),R(t),J(yt(t.filename)),O(t.description||""),E(!0)},_e=(t,s)=>{s.stopPropagation(),pe(t)},He=async()=>{if(Y){Me(!0);try{const t=g(),s=f(t);(await fetch(`${s}/api/courses/${x}/modules/${Y.filename}`,{method:"DELETE"})).ok?(l("Module deleted successfully","success"),pe(null),y()):l("Failed to delete module","error")}catch(t){console.error(t),l("Failed to delete module","error")}finally{Me(!1)}}},De=async(t,s,n,i)=>{i.stopPropagation();const u=c.find(j=>j.id===t);if(!u||n==="up"&&s===0||n==="down"&&s===u.modules.length-1)return;const a=[...u.modules],M=n==="up"?s-1:s+1;[a[s],a[M]]=[a[M],a[s]],$(j=>j.map(P=>P.id===t?{...P,modules:a}:P));try{const j=g(),P=f(j);(await fetch(`${P}/api/courses/${x}/sessions/${t}/modules/order`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderedFilenames:a.map(st=>st.filename)})})).ok||l("Failed to reorder modules","error"),y()}catch(j){console.error(j),l("Failed to reorder modules","error"),y()}},Ke=async(t,s,n)=>{if(n.stopPropagation(),!(!K||t===K))try{const i=g(),u=f(i),a=await fetch(`${u}/api/courses/${x}/modules/${s.filename}/session`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetSessionId:K})});if(a.ok)l("Module removed from session","success"),y();else{const M=await a.json();l(M.error||"Failed to remove module from session","error")}}catch(i){console.error(i),l("Failed to remove module from session","error")}},We=async(t,s,n)=>{if(n.stopPropagation(),c.length<2)return;const i=c.findIndex(a=>a.id===t);if(i===-1)return;const u=c[(i+1)%c.length];if(!(!u||u.id===t))try{const a=g(),M=f(a),j=await fetch(`${M}/api/courses/${x}/modules/${s.filename}/session`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetSessionId:u.id})});if(j.ok)l(`Moved to ${u.title||"Default Session"}`,"success"),y();else{const P=await j.json();l(P.error||"Failed to move module","error")}}catch(a){console.error(a),l("Failed to move module","error")}},Qe=()=>{p(null),v(""),oe(ue[0]),o(!0)},Xe=(t,s)=>{s.stopPropagation(),p(t),v(t.title||""),oe(t.borderColor||ue[0]),o(!0)},Ye=async()=>{X(!0);try{const t=g(),s=f(t),n=d?`${s}/api/courses/${x}/sessions/${d.id}`:`${s}/api/courses/${x}/sessions`,u=await fetch(n,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:h,borderColor:ce})});if(u.ok)l(d?"Session updated":"Session created","success"),o(!1),p(null),y();else{const a=await u.json();l(a.error||"Failed to save session","error")}}catch(t){console.error(t),l("Failed to save session","error")}finally{X(!1)}},Fe=async(t,s,n)=>{if(n.stopPropagation(),s==="up"&&t===0||s==="down"&&t===c.length-1)return;const i=[...c],u=s==="up"?t-1:t+1;[i[t],i[u]]=[i[u],i[t]],$(i);try{const a=g(),M=f(a);(await fetch(`${M}/api/courses/${x}/sessions/order`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderedSessionIds:i.map(P=>P.id)})})).ok||(l("Failed to reorder sessions","error"),y())}catch(a){console.error(a),l("Failed to reorder sessions","error"),y()}},Ze=(t,s)=>{s.stopPropagation(),!(t.isDefault||t.modules.length>0)&&ge(t)},et=async()=>{if(Z){Se(!0);try{const t=g(),s=f(t),n=await fetch(`${s}/api/courses/${x}/sessions/${Z.id}`,{method:"DELETE"});if(n.ok)l("Session deleted","success"),ge(null),y();else{const i=await n.json();l(i.error||"Failed to delete session","error")}}catch(t){console.error(t),l("Failed to delete session","error")}finally{Se(!1)}}},tt=r.useMemo(()=>nt((z==null?void 0:z.content)||""),[z]);return U&&w==="home"&&fe.length===0?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(q,{className:"w-8 h-8 animate-spin text-indigo-600"})}):e.jsxs("div",{className:"h-full flex flex-col bg-neutral-50/30",children:[w!=="home"&&e.jsxs("div",{className:"flex-shrink-0 px-4 sm:px-6 py-3 border-b flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 bg-white/80 backdrop-blur-md sticky top-0 z-20",children:[e.jsx("div",{className:"flex items-center gap-3 min-h-8",children:w!=="home"&&e.jsx("button",{onClick:()=>N("home"),className:"p-2 hover:bg-neutral-100 rounded-full transition-colors text-neutral-500",title:"Back to Home",children:e.jsx(rt,{size:20})})}),w==="module"&&C.length>1&&e.jsxs("div",{className:"hidden sm:flex absolute left-1/2 -translate-x-1/2 items-center gap-2",children:[e.jsx("button",{onClick:()=>b(Math.max(0,m-1)),disabled:m===0,className:"p-1.5 bg-neutral-100 rounded-lg text-neutral-600 hover:bg-neutral-200 disabled:opacity-30 transition-colors",children:e.jsx(ve,{size:16})}),e.jsxs("div",{className:"relative",ref:S,children:[e.jsx("button",{onClick:()=>I(!te),className:"flex flex-col items-center hover:bg-neutral-100 rounded-lg px-4 py-1 transition-colors min-w-[140px]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-xs text-neutral-900 truncate max-w-[120px]",children:z==null?void 0:z.title}),e.jsx(lt,{size:10,className:"text-neutral-400"})]})}),te&&e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-64 bg-white rounded-xl shadow-2xl border border-neutral-100 p-1 animate-in fade-in zoom-in-95 origin-top z-50",children:e.jsx("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:C.map((t,s)=>e.jsxs("button",{onClick:()=>{b(s),I(!1)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-bold truncate ${s===m?"bg-indigo-50 text-indigo-700":"text-neutral-600 hover:bg-neutral-50"}`,children:[e.jsx("span",{className:"inline-block w-4 text-neutral-300 font-mono text-[10px]",children:s+1}),t.title]},s))})})]}),e.jsx("button",{onClick:()=>b(Math.min(C.length-1,m+1)),disabled:m===C.length-1,className:"p-1.5 bg-neutral-100 rounded-lg text-neutral-600 hover:bg-neutral-200 disabled:opacity-30 transition-colors",children:e.jsx(be,{size:16})})]}),e.jsx("div",{className:"flex items-center gap-2",children:w==="edit"?e.jsxs("button",{onClick:Je,disabled:F,className:"flex items-center gap-2 px-4 py-2 text-xs font-black bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50 transition-all shadow-lg shadow-indigo-200 active:scale-95 uppercase tracking-widest",children:[F?e.jsx(q,{size:14,className:"animate-spin"}):e.jsx(at,{size:14}),"Save Changes"]}):w==="module"?e.jsxs("button",{onClick:()=>N("edit"),className:"flex items-center gap-2 px-4 py-2 text-xs font-black border-2 border-neutral-100 bg-white text-neutral-600 rounded-xl hover:bg-neutral-50 transition-all active:scale-95 uppercase tracking-widest",children:[e.jsx(de,{size:14}),"Edit Content"]}):null}),w==="module"&&C.length>1&&e.jsxs("div",{className:"flex sm:hidden items-center justify-between gap-2 w-full",children:[e.jsxs("button",{onClick:()=>b(Math.max(0,m-1)),disabled:m===0,className:"flex-1 flex items-center justify-center gap-1 p-2 bg-neutral-100 rounded-lg text-neutral-600 disabled:opacity-30",children:[e.jsx(ve,{size:16}),"Prev"]}),e.jsx("div",{className:"text-[11px] font-bold text-neutral-500 truncate text-center flex-1",children:z==null?void 0:z.title}),e.jsxs("button",{onClick:()=>b(Math.min(C.length-1,m+1)),disabled:m===C.length-1,className:"flex-1 flex items-center justify-center gap-1 p-2 bg-neutral-100 rounded-lg text-neutral-600 disabled:opacity-30",children:["Next",e.jsx(be,{size:16})]})]})]}),e.jsx("div",{className:"flex-grow overflow-hidden relative",children:w==="home"?e.jsx("div",{className:"h-full overflow-y-auto p-6 md:p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"mb-6 text-center relative",children:[e.jsx("h1",{className:"text-3xl font-black text-neutral-900 tracking-tight mb-2",children:_}),e.jsx("p",{className:"text-sm font-medium text-neutral-500",children:"Master your skills with structured sessions and modules."}),e.jsxs("div",{className:"absolute right-0 top-0 flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>Be(t=>!t),className:`px-4 py-2.5 rounded-xl transition-all shadow-sm border flex items-center gap-2 font-bold text-xs ${ne?"bg-neutral-900 text-white border-neutral-900":"bg-white text-neutral-600 border-neutral-200 hover:text-neutral-900 hover:border-neutral-300"}`,title:ne?"Done Editing":"Edit Sessions",children:[e.jsx(de,{size:14}),e.jsx("span",{children:ne?"Done":"Edit"})]}),e.jsx("button",{onClick:Qe,className:"p-3 bg-white border border-neutral-200 text-neutral-700 rounded-xl shadow-sm hover:bg-neutral-50 transition-all active:scale-95",title:"New Session",children:e.jsx(je,{size:18})}),e.jsx("button",{onClick:()=>$e(K),className:"p-3 bg-neutral-900 text-white rounded-xl shadow-lg hover:bg-neutral-800 transition-all active:scale-95",title:"Add Module",children:e.jsx(he,{size:18})})]})]}),U?e.jsx("div",{className:"flex justify-center p-10",children:e.jsx(q,{className:"w-8 h-8 animate-spin text-neutral-300"})}):e.jsx("div",{className:"space-y-4",children:c.map((t,s)=>e.jsxs("div",{className:"rounded-2xl bg-white border p-3",style:{borderColor:t.borderColor||"#22c55e"},children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[e.jsx("div",{className:"min-h-5 text-sm font-black text-neutral-900 truncate",children:t.title||""}),ne&&e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[e.jsx("button",{onClick:n=>$e(t.id),className:"p-1.5 text-neutral-400 hover:text-neutral-900 hover:bg-neutral-100 rounded-md transition-colors",title:"Add Module To Session",children:e.jsx(je,{size:13})}),e.jsx("button",{onClick:n=>Fe(s,"up",n),disabled:s===0,className:"p-1.5 text-neutral-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors disabled:opacity-30",title:"Move Session Up",children:e.jsx(Ce,{size:13})}),e.jsx("button",{onClick:n=>Fe(s,"down",n),disabled:s===c.length-1,className:"p-1.5 text-neutral-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors disabled:opacity-30",title:"Move Session Down",children:e.jsx(Ne,{size:13})}),e.jsx("button",{onClick:n=>Xe(t,n),className:"p-1.5 text-neutral-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",title:"Edit Session",children:e.jsx(de,{size:13})}),e.jsx("button",{onClick:n=>Ze(t,n),disabled:t.isDefault||t.modules.length>0,className:"p-1.5 text-neutral-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors disabled:opacity-30",title:t.isDefault?"Default session cannot be deleted":t.modules.length>0?"Only empty session can be deleted":"Delete Session",children:e.jsx(ye,{size:13})})]})]}),t.modules.length===0?e.jsx("div",{className:"text-xs font-bold text-neutral-400 px-2 py-4 border border-dashed border-neutral-200 rounded-xl",children:"Empty session"}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:t.modules.map((n,i)=>{var u;return e.jsxs("div",{onClick:()=>Re(n),className:"group relative flex items-start gap-3 p-3 rounded-2xl border border-neutral-100 bg-white hover:bg-neutral-900 hover:border-neutral-900 hover:shadow-lg transition-all active:scale-95 text-left cursor-pointer",children:[e.jsx("div",{className:"p-2 rounded-xl bg-indigo-50 text-indigo-600 group-hover:scale-110 transition-transform shrink-0 mt-0.5",children:e.jsx(he,{size:16})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-black text-neutral-900 group-hover:text-white transition-colors tracking-tight leading-tight line-clamp-2",children:n.title}),e.jsx("div",{className:"mt-1 text-[10px] font-medium text-neutral-400 group-hover:text-neutral-300 transition-colors leading-snug line-clamp-2",children:((u=n.description)==null?void 0:u.trim())||"No description yet."})]}),e.jsx("div",{className:"w-auto",children:ne&&e.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 mt-0.5",children:[e.jsx("button",{onClick:a=>De(t.id,i,"up",a),disabled:i===0,className:"p-1 text-neutral-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors disabled:opacity-30",title:"Move Up",children:e.jsx(Ce,{size:13})}),e.jsx("button",{onClick:a=>De(t.id,i,"down",a),disabled:i===t.modules.length-1,className:"p-1 text-neutral-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors disabled:opacity-30",title:"Move Down",children:e.jsx(Ne,{size:13})}),e.jsx("button",{onClick:a=>qe(n,a),className:"p-1 text-neutral-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",title:"Rename",children:e.jsx(de,{size:13})}),c.length>1&&e.jsx("button",{onClick:a=>We(t.id,n,a),className:"p-1 text-neutral-400 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Move To Next Session",children:e.jsx(it,{size:13})}),!t.isDefault&&e.jsx("button",{onClick:a=>Ke(t.id,n,a),className:"p-1 text-neutral-400 hover:text-amber-600 hover:bg-amber-50 rounded-md transition-colors",title:"Remove From Session",children:e.jsx(ht,{size:13})}),e.jsx("button",{onClick:a=>_e(n,a),className:"p-1 text-neutral-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete Module",children:e.jsx(ye,{size:13})})]})})]},n.id)})})]},t.id))})]})}):w==="edit"?e.jsx("div",{className:"h-full flex flex-col",children:e.jsx("textarea",{value:D,onChange:t=>ee(t.target.value),className:"flex-grow w-full p-8 text-sm resize-none focus:outline-none font-mono leading-relaxed bg-neutral-50/50",placeholder:"# Module Title\\n\\nIntro content...\\n\\n## Section 1\\n\\nContent..."})}):e.jsx("div",{className:"h-full overflow-y-auto px-6 py-4 md:px-8 md:py-6 bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"prose prose-neutral max-w-none prose-headings:font-black prose-headings:tracking-tight prose-p:leading-relaxed prose-strong:font-black prose-a:text-indigo-600 prose-img:rounded-3xl prose-img:shadow-xl",dangerouslySetInnerHTML:{__html:tt}}),e.jsxs("div",{className:"mt-16 pt-8 border-t flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>b(Math.max(0,m-1)),disabled:m===0,className:"flex items-center gap-2 px-4 py-2 rounded-xl font-bold text-sm text-neutral-500 hover:bg-neutral-100 disabled:opacity-0 transition-colors",children:[e.jsx(ve,{size:18})," Previous"]}),e.jsx("button",{onClick:()=>N("home"),className:"px-4 py-2 rounded-xl font-black text-[10px] uppercase tracking-widest text-neutral-400 hover:text-neutral-900 hover:bg-neutral-50 transition-colors",children:"Back to Overview"}),e.jsxs("button",{onClick:()=>b(Math.min(C.length-1,m+1)),disabled:m===C.length-1,className:"flex items-center gap-2 px-4 py-2 rounded-xl font-bold text-sm text-indigo-600 hover:bg-indigo-50 disabled:opacity-0 transition-colors",children:["Next ",e.jsx(be,{size:18})]})]})]})})}),se&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-6 animate-in zoom-in-95",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-neutral-900",children:"New Module"}),e.jsx("button",{onClick:()=>W(!1),className:"p-2 hover:bg-neutral-100 rounded-full text-neutral-400",children:e.jsx(xe,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Module Title"}),e.jsx("input",{type:"text",value:T,onChange:t=>J(t.target.value),className:"w-full p-4 bg-neutral-50 border border-neutral-200 rounded-xl font-bold text-neutral-900 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g. Writing Task 1",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Short Description"}),e.jsx("textarea",{value:V,onChange:t=>O(t.target.value.slice(0,Q)),rows:3,className:"w-full p-3 bg-neutral-50 border border-neutral-200 rounded-xl font-medium text-sm text-neutral-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"A short summary shown on the module card..."}),e.jsxs("div",{className:"text-[10px] font-bold text-neutral-400 mt-1 text-right",children:[V.length,"/",Q]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Session"}),e.jsx("select",{value:ae||K,onChange:t=>ie(t.target.value),className:"w-full p-3 bg-neutral-50 border border-neutral-200 rounded-xl font-bold text-neutral-900 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:c.map(t=>e.jsx("option",{value:t.id,children:t.title||"(Default Session)"},t.id))})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>W(!1),className:"px-6 py-3 rounded-xl font-bold text-neutral-500 hover:bg-neutral-100 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:Ve,disabled:!T.trim()||G,className:"px-6 py-3 rounded-xl font-black text-white bg-neutral-900 hover:bg-neutral-800 disabled:opacity-50 transition-colors flex items-center gap-2",children:[G&&e.jsx(q,{size:16,className:"animate-spin"}),"Create Module"]})]})]})]})}),re&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-6 animate-in zoom-in-95",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-neutral-900",children:"Rename Module"}),e.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-neutral-100 rounded-full text-neutral-400",children:e.jsx(xe,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Module Title"}),e.jsx("input",{type:"text",value:T,onChange:t=>J(t.target.value),className:"w-full p-4 bg-neutral-50 border border-neutral-200 rounded-xl font-bold text-neutral-900 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g. Writing Task 1",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Short Description"}),e.jsx("textarea",{value:V,onChange:t=>O(t.target.value.slice(0,Q)),rows:3,className:"w-full p-3 bg-neutral-50 border border-neutral-200 rounded-xl font-medium text-sm text-neutral-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"A short summary shown on the module card..."}),e.jsxs("div",{className:"text-[10px] font-bold text-neutral-400 mt-1 text-right",children:[V.length,"/",Q]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-6 py-3 rounded-xl font-bold text-neutral-500 hover:bg-neutral-100 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:Ge,disabled:!T.trim()||G,className:"px-6 py-3 rounded-xl font-black text-white bg-neutral-900 hover:bg-neutral-800 disabled:opacity-50 transition-colors flex items-center gap-2",children:[G&&e.jsx(q,{size:16,className:"animate-spin"}),"Save Changes"]})]})]})]})}),me&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-6 animate-in zoom-in-95",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-neutral-900",children:d?"Edit Session":"New Session"}),e.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-neutral-100 rounded-full text-neutral-400",children:e.jsx(xe,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Session Title"}),e.jsx("input",{type:"text",value:h,onChange:t=>v(t.target.value),className:"w-full p-4 bg-neutral-50 border border-neutral-200 rounded-xl font-bold text-neutral-900 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Leave blank for no title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Border Color"}),e.jsx("div",{className:"flex items-center gap-2",children:ue.map(t=>e.jsx("button",{onClick:()=>oe(t),className:`w-8 h-8 rounded-full border-2 transition-all ${ce===t?"ring-2 ring-neutral-900 ring-offset-2":"border-white"}`,style:{backgroundColor:t},title:t},t))})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-6 py-3 rounded-xl font-bold text-neutral-500 hover:bg-neutral-100 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:Ye,disabled:G,className:"px-6 py-3 rounded-xl font-black text-white bg-neutral-900 hover:bg-neutral-800 disabled:opacity-50 transition-colors flex items-center gap-2",children:[G&&e.jsx(q,{size:16,className:"animate-spin"}),d?"Save Session":"Create Session"]})]})]})]})}),e.jsx(we,{isOpen:!!Y,title:"Delete Module?",message:e.jsxs("span",{children:["Are you sure you want to delete ",e.jsxs("span",{className:"font-bold text-neutral-900",children:['"',Y==null?void 0:Y.title,'"']}),"? This action cannot be undone."]}),confirmText:"Delete Module",isProcessing:Ue,onConfirm:He,onClose:()=>pe(null),icon:e.jsx(ke,{size:40,className:"text-red-500"}),confirmButtonClass:"bg-red-600 text-white hover:bg-red-700 shadow-red-200"}),e.jsx(we,{isOpen:!!Z,title:"Delete Session?",message:e.jsxs("span",{children:["Delete session ",e.jsxs("span",{className:"font-bold text-neutral-900",children:['"',(Z==null?void 0:Z.title)||"(Untitled)",'"']}),"? Session must be empty before delete."]}),confirmText:"Delete Session",isProcessing:Ae,onConfirm:et,onClose:()=>ge(null),icon:e.jsx(ke,{size:40,className:"text-red-500"}),confirmButtonClass:"bg-red-600 text-white hover:bg-red-700 shadow-red-200"})]})},Oe=[{name:"BookOpen",icon:he},{name:"Video",icon:jt},{name:"Mic",icon:ct},{name:"PenTool",icon:vt},{name:"GraduationCap",icon:dt},{name:"Globe",icon:ut},{name:"Layout",icon:bt},{name:"Code",icon:gt},{name:"Music",icon:mt},{name:"Calculator",icon:pt},{name:"FlaskConical",icon:ft},{name:"Briefcase",icon:xt}],Pe=[{bg:"bg-rose-50",text:"text-rose-600",border:"hover:border-rose-200",iconBg:"group-hover:bg-rose-100",hoverText:"group-hover:text-rose-700"},{bg:"bg-orange-50",text:"text-orange-600",border:"hover:border-orange-200",iconBg:"group-hover:bg-orange-100",hoverText:"group-hover:text-orange-700"},{bg:"bg-amber-50",text:"text-amber-600",border:"hover:border-amber-200",iconBg:"group-hover:bg-amber-100",hoverText:"group-hover:text-amber-700"},{bg:"bg-emerald-50",text:"text-emerald-600",border:"hover:border-emerald-200",iconBg:"group-hover:bg-emerald-100",hoverText:"group-hover:text-emerald-700"},{bg:"bg-cyan-50",text:"text-cyan-600",border:"hover:border-cyan-200",iconBg:"group-hover:bg-cyan-100",hoverText:"group-hover:text-cyan-700"},{bg:"bg-blue-50",text:"text-blue-600",border:"hover:border-blue-200",iconBg:"group-hover:bg-blue-100",hoverText:"group-hover:text-blue-700"},{bg:"bg-indigo-50",text:"text-indigo-600",border:"hover:border-indigo-200",iconBg:"group-hover:bg-indigo-100",hoverText:"group-hover:text-indigo-700"},{bg:"bg-violet-50",text:"text-violet-600",border:"hover:border-violet-200",iconBg:"group-hover:bg-violet-100",hoverText:"group-hover:text-violet-700"},{bg:"bg-fuchsia-50",text:"text-fuchsia-600",border:"hover:border-fuchsia-200",iconBg:"group-hover:bg-fuchsia-100",hoverText:"group-hover:text-fuchsia-700"},{bg:"bg-pink-50",text:"text-pink-600",border:"hover:border-pink-200",iconBg:"group-hover:bg-pink-100",hoverText:"group-hover:text-pink-700"}],zt=({initialCourseId:x,onConsumeInitialCourseId:_})=>{const{showToast:l}=Le(),[c,$]=r.useState([]),[k,H]=r.useState(null),[D,ee]=r.useState(!0),[w,N]=r.useState(!1),[U,A]=r.useState(null),[F,B]=r.useState(""),[m,b]=r.useState("BookOpen"),[te,I]=r.useState(!1),[S,se]=r.useState(null),[W,re]=r.useState(!1),[E,le]=r.useState(!1),R=async()=>{ee(!0);try{const o=g(),d=f(o),p=await fetch(`${d}/api/courses`);if(p.ok){const h=await p.json();$(h)}}catch(o){console.error("Failed to load courses",o),l("Failed to load courses","error")}finally{ee(!1)}};r.useEffect(()=>{R()},[l]),r.useEffect(()=>{if(x&&c.length>0){const o=c.find(d=>d.id===x);o&&(H(o),_&&_())}},[x,c,_]);const T=async()=>{if(F.trim()){I(!0);try{const o=g(),d=f(o),p=await fetch(`${d}/api/courses`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:F,icon:m})});if(p.ok)l("Course created successfully","success"),N(!1),B(""),b("BookOpen"),R();else{const h=await p.json();l(h.error||"Failed to create course","error")}}catch(o){console.error(o),l("Failed to create course","error")}finally{I(!1)}}},J=async()=>{if(!(!U||!F.trim())){I(!0);try{const o=g(),d=f(o);(await fetch(`${d}/api/courses/${U.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:F,icon:m})})).ok?(l("Course updated successfully","success"),N(!1),A(null),B(""),b("BookOpen"),R()):l("Failed to update course","error")}catch(o){console.error(o),l("Failed to update course","error")}finally{I(!1)}}},Q=(o,d)=>{d.stopPropagation(),d.preventDefault(),se(o)},V=async()=>{if(S){re(!0);try{const o=g(),d=f(o);(await fetch(`${d}/api/courses/${S.id}`,{method:"DELETE"})).ok?(l("Course deleted successfully","success"),se(null),R()):l("Failed to delete course","error")}catch(o){console.error(o),l("Failed to delete course","error")}finally{re(!1)}}},O=async(o,d,p)=>{p.stopPropagation(),p.preventDefault();const h=[...c];if(d==="up"&&o>0)[h[o],h[o-1]]=[h[o-1],h[o]];else if(d==="down"&&o<h.length-1)[h[o],h[o+1]]=[h[o+1],h[o]];else return;$(h);try{const v=g(),ce=f(v),oe=h.map(G=>G.id);await fetch(`${ce}/api/courses/order`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderedIds:oe})})}catch(v){console.error("Failed to reorder courses",v),l("Failed to save order","error"),R()}},ae=()=>{A(null),B(""),b("BookOpen"),N(!0)},ie=(o,d)=>{d.stopPropagation(),d.preventDefault(),A(o),B(o.title),b(o.icon||"BookOpen"),N(!0)},me=o=>{const d=Oe.find(p=>p.name===o);return d?d.icon:he};return k?e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b flex items-center bg-white/80 backdrop-blur-md sticky top-0 z-20",children:e.jsx("button",{onClick:()=>H(null),className:"text-sm font-bold text-neutral-500 hover:text-neutral-900 transition-colors",children:"Back to Courses"})}),e.jsx("div",{className:"flex-grow overflow-hidden",children:e.jsx(kt,{courseId:k.id,courseTitle:k.title})})]}):e.jsxs("div",{className:"h-full overflow-y-auto",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-neutral-900 tracking-tight",children:"Course Library"}),e.jsx("p",{className:"text-neutral-500 mt-2 font-medium",children:"Select a course to start learning."})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs("button",{onClick:()=>le(o=>!o),className:`px-4 py-3 rounded-xl transition-all shadow-sm border flex items-center gap-2 font-bold text-xs ${E?"bg-neutral-900 text-white border-neutral-900":"bg-white text-neutral-600 border-neutral-200 hover:text-neutral-900 hover:border-neutral-300"}`,title:E?"Done Editing":"Edit Courses",children:[e.jsx(Ee,{size:16}),e.jsx("span",{children:E?"Done":"Edit"})]}),e.jsxs("button",{onClick:ae,className:"flex items-center gap-2.5 p-2 bg-white border border-neutral-200 rounded-2xl hover:border-indigo-400 hover:shadow-sm transition-all group shrink-0",title:"Create New Course",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform shrink-0",children:e.jsx(je,{size:18,className:"text-indigo-600"})}),e.jsx("span",{className:"text-sm font-black text-neutral-900 pr-3",children:"New Course"})]})]})]}),D?e.jsx("div",{className:"flex justify-center p-10",children:e.jsx(q,{className:"w-8 h-8 animate-spin text-neutral-300"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:c.map((o,d)=>{const p=me(o.icon),h=Pe[d%Pe.length];return e.jsxs("div",{onClick:()=>H(o),className:`group relative flex items-center p-4 bg-white border border-neutral-200 rounded-2xl ${h.border} hover:shadow-md transition-all text-left active:scale-[0.99] cursor-pointer h-24`,children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${h.bg} flex items-center justify-center ${h.text} ${h.iconBg} transition-colors mr-3 shrink-0`,children:e.jsx(p,{size:20})}),e.jsxs("div",{className:"flex-grow min-w-0 pr-16",children:[e.jsx("h3",{className:`text-sm font-black text-neutral-900 ${h.hoverText} transition-colors leading-tight line-clamp-2`,children:o.title}),o.isSystem&&e.jsx("span",{className:"text-[10px] font-bold text-neutral-400 uppercase tracking-wider mt-1 block",children:"System"})]}),E&&e.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex flex-col gap-1",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:v=>O(d,"up",v),disabled:d===0,className:"p-1.5 text-neutral-300 hover:text-neutral-600 hover:bg-neutral-100 rounded-lg disabled:opacity-30",title:"Move Up",children:e.jsx(Ce,{size:14})}),e.jsx("button",{onClick:v=>O(d,"down",v),disabled:d===c.length-1,className:"p-1.5 text-neutral-300 hover:text-neutral-600 hover:bg-neutral-100 rounded-lg disabled:opacity-30",title:"Move Down",children:e.jsx(Ne,{size:14})})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:v=>ie(o,v),className:"p-1.5 text-neutral-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Edit",children:e.jsx(Ee,{size:14})}),!o.isSystem&&e.jsx("button",{onClick:v=>Q(o,v),className:"p-1.5 text-neutral-300 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:e.jsx(ye,{size:14})})]})]})]},o.id)})})]}),w&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-6 animate-in zoom-in-95",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-neutral-900",children:U?"Edit Course":"New Course"}),e.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-neutral-100 rounded-full text-neutral-400",children:e.jsx(xe,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Course Title"}),e.jsx("input",{type:"text",value:F,onChange:o=>B(o.target.value),className:"w-full p-4 bg-neutral-50 border border-neutral-200 rounded-xl font-bold text-neutral-900 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g. Advanced Grammar",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Icon"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:Oe.map(({name:o,icon:d})=>e.jsx("button",{onClick:()=>b(o),className:`p-3 rounded-xl flex items-center justify-center transition-all ${m===o?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30 scale-110":"bg-neutral-50 text-neutral-400 hover:bg-neutral-100 hover:text-neutral-600"}`,children:e.jsx(d,{size:20})},o))})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:()=>N(!1),className:"px-6 py-3 rounded-xl font-bold text-neutral-500 hover:bg-neutral-100 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:U?J:T,disabled:!F.trim()||te,className:"px-6 py-3 rounded-xl font-black text-white bg-neutral-900 hover:bg-neutral-800 disabled:opacity-50 transition-colors flex items-center gap-2",children:[te&&e.jsx(q,{size:16,className:"animate-spin"}),U?"Save Changes":"Create Course"]})]})]})]})}),e.jsx(we,{isOpen:!!S,title:"Delete Course?",message:e.jsxs("span",{children:["Are you sure you want to delete ",e.jsxs("span",{className:"font-bold text-neutral-900",children:['"',S==null?void 0:S.title,'"']}),"? This action cannot be undone."]}),confirmText:"Delete Course",isProcessing:W,onConfirm:V,onClose:()=>se(null),icon:e.jsx(ke,{size:40,className:"text-red-500"}),confirmButtonClass:"bg-red-600 text-white hover:bg-red-700 shadow-red-200"})]})};export{zt as CourseList};
