import{c as we,r as s,_ as ve,ag as Ne,Y as ye,j as e,aM as Se,P as Te,ay as te,bD as re,ad as le,g as Ce,az as ke,aA as ae,bE as Ie,X as D,as as Ae,at as Pe,be as se,bF as Fe,bG as ze,ah as Ee,E as Z}from"./index-Dqca_GqM.js";import{R as Le,a as Me}from"./ResourceActions-B5EgBhim.js";import{V as Oe}from"./ViewMenu-DQlrjKkl.js";import{U as $e}from"./UniversalCard-QZVKuyTG.js";import{T as Re}from"./TagBrowser-CSUmTacv.js";import{M as Ue,F as oe}from"./FileSelector-D4cHnuW3.js";import{I as Be}from"./InteractiveTranscript-Dv2PEVif.js";import{E as ce}from"./ear-CwA3V32v.js";import{T as Ve}from"./tag-CGTOuiqr.js";import{S as _e}from"./skip-forward-DSttRhFK.js";import"./chevron-left-DKEjHSBK.js";import"./filter-DcwfCqF5.js";import"./server-CcHmoeTH.js";import"./list-todo-C3PXANLH.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=we("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),ne="vocab_pro_listening_view",qe=({isOpen:N,onClose:O,item:b,onUpdate:r,showDash:$,onToggleDash:V})=>{const u=b.audioLinks||[],[l,T]=s.useState(0),[C,p]=s.useState(!1),[j,U]=s.useState(0),[k,E]=s.useState(0),[w,_]=s.useState(b.text),[f,L]=s.useState(!1),x=s.useRef(null),P=s.useRef(null),i=s.useRef(null);s.useEffect(()=>()=>{I(),P.current&&clearTimeout(P.current)},[]),s.useEffect(()=>{N?(_(b.text),F(0,!1)):(I(),T(0))},[N,b.id]);const W=n=>{_(n),P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{r({...b,text:n})},1500)},I=()=>{x.current&&x.current.pause(),se(),p(!1),i.current=null},F=(n,h)=>{if(I(),T(n),u.length>0&&u[n]){const z=u[n];let d=x.current;d||(d=new Audio,x.current=d),d=new Audio(z),x.current=d,d.addEventListener("loadedmetadata",()=>{U(d.duration)}),d.addEventListener("timeupdate",()=>{d&&(E(d.currentTime),i.current!==null&&d.currentTime>=i.current&&(d.pause(),p(!1),i.current=null))}),d.addEventListener("ended",()=>{p(!1),i.current=null,i.current}),d.addEventListener("error",()=>{p(!1)}),h&&(d.play().catch(console.error),p(!0))}},Q=()=>{if(u.length>0)x.current?C?(x.current.pause(),p(!1)):(i.current=null,x.current.play().catch(console.error),p(!0)):F(l,!0);else if(C)se(),p(!1);else{const n=b.text.replace(/[{}]/g,"").replace(/\[|\]/g,"").replace(/\(.*?\|.*?\)/g,"");Z(n),p(!0);const h=n.length/10*1e3;setTimeout(()=>p(!1),h)}},o=n=>{const h=Number(n.target.value);E(h),x.current&&(x.current.currentTime=h)},m=()=>{l>0&&F(l-1,!0)},v=()=>{l<u.length-1&&F(l+1,!0)},A=(n,h,z,d)=>{if(!n){Z(d);return}let q=u.findIndex(B=>B===n||decodeURIComponent(B).endsWith(n)||B.includes(n));if(q===-1){console.warn("Audio file not found for segment:",n),Z(d);return}if(q===l&&x.current)h!==void 0&&(x.current.currentTime=h),z!==void 0?i.current=(h||0)+z:i.current=null,x.current.play().catch(console.error),p(!0);else{I(),T(q);const B=u[q],y=new Audio(B);x.current=y,y.addEventListener("loadedmetadata",()=>{U(y.duration),h!==void 0&&(y.currentTime=h),z!==void 0&&(i.current=(h||0)+z),y.play().catch(console.error),p(!0)}),y.addEventListener("timeupdate",()=>{E(y.currentTime),i.current!==null&&y.currentTime>=i.current&&(y.pause(),p(!1),i.current=null)}),y.addEventListener("ended",()=>p(!1))}},M=()=>{I(),O()};if(!N)return null;const J=u.length>0?decodeURIComponent(u[l].split("/").pop()||`Track ${l+1}`):"System Voice (TTS)",Y=n=>{const h=Math.floor(n/60),z=Math.floor(n%60);return`${h}:${z.toString().padStart(2,"0")}`};return e.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-7xl rounded-[2.5rem] shadow-2xl border border-neutral-200 flex flex-col h-[90vh] overflow-hidden",children:[e.jsxs("header",{className:"px-8 py-6 border-b border-neutral-100 flex justify-between items-center bg-white z-10 shrink-0",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-neutral-900 flex items-center gap-2",children:[e.jsx(ce,{size:20})," Listening Practice"]}),e.jsx("p",{className:"text-xs text-neutral-500 font-bold mt-1 max-w-[250px] truncate",children:b.title||b.note||"Practice Session"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"bg-neutral-100 p-1 rounded-xl flex items-center",children:[e.jsx("button",{onClick:V,className:`p-2 rounded-lg transition-all ${$?"bg-white shadow-sm text-indigo-600":"text-neutral-400 hover:text-neutral-600"}`,title:"Toggle Audio Marks",children:e.jsx(Fe,{size:16})}),e.jsx("div",{className:"w-px h-4 bg-neutral-200 mx-1"}),e.jsx("button",{onClick:()=>L(!1),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${f?"text-neutral-500":"bg-white shadow-sm text-neutral-900"}`,children:"Read"}),e.jsx("button",{onClick:()=>L(!0),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${f?"bg-white shadow-sm text-neutral-900":"text-neutral-500"}`,children:"Edit Raw"})]}),e.jsx("button",{onClick:M,className:"p-2 text-neutral-400 hover:bg-neutral-100 rounded-full",children:e.jsx(D,{size:20})})]})]}),e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden relative bg-neutral-50/50",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar relative",children:f?e.jsx("textarea",{value:w,onChange:n=>W(n.target.value),className:"w-full h-full p-6 bg-white border border-neutral-200 rounded-2xl resize-none outline-none text-lg font-medium leading-relaxed font-mono text-neutral-700 shadow-sm",placeholder:"Paste transcript here..."}):e.jsx("div",{className:"h-full flex flex-col bg-white border border-neutral-200 rounded-2xl shadow-sm p-8 overflow-y-auto",children:e.jsx(Be,{rawText:w,onUpdate:W,showDash:$,audioLinks:u,onPlaySegment:A})})})}),e.jsxs("div",{className:"px-6 py-3 bg-white border-t border-neutral-100 shrink-0 flex items-center gap-4",children:[e.jsxs("div",{className:"w-48 shrink-0",children:[e.jsx("h4",{className:"text-xs font-bold text-neutral-900 truncate",children:J}),u.length>1&&e.jsxs("p",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest",children:["Track ",l+1,"/",u.length]})]}),e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[e.jsx("button",{onClick:m,disabled:l===0,className:"p-2 text-neutral-400 hover:text-neutral-900 disabled:opacity-30 transition-colors",children:e.jsx(We,{size:18,fill:"currentColor"})}),e.jsx("button",{onClick:Q,className:"w-10 h-10 bg-neutral-900 text-white rounded-full flex items-center justify-center shadow-md hover:scale-105 active:scale-95 transition-all",children:C?e.jsx(ze,{size:16,fill:"currentColor"}):e.jsx(Ee,{size:16,fill:"currentColor",className:"ml-0.5"})}),e.jsx("button",{onClick:v,disabled:l===u.length-1,className:"p-2 text-neutral-400 hover:text-neutral-900 disabled:opacity-30 transition-colors",children:e.jsx(_e,{size:18,fill:"currentColor"})}),e.jsxs("div",{className:"flex-1 flex items-center gap-3 ml-2",children:[e.jsx("span",{className:"text-[10px] font-mono font-bold text-neutral-400 w-8 text-right",children:Y(k)}),e.jsxs("div",{className:"flex-1 h-1.5 bg-neutral-100 rounded-full relative group cursor-pointer",children:[u.length>0&&e.jsx("input",{type:"range",min:"0",max:j||100,value:k,onChange:o,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),e.jsx("div",{className:"absolute top-0 left-0 h-full bg-neutral-900 rounded-full transition-all",style:{width:`${j?k/j*100:0}%`}})]}),e.jsx("span",{className:"text-[10px] font-mono font-bold text-neutral-400 w-8 text-left",children:Y(j)})]})]})]})]})})},Ge=({isOpen:N,onClose:O,onSave:b,initialData:r})=>{const[$,V]=s.useState(""),[u,l]=s.useState(""),[T,C]=s.useState(""),[p,j]=s.useState("/"),[U,k]=s.useState(""),[E,w]=s.useState([]),[_,f]=s.useState(!1),[L,x]=s.useState(null),[P,i]=s.useState(!1);s.useEffect(()=>{var o;if(N)if(V((r==null?void 0:r.title)||""),l((r==null?void 0:r.text)||""),C((r==null?void 0:r.note)||""),w((r==null?void 0:r.audioLinks)||[]),(r==null?void 0:r.path)===void 0){const m=(r==null?void 0:r.tags)||[],v=m.find(M=>M.startsWith("/")),A=m.filter(M=>!M.startsWith("/"));j(v||"/"),k(A.join(", "))}else j((r==null?void 0:r.path)||"/"),k(((o=r==null?void 0:r.tags)==null?void 0:o.join(", "))||"")},[N,r]);const W=o=>{if(o.preventDefault(),u.trim()){const m=U.split(",").map(v=>v.trim()).filter(Boolean);b($.trim(),u.trim(),T.trim(),p.trim(),m,E)}},I=o=>{const{url:m,transcript:v}=o;w(A=>[...A,m]),v&&(u.trim()?(x(v),i(!0)):l(v))},F=()=>{L&&l(L),x(null),i(!1)},Q=o=>{w(m=>m.filter((v,A)=>A!==o))};return N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("form",{onSubmit:W,className:"bg-white w-full max-w-lg rounded-[2.5rem] shadow-2xl border border-neutral-200 flex flex-col max-h-[90vh]",children:[e.jsxs("header",{className:"px-8 py-6 border-b border-neutral-100 flex justify-between items-start shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-neutral-900",children:r?"Edit Listening Card":"New Listening Card"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"Add text script and attach audio."})]}),e.jsx("button",{type:"button",onClick:O,className:"p-2 -mr-2 text-neutral-400 hover:bg-neutral-100 rounded-full",children:e.jsx(D,{size:20})})]}),e.jsxs("main",{className:"p-8 space-y-6 overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500",children:"Title"}),e.jsx("input",{value:$,onChange:o=>V(o.target.value),placeholder:"e.g. Unit 1 Podcast",className:"w-full px-4 py-3 bg-neutral-50 border border-neutral-200 rounded-xl font-bold text-lg focus:ring-2 focus:ring-neutral-900 outline-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500",children:"Script / Transcript"}),e.jsx("div",{className:"relative",children:e.jsx("textarea",{value:u,onChange:o=>l(o.target.value),placeholder:"Paste full transcript here...",rows:6,className:"w-full p-4 bg-neutral-50 border border-neutral-200 rounded-xl font-medium resize-none focus:ring-2 focus:ring-neutral-900 outline-none text-sm leading-relaxed",required:!0})}),e.jsx("p",{className:"text-[10px] text-neutral-400 italic",children:"You can highlight key phrases in Practice mode."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500",children:"Attached Audio"}),e.jsxs("button",{type:"button",onClick:()=>f(!0),className:"flex items-center gap-1 text-[10px] font-bold text-indigo-600 hover:bg-indigo-50 px-2 py-1 rounded-lg transition-colors",children:[e.jsx(le,{size:12})," From Server"]})]}),e.jsxs("div",{className:"space-y-2",children:[E.length===0&&e.jsx("p",{className:"text-[10px] text-neutral-400 italic px-2",children:"No audio files attached."}),E.map((o,m)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[e.jsx(re,{size:14,className:"text-emerald-500 shrink-0"}),e.jsx("span",{className:"text-xs font-mono text-neutral-600 truncate",children:decodeURIComponent(o.split("/").pop()||"file")})]}),e.jsx("button",{type:"button",onClick:()=>Q(m),className:"p-1 text-neutral-400 hover:text-red-500 hover:bg-red-50 rounded-full",children:e.jsx(D,{size:14})})]},m))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500",children:"Note (Optional)"}),e.jsx("input",{value:T,onChange:o=>C(o.target.value),placeholder:"e.g. Fast speech, linking sounds...",className:"w-full px-4 py-3 bg-neutral-50 border border-neutral-200 rounded-xl font-medium text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-500",children:"Tags"}),e.jsx("input",{value:U,onChange:o=>k(o.target.value),placeholder:"linking, elision...",className:"w-full px-4 py-3 bg-neutral-50 border border-neutral-200 rounded-xl font-medium text-sm"})]})]}),e.jsx("footer",{className:"px-8 py-6 border-t border-neutral-100 flex justify-end shrink-0 bg-neutral-50/50 rounded-b-[2.5rem]",children:e.jsxs("button",{type:"submit",className:"px-6 py-3 bg-neutral-900 text-white rounded-xl font-black text-xs flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(Ae,{size:14})," Save Item"]})})]})}),e.jsx(oe,{isOpen:_,onClose:()=>f(!1),onSelect:I,type:"audio",title:"Select Audio"}),e.jsx(ae,{isOpen:P,title:"Replace Script?",message:"This audio file comes with a linked transcript. Do you want to replace your current text content with it?",confirmText:"Replace",isProcessing:!1,onConfirm:F,onClose:()=>i(!1),icon:e.jsx(Pe,{size:40,className:"text-indigo-500"}),confirmButtonClass:"bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-200"})]}):null},ot=({user:N})=>{const[O,b]=s.useState([]),[r,$]=s.useState(!0),[V,u]=s.useState(!1),[l,T]=s.useState(()=>ve(ne,{showNote:!0,compact:!1,showType:!0,showDash:!1})),[C,p]=s.useState(""),[j,U]=s.useState(null),[k,E]=s.useState(!1),[w,_]=s.useState("all"),[f,L]=s.useState("all"),[x,P]=s.useState(0),[i,W]=s.useState(12),[I,F]=s.useState(null);s.useEffect(()=>{Ne(ne,l)},[l]);const[Q,o]=s.useState(!1),[m,v]=s.useState(null),[A,M]=s.useState(null),[J,Y]=s.useState(!1),{showToast:n}=ye(),h=async()=>{$(!0);const t=await Ie(N.id);b(t.sort((c,a)=>a.createdAt-c.createdAt)),$(!1)};s.useEffect(()=>{h()},[N.id]),s.useEffect(()=>{P(0)},[j,i,w,f,C]);const z=s.useMemo(()=>w!=="all"||f!=="all",[w,f]),d=s.useMemo(()=>{let t=O;const c=C.toLowerCase().trim();return c&&(t=t.filter(a=>(a.title||"").toLowerCase().includes(c)||(a.text||"").toLowerCase().includes(c))),w==="focused"&&(t=t.filter(a=>a.isFocused)),f!=="all"&&(t=t.filter(a=>a.focusColor===f)),j&&(j==="Uncategorized"?t=t.filter(a=>{const g=a.path??(a.tags||[]).find(G=>G.startsWith("/"));return!(g&&g!=="/"&&g!=="")}):t=t.filter(a=>{var g,S;return((g=a.path)==null?void 0:g.startsWith(j))||((S=a.tags)==null?void 0:S.includes(j))})),t},[O,j,w,f,C]),q=s.useMemo(()=>{const t=x*i;return d.slice(t,t+i)},[d,x,i]),B=()=>{v(null),o(!0)},y=t=>{v(t),o(!0)},ie=async()=>{A&&(await(void 0)(A.id),M(null),n("Deleted item.","success"),h())},de=async(t,c,a,g,S,G)=>{try{const R=Date.now();m?(await(void 0)({...m,title:t,text:c,note:a,path:g,tags:S,audioLinks:G,updatedAt:R}),n("Item updated!","success")):(await(void 0)({id:`lst-${R}-${Math.random()}`,userId:N.id,title:t,text:c,note:a,path:g,tags:S,audioLinks:G,createdAt:R,updatedAt:R}),n("Item added!","success")),o(!1),h()}catch{n("Failed to save item.","error")}},ue=async t=>{const{url:c,filename:a,transcript:g,transcriptTitle:S,map:G,path:R}=t;if(!g){n("No transcript found for selected file.","error");return}const H=G||"Unknown",K=R?`/${R}`:"",be=S?`${H}${K} - ${S}`:a,X=Date.now(),je={id:`lst-scripted-${X}-${Math.random()}`,userId:N.id,title:be,text:g,note:`Imported from ${H}${K}`,path:K||"/",tags:["scripted-audio"],audioLinks:[c],createdAt:X,updatedAt:X};try{await(void 0)(je),n("Scripted Audio Card Created!","success"),h()}catch{n("Failed to create card.","error")}},xe=async t=>{await(void 0)(t),F(t),h()},he=t=>{F(t)},fe=()=>{b(t=>[...t].sort(()=>Math.random()-.5)),n("Shuffled!","success")},pe=async(t,c)=>{const a={...t,focusColor:c||void 0,updatedAt:Date.now()};c||delete a.focusColor,b(g=>g.map(S=>S.id===t.id?a:S)),await(void 0)(a)},me=async t=>{const c={...t,isFocused:!t.isFocused,updatedAt:Date.now()};b(a=>a.map(g=>g.id===t.id?c:g)),await(void 0)(c)},ee=()=>{T(t=>({...t,showDash:!t.showDash}))},ge=t=>{if(t.title)return e.jsx("div",{className:"font-black text-lg text-neutral-900 leading-tight",children:t.title});const c=t.text.split(/\s+/),a=c.length>15?c.slice(0,15).join(" ")+"...":t.text;return e.jsx("div",{className:"font-medium text-lg text-neutral-700 leading-tight",children:e.jsx(HighlightedText,{text:a,showDash:l.showDash})})};return e.jsxs(e.Fragment,{children:[e.jsx(Le,{title:"Listening Library",subtitle:"Practice listening reflexes and capture difficult phrases.",icon:e.jsx("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Objects/Headphone.png",className:"w-8 h-8 object-contain",alt:"Listening"}),query:C,onQueryChange:p,searchPlaceholder:"Search title or text...",config:{},isLoading:r,isEmpty:d.length===0,emptyMessage:"No difficult phrases saved.",activeFilters:{},onFilterChange:()=>{},pagination:{page:x,totalPages:Math.ceil(d.length/i),onPageChange:P,pageSize:i,onPageSizeChange:W,totalItems:d.length},aboveGrid:e.jsx(e.Fragment,{children:k&&e.jsx(Re,{items:O,selectedTag:j,onSelectTag:U,forcedView:"tags",title:"Browse Tags",icon:e.jsx(Ve,{size:16})})}),actions:e.jsx(Me,{viewMenu:e.jsx(Oe,{isOpen:V,setIsOpen:u,hasActiveFilters:z,customSection:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-3 py-2 text-[9px] font-black text-neutral-400 uppercase tracking-widest border-b border-neutral-50 flex items-center gap-2",children:[e.jsx(ke,{size:10})," Focus & Status"]}),e.jsxs("div",{className:"p-1 flex flex-col gap-1 bg-neutral-100 rounded-xl mb-2",children:[e.jsx("button",{onClick:()=>_(w==="all"?"focused":"all"),className:`w-full py-1.5 text-[9px] font-black rounded-lg transition-all ${w==="focused"?"bg-white shadow-sm text-red-600":"text-neutral-500 hover:text-neutral-700"}`,children:w==="focused"?"Focused Only":"All Items"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>L(f==="green"?"all":"green"),className:`flex-1 h-6 rounded-lg border-2 transition-all ${f==="green"?"bg-emerald-500 border-emerald-600":"bg-white border-neutral-200 hover:bg-emerald-50"}`}),e.jsx("button",{onClick:()=>L(f==="yellow"?"all":"yellow"),className:`flex-1 h-6 rounded-lg border-2 transition-all ${f==="yellow"?"bg-amber-400 border-amber-500":"bg-white border-neutral-200 hover:bg-amber-50"}`}),e.jsx("button",{onClick:()=>L(f==="red"?"all":"red"),className:`flex-1 h-6 rounded-lg border-2 transition-all ${f==="red"?"bg-rose-500 border-rose-600":"bg-white border-neutral-200 hover:bg-rose-50"}`})]})]})]}),viewOptions:[{label:"Show Notes",checked:l.showNote,onChange:()=>T(t=>({...t,showNote:!t.showNote}))},{label:"Show Card Type",checked:l.showType,onChange:()=>T(t=>({...t,showType:!t.showType}))},{label:"Show Dash Lines",checked:l.showDash,onChange:ee},{label:"Compact Mode",checked:l.compact,onChange:()=>T(t=>({...t,compact:!t.compact}))}]}),browseTags:{isOpen:k,onToggle:()=>{E(!k)}},addActions:[{label:"Add Scripted Audio",icon:re,onClick:()=>Y(!0)},{label:"Add Phrase",icon:le,onClick:B}],extraActions:e.jsx(e.Fragment,{children:e.jsx("button",{onClick:fe,disabled:O.length<2,className:"p-3 bg-white border border-neutral-200 text-neutral-600 rounded-xl hover:bg-neutral-50 active:scale-95 transition-all shadow-sm disabled:opacity-50",title:"Randomize",children:e.jsx(Ce,{size:16})})})}),children:()=>e.jsx(e.Fragment,{children:q.map(t=>e.jsx($e,{title:ge(t),badge:l.showType?{label:"Listening",colorClass:"bg-red-50 text-red-600 border-red-100",icon:ce}:void 0,tags:t.tags,compact:l.compact,onClick:()=>he(t),focusColor:t.focusColor,onFocusChange:c=>pe(t,c),isFocused:t.isFocused,onToggleFocus:()=>me(t),isCompleted:t.focusColor==="green",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:c=>{c.stopPropagation(),y(t)},className:"p-1.5 text-neutral-400 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",title:"Edit",children:e.jsx(Te,{size:14})}),e.jsx("button",{onClick:c=>{c.stopPropagation(),M(t)},className:"p-1.5 text-neutral-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"Delete",children:e.jsx(te,{size:14})})]}),children:e.jsxs("div",{className:"flex flex-col gap-2 h-full justify-between",children:[l.showNote&&t.note&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500 font-medium bg-neutral-50 px-2 py-1 rounded-lg w-fit",children:[e.jsx(Se,{size:12})," ",t.note]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-black text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full w-fit uppercase tracking-wider border border-emerald-100 self-start",children:[e.jsx(Ue,{size:10})," ",t.audioLinks?t.audioLinks.length:0," Tracks"]})]})},t.id))})}),e.jsx(Ge,{isOpen:Q,onClose:()=>o(!1),onSave:de,initialData:m}),I&&e.jsx(qe,{isOpen:!!I,onClose:()=>F(null),item:I,onUpdate:xe,showDash:l.showDash,onToggleDash:ee}),e.jsx(oe,{isOpen:J,onClose:()=>Y(!1),onSelect:ue,type:"audio",title:"Select Audio"}),e.jsx(ae,{isOpen:!!A,title:"Delete Phrase?",message:"Are you sure you want to remove this phrase?",confirmText:"Delete",isProcessing:!1,onConfirm:ie,onClose:()=>M(null),icon:e.jsx(te,{size:40,className:"text-red-500"})})]})};export{ot as ListeningCardPage,ot as default};
