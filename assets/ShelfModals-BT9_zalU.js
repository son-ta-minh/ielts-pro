import{c as v,j as e,X as u,i as k,a as z,r as m,$ as w}from"./index-DYhIwCf6.js";import{M as C}from"./move-7ay4kvnd.js";import{T as S}from"./target-46uWdCmU.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=v("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=v("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),j=["#5d4037","#3e2723","#1a237e","#1b5e20","#b71c1c","#0ea5e9","#10b981","#f59e0b","#ec4899","#8b5cf6","#0f172a","#171717","#334155","#450a0a","#1e1b4b","#bae6fd","#bbf7d0","#fef08a","#fecaca","#ddd6fe"],W=["#ffffff","#000000","#fef08a","#bae6fd","#fecaca","#ddd6fe","#f59e0b","#0ea5e9","#10b981","#ef4444","#8b5cf6","#ec4899","#3e2723","#1e1b4b","#1b5e20","#450a0a","#171717","#334155","#94a3b8","#475569"],$=({icon:t,className:r})=>t?(t==null?void 0:t.startsWith("http"))||(t==null?void 0:t.startsWith("data:image"))?e.jsx("img",{src:t,className:`object-contain ${r}`,alt:"Book icon"}):e.jsx("span",{className:r,children:t}):null,M=t=>{let r=0;for(let n=0;n<t.length;n++)r=t.charCodeAt(n)+((r<<5)-r);return r},_=({book:t,onClick:r,onMove:n,onDelete:s})=>{const l=t.color||j[Math.abs(M(t.id))%j.length],o=t.topic.split(":").map(b=>b.trim()),a=o.length>1?o.slice(1).join(":").trim():t.topic,d=!!(l.startsWith("http")||l.startsWith("data:image"));return e.jsx("div",{className:"group [perspective:1000px] translate-y-0 cursor-pointer",onClick:r,children:e.jsxs("div",{className:"relative w-full aspect-[5/7] rounded-lg shadow-lg transition-all duration-300 transform group-hover:shadow-2xl group-hover:shadow-black/40 group-hover:[transform:rotateY(-15deg)_scale(1.05)] overflow-hidden",style:{backgroundColor:d?"#262626":l,transformStyle:"preserve-3d",transform:"rotateY(-5deg) rotateX(2deg)"},children:[d&&e.jsx("img",{src:l,className:"absolute inset-0 w-full h-full object-cover",alt:""}),e.jsx("div",{className:"absolute top-0 left-0 bottom-0 w-6 bg-gradient-to-r from-black/40 to-transparent rounded-l-lg z-10"}),e.jsxs("div",{className:`absolute inset-2 border-2 border-black/10 rounded-sm z-10 ${d?"":"bg-black/5"}`,children:[t.icon&&e.jsx("div",{className:"absolute flex items-center justify-center w-12 h-12",style:{top:`${t.iconTop??40}%`,left:`${t.iconLeft??50}%`,transform:"translate(-50%, -50%)"},children:e.jsx($,{icon:t.icon,className:"text-4xl w-full h-full object-contain drop-shadow-lg"})}),e.jsx("h3",{className:"absolute w-full text-center font-serif font-bold leading-tight drop-shadow-md px-2 line-clamp-3",style:{color:t.titleColor||"#ffffff",fontSize:t.titleSize?`${Math.min(t.titleSize,18)}px`:"18px",top:`${t.titleTop??55}%`,left:`${t.titleLeft??50}%`,transform:"translate(-50%, -50%)"},children:a})]}),!d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute top-4 left-4 right-4 h-px bg-gradient-to-r from-transparent via-white/40 to-transparent z-10"}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4 h-px bg-gradient-to-r from-transparent via-white/40 to-transparent z-10"})]}),e.jsxs("div",{className:"absolute top-2 right-2 z-20 flex flex-col gap-1.5 opacity-0 group-hover:opacity-100 transition-all",children:[e.jsx("button",{onClick:n,className:"p-1.5 bg-black/30 text-white/60 rounded-full hover:bg-neutral-700 hover:text-white transition-all shadow-sm",children:e.jsx(C,{size:16})}),e.jsx("button",{onClick:s,className:"p-1.5 bg-black/30 text-white/60 rounded-full hover:bg-red-600 hover:text-white transition-all shadow-sm",children:e.jsx(u,{size:16})})]})]})})},L=t=>{const r=t.toLowerCase();return r.includes("speaking")?"bg-teal-50 text-teal-700 border-teal-200":r.includes("writing")?"bg-pink-50 text-pink-700 border-pink-200":r.includes("reading")?"bg-indigo-50 text-indigo-700 border-indigo-200":r.includes("listening")?"bg-orange-50 text-orange-700 border-orange-200":r.includes("grammar")?"bg-purple-50 text-purple-700 border-purple-200":r.includes("pattern")?"bg-cyan-50 text-cyan-700 border-cyan-200":r.includes("comparison")?"bg-fuchsia-50 text-fuchsia-700 border-fuchsia-200":"bg-neutral-100 text-neutral-600 border-neutral-200"},T={green:"bg-emerald-500",yellow:"bg-amber-400",red:"bg-rose-500"},A=({title:t,badge:r,badges:n=[],tags:s=[],actions:l,footer:o,onClick:a,compact:d=!1,children:b,focusColor:c,onFocusChange:x,isFocused:f,onToggleFocus:h,isCompleted:p,className:N=""})=>{const g=[...r?[r]:[],...n];return e.jsxs("div",{onClick:a,className:`
        group relative flex flex-col bg-white rounded-3xl border border-neutral-200 shadow-sm 
        hover:shadow-md hover:border-neutral-300 transition-all h-full overflow-hidden 
        ${a?"cursor-pointer":""} 
        ${p?"ring-1 ring-emerald-400/50 !border-emerald-400/50 shadow-[0_4px_15px_-3px_rgba(52,211,153,0.15)]":""}
        ${N}
      `,children:[c&&e.jsx("div",{className:`absolute top-0 left-0 w-9 h-9 ${T[c]} z-0 pointer-events-none transition-all duration-300`,style:{clipPath:"polygon(0 0, 100% 0, 0 100%)"}}),f&&e.jsx("div",{className:"absolute top-1.5 left-1.5 w-2 h-2 bg-red-600 rounded-full z-10 shadow-sm pointer-events-none animate-in zoom-in"}),p&&!c&&e.jsx("div",{className:"absolute top-3 left-3 z-0 pointer-events-none opacity-20",children:e.jsx(k,{size:40,className:"text-emerald-100 fill-emerald-50"})}),(l||x||h)&&e.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white/95 backdrop-blur-sm rounded-xl p-1 border border-neutral-200 shadow-sm z-30",children:[h&&e.jsx("button",{onClick:i=>{i.stopPropagation(),h()},className:`w-6 h-6 rounded-full flex items-center justify-center transition-all mr-1 ${f?"bg-red-50 text-red-600":"text-neutral-300 hover:text-neutral-600 hover:bg-neutral-50"}`,title:"Toggle Focus",children:e.jsx(S,{size:14})}),x&&e.jsxs("div",{className:"flex items-center gap-1.5 pr-2 mr-1 border-r border-neutral-200",onClick:i=>i.stopPropagation(),children:[e.jsx("button",{onClick:()=>x("green"),className:`w-4 h-4 rounded-full border flex items-center justify-center transition-all ${c==="green"?"bg-emerald-500 border-emerald-600 scale-110 shadow-sm":"bg-emerald-100 border-emerald-200 hover:bg-emerald-200 hover:border-emerald-300"}`,title:"Mark Green",children:c==="green"&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white shadow-sm"})}),e.jsx("button",{onClick:()=>x("yellow"),className:`w-4 h-4 rounded-full border flex items-center justify-center transition-all ${c==="yellow"?"bg-amber-400 border-amber-500 scale-110 shadow-sm":"bg-amber-100 border-amber-200 hover:bg-amber-200 hover:border-amber-300"}`,title:"Mark Yellow",children:c==="yellow"&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white shadow-sm"})}),e.jsx("button",{onClick:()=>x("red"),className:`w-4 h-4 rounded-full border flex items-center justify-center transition-all ${c==="red"?"bg-rose-500 border-rose-600 scale-110 shadow-sm":"bg-rose-100 border-rose-200 hover:bg-rose-200 hover:border-rose-300"}`,title:"Mark Red",children:c==="red"&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white shadow-sm"})}),c&&e.jsx("button",{onClick:()=>x(null),className:"ml-0.5 p-1 text-neutral-300 hover:text-neutral-600 hover:bg-neutral-100 rounded-full transition-colors",title:"Clear Color",children:e.jsx(u,{size:12})})]}),l]}),e.jsxs("div",{className:`flex-grow flex flex-col ${d?"p-4":"p-6"}`,children:[(g.length>0||s.length>0)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 relative z-10",children:[g.map((i,y)=>e.jsxs("span",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${i.colorClass}`,children:[i.icon&&e.jsx(i.icon,{size:10}),i.label]},y)),s.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.map(i=>e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold border ${L(i)}`,children:i},i))})]}),e.jsx("div",{className:"mb-2 relative z-10",children:typeof t=="string"?e.jsx("h3",{className:"font-black text-lg text-neutral-900 tracking-tight leading-tight truncate",title:t,children:t}):t}),e.jsx("div",{className:"flex-1 text-sm text-neutral-500 font-medium leading-relaxed relative z-10",children:b}),o&&e.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-100 relative z-10",children:o})]})]})},D=({isOpen:t,onClose:r,onSave:n})=>{const[s,l]=m.useState("");if(m.useEffect(()=>{t&&l("")},[t]),!t)return null;const o=()=>{s.trim()&&n(s.trim())};return e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2.5rem] shadow-2xl border border-neutral-200 flex flex-col",children:[e.jsxs("header",{className:"px-8 py-6 border-b border-neutral-100 flex justify-between items-start",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-xl font-black text-neutral-900",children:"Add New Shelf"})}),e.jsx("button",{onClick:r,className:"p-2 -mr-2 text-neutral-400 hover:bg-neutral-100 rounded-full",children:e.jsx(u,{size:20})})]}),e.jsxs("main",{className:"p-8 space-y-2",children:[e.jsx("label",{htmlFor:"shelf-name-input",className:"font-bold text-sm",children:"Shelf Name"}),e.jsx("input",{id:"shelf-name-input",value:s,onChange:a=>l(a.target.value),className:"w-full px-3 py-2 bg-neutral-50 border border-neutral-200 rounded-lg font-medium",autoFocus:!0,onKeyDown:a=>{a.key==="Enter"&&o()}})]}),e.jsxs("footer",{className:"px-8 py-6 border-t border-neutral-100 flex justify-end items-center gap-3 bg-neutral-50/50 rounded-b-[2.5rem]",children:[e.jsx("button",{onClick:r,className:"px-5 py-2.5 bg-neutral-100 text-neutral-600 rounded-xl font-bold text-xs hover:bg-neutral-200",children:"Cancel"}),e.jsxs("button",{onClick:o,className:"px-6 py-3 bg-neutral-900 text-white rounded-xl font-black text-xs flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(w,{size:14})," Save"]})]})]})})},U=({isOpen:t,onClose:r,onSave:n,initialName:s})=>{const[l,o]=m.useState("");if(m.useEffect(()=>{t&&o(s)},[t,s]),!t)return null;const a=()=>{l.trim()&&n(l.trim())};return e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2.5rem] shadow-2xl border border-neutral-200 flex flex-col",children:[e.jsxs("header",{className:"px-8 py-6 border-b border-neutral-100 flex justify-between items-start",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-xl font-black text-neutral-900",children:"Rename Shelf"})}),e.jsx("button",{onClick:r,className:"p-2 -mr-2 text-neutral-400 hover:bg-neutral-100 rounded-full",children:e.jsx(u,{size:20})})]}),e.jsxs("main",{className:"p-8 space-y-2",children:[e.jsx("label",{htmlFor:"shelf-rename-input",className:"font-bold text-sm",children:"New Shelf Name"}),e.jsx("input",{id:"shelf-rename-input",value:l,onChange:d=>o(d.target.value),className:"w-full px-3 py-2 bg-neutral-50 border border-neutral-200 rounded-lg font-medium",autoFocus:!0,onKeyDown:d=>{d.key==="Enter"&&a()}})]}),e.jsxs("footer",{className:"px-8 py-6 border-t border-neutral-100 flex justify-end items-center gap-3 bg-neutral-50/50 rounded-b-[2.5rem]",children:[e.jsx("button",{onClick:r,className:"px-5 py-2.5 bg-neutral-100 text-neutral-600 rounded-xl font-bold text-xs hover:bg-neutral-200",children:"Cancel"}),e.jsxs("button",{onClick:a,className:"px-6 py-3 bg-neutral-900 text-white rounded-xl font-black text-xs flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(w,{size:14})," Save"]})]})]})})},Y=({isOpen:t,onClose:r,onConfirm:n,shelves:s,currentShelf:l,bookTitle:o})=>t?e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2.5rem] shadow-2xl border border-neutral-200 flex flex-col",children:[e.jsxs("header",{className:"px-8 py-6 border-b border-neutral-100 flex justify-between items-start shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-neutral-900",children:"Move Book"}),e.jsxs("p",{className:"text-xs text-neutral-500 font-bold mt-1 truncate",children:['"',o,'"']})]}),e.jsx("button",{onClick:r,className:"p-2 -mr-2 text-neutral-400 hover:bg-neutral-100 rounded-full",children:e.jsx(u,{size:20})})]}),e.jsxs("main",{className:"p-6 overflow-y-auto max-h-[50vh] space-y-2",children:[e.jsx("p",{className:"text-[10px] font-black uppercase text-neutral-400 tracking-widest px-2 mb-2",children:"Select Destination Shelf"}),s.filter(a=>a!==l).map(a=>e.jsxs("button",{onClick:()=>n(a),className:"w-full text-left px-4 py-3 rounded-xl border border-neutral-100 hover:border-neutral-300 hover:bg-neutral-50 transition-all font-bold text-sm text-neutral-700 flex items-center justify-between group",children:[e.jsx("span",{children:a}),e.jsx(z,{size:16,className:"text-neutral-300 group-hover:text-neutral-900 transition-colors"})]},a)),s.length<=1&&e.jsx("p",{className:"text-center py-4 text-xs font-medium text-neutral-400 italic",children:"No other shelves available."})]}),e.jsx("footer",{className:"px-8 py-4 border-t border-neutral-100 bg-neutral-50/50 rounded-b-[2.5rem] flex justify-end",children:e.jsx("button",{onClick:r,className:"px-5 py-2 text-xs font-bold text-neutral-500 hover:text-neutral-900",children:"Cancel"})})]})}):null;export{D as A,$ as B,j as C,I as F,P as I,Y as M,U as R,W as T,A as U,_ as W};
