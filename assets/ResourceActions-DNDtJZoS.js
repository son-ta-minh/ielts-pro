import{r as i,j as e,a3 as h,C as m}from"./index-DKyvuxlh.js";import{T as b}from"./tag-BN7NN98J.js";const v=({viewMenu:c,browseGroups:f,browseTags:r,addActions:n,extraActions:d})=>{const[l,a]=i.useState(!1),o=i.useRef(null);i.useEffect(()=>{const t=s=>{o.current&&!o.current.contains(s.target)&&a(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const u=n.length>1,x=()=>{if(n.length===0)return null;if(!u){const t=n[0],s=t.icon;return e.jsxs("button",{onClick:t.onClick,disabled:t.disabled,className:"px-6 py-3 bg-neutral-900 text-white rounded-xl font-black text-xs flex items-center space-x-2 transition-all hover:bg-neutral-800 active:scale-95 uppercase tracking-widest shadow-sm disabled:opacity-50",children:[e.jsx(s,{size:16}),e.jsx("span",{children:t.label})]})}return e.jsxs("div",{className:"relative",ref:o,children:[e.jsxs("button",{onClick:()=>a(!l),className:"px-6 py-3 bg-neutral-900 text-white rounded-xl font-black text-xs flex items-center space-x-2 transition-all hover:bg-neutral-800 active:scale-95 uppercase tracking-widest shadow-sm",children:[e.jsx(h,{size:16}),e.jsx("span",{children:"Add"}),e.jsx(m,{size:14,className:`transition-transform ${l?"rotate-180":""}`})]}),l&&e.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-2xl shadow-xl border border-neutral-100 z-50 p-2 overflow-hidden animate-in fade-in zoom-in-95 flex flex-col gap-1",children:n.map((t,s)=>{const p=t.icon;return e.jsxs("button",{onClick:()=>{t.onClick(),a(!1)},disabled:t.disabled,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-xs font-bold text-neutral-600 hover:bg-neutral-50 hover:text-neutral-900 transition-colors disabled:opacity-50",children:[e.jsx(p,{size:16,className:"text-neutral-500"}),e.jsx("span",{children:t.label})]},s)})})]})};return e.jsxs(e.Fragment,{children:[c,r&&e.jsx("button",{onClick:r.onToggle,className:`p-3 border border-neutral-200 text-neutral-600 rounded-xl hover:bg-neutral-50 active:scale-95 transition-all shadow-sm ${r.isOpen?"bg-neutral-100":"bg-white"}`,children:e.jsx(b,{size:16})}),d,x()]})};export{v as R};
