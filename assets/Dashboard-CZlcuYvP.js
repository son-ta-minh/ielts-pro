import{c as y,j as e,r as p,C as he,L as be,a as J,b as X,d as Q,F as fe,B as je,S as ve,R as te,W as ye,e as we,G as ke,T as Ne,f as P,P as se,M as ae,g as _,A as G,h as Ce,i as Se,k as Le,l as Te,m as Re,n as Ie,o as Me,p as Ee,q as Pe,s as De,t as ze,u as $e,v as We,w as Be}from"./index-Bqy58GPU.js";import{D as Z}from"./download-qYB-zxF1.js";import{H as le}from"./headphones-D7J-JsKC.js";import{F as re}from"./file-clock-CdDDESEn.js";import{K as _e,B as Ge}from"./keyboard-BF3JlPJe.js";import{S as Ae,a as Oe}from"./split-DThQZAEJ.js";import{L as Ue}from"./list-todo-BFu4LUMD.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=y("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=y("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=y("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=y("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=y("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=y("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=y("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=y("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=y("Puzzle",[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]]),ee=({value:t,max:s,label:l})=>{const o=s>0?t/s*100:0;return e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest",children:l}),e.jsxs("span",{className:"text-xs font-bold text-neutral-500",children:[t," / ",s]})]}),e.jsx("div",{className:"h-1.5 w-full bg-neutral-100 rounded-full overflow-hidden border border-neutral-200/50",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all duration-1000",style:{width:`${o}%`}})})]})},Ze=t=>{const s=t??0;return s>=80?"bg-green-100 text-green-700":s>=50?"bg-yellow-100 text-yellow-700":s>0?"bg-orange-100 text-orange-700":"bg-neutral-100 text-neutral-500"},et=({learnedToday:t,reviewedToday:s,maxLearn:l,maxReview:o,learnedWords:n,reviewedWords:i,onViewWord:r})=>{const u=[...n,...i].sort((c,h)=>(h.lastReview||0)-(c.lastReview||0));return e.jsxs("section",{className:"bg-white p-5 rounded-3xl border border-neutral-200 shadow-sm flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("h3",{className:"text-sm font-black text-neutral-900 uppercase tracking-widest flex items-center gap-2",children:"Daily Progress"}),e.jsx("p",{className:"text-[10px] text-neutral-400 font-medium",children:"Activity for today."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-black text-blue-600 leading-none",children:t}),e.jsx("p",{className:"text-[8px] font-bold text-blue-500 uppercase tracking-wider",children:"New"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-black text-orange-600 leading-none",children:s}),e.jsx("p",{className:"text-[8px] font-bold text-orange-500 uppercase tracking-wider",children:"Rev"})]})]})]}),e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(ee,{value:t,max:l,label:"Learn Goal"}),e.jsx(ee,{value:s,max:o,label:"Review Goal"})]}),u.length>0?e.jsxs("div",{className:"pt-2 border-t border-neutral-100 flex-1 min-h-0 flex flex-col",children:[e.jsxs("h4",{className:"text-[9px] font-black uppercase tracking-widest text-neutral-400 mb-2",children:["Recent Activity (",u.length,")"]}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1 custom-scrollbar max-h-32",children:u.map(c=>e.jsxs("button",{onClick:()=>r(c),className:"w-full flex items-center gap-2 text-left p-1.5 rounded-lg hover:bg-neutral-50 group",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${n.some(h=>h.id===c.id)?"bg-blue-500":"bg-orange-500"}`}),e.jsx("span",{className:"text-xs font-bold text-neutral-700 flex-1 truncate group-hover:text-neutral-900",children:c.word}),e.jsx("span",{className:`text-[9px] font-black px-1 py-0.5 rounded ${Ze(c.masteryScore)}`,children:c.masteryScore??0})]},c.id))})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-[10px] text-neutral-300 italic pt-4",children:"No activity recorded today."})]})]})},tt=()=>{const t="2026-02-19T08:54:32.076Z";try{const s=new Date(t),l=s.getFullYear(),o=(s.getMonth()+1).toString().padStart(2,"0"),n=s.getDate().toString().padStart(2,"0"),i=s.getHours().toString().padStart(2,"0"),r=s.getMinutes().toString().padStart(2,"0");return`v${l}${o}${n}_${i}${r}`}catch{return"v_error"}},ne=({percent:t,size:s=20,stroke:l=2.5})=>{const o=(s-l)/2,n=2*Math.PI*o,i=n-t/100*n;let r="text-neutral-300";return t>=80?r="text-green-500":t>=40?r="text-yellow-500":t>0&&(r="text-orange-500"),e.jsx("div",{className:"relative flex items-center justify-center",style:{width:s,height:s},children:e.jsxs("svg",{className:"transform -rotate-90",width:s,height:s,children:[e.jsx("circle",{className:"text-neutral-100 group-hover:text-neutral-800 transition-colors",stroke:"currentColor",strokeWidth:l,fill:"transparent",r:o,cx:s/2,cy:s/2}),e.jsx("circle",{className:`${r} transition-all duration-500 ease-out`,stroke:"currentColor",strokeWidth:l,strokeLinecap:"round",fill:"transparent",r:o,cx:s/2,cy:s/2,style:{strokeDasharray:n,strokeDashoffset:i}})]})})},x=({label:t,subLabel:s,progress:l,icon:o,color:n,bg:i,onClick:r,disabled:u,largeSub:c})=>e.jsxs("button",{onClick:r,disabled:u,className:"flex items-start gap-3 p-3 rounded-2xl border border-neutral-100 bg-white hover:bg-neutral-900 hover:border-neutral-900 hover:shadow-lg transition-all active:scale-95 w-full text-left group disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:border-neutral-100 disabled:hover:shadow-none",children:[e.jsx("div",{className:`p-2 rounded-xl ${i} ${n} group-hover:scale-110 transition-transform shrink-0 mt-0.5`,children:e.jsx(o,{size:18})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-black text-neutral-900 group-hover:text-white transition-colors tracking-tight leading-tight",children:t}),s&&e.jsx("div",{className:`font-medium text-neutral-400 group-hover:text-neutral-300 transition-colors mt-0.5 leading-snug ${c?"text-[10px]":"text-[10px] truncate"}`,children:s})]}),typeof l=="number"&&e.jsx("div",{className:"shrink-0 ml-1",children:e.jsx(ne,{percent:l})})]}),st=({stats:t})=>{const s=(i,r)=>r>0?Math.round(i/r*100):0,l=t?t.speaking.freeTalk.completed+t.speaking.native.completed+t.speaking.conversation.completed:0,o=t?t.speaking.freeTalk.total+t.speaking.native.total+t.speaking.conversation.total:0,n=({label:i,completed:r,total:u,icon:c,colorClass:h})=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-xl bg-neutral-50/50 hover:bg-neutral-50 transition-colors border border-transparent hover:border-neutral-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-1.5 rounded-lg ${h} bg-white shadow-sm`,children:e.jsx(c,{size:12})}),e.jsx("span",{className:"text-[10px] font-bold text-neutral-700",children:i})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-[9px] font-medium text-neutral-400",children:[r,"/",u]}),e.jsx(ne,{percent:s(r,u),size:18})]})]});return e.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-neutral-200 shadow-sm flex flex-col gap-4 h-full justify-center",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 bg-neutral-900 text-white rounded-lg",children:e.jsx(Xe,{size:14})}),e.jsx("h3",{className:"text-sm font-black text-neutral-900 uppercase tracking-widest",children:"Mastery Status"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsx(n,{label:"Reading",completed:(t==null?void 0:t.reading.completed)||0,total:(t==null?void 0:t.reading.total)||0,icon:P,colorClass:"text-indigo-600"}),e.jsx(n,{label:"Listening",completed:(t==null?void 0:t.listening.completed)||0,total:(t==null?void 0:t.listening.total)||0,icon:le,colorClass:"text-sky-600"}),e.jsx(n,{label:"Writing",completed:(t==null?void 0:t.writing.completed)||0,total:(t==null?void 0:t.writing.total)||0,icon:se,colorClass:"text-pink-600"}),e.jsx(n,{label:"Speaking",completed:l,total:o,icon:ae,colorClass:"text-rose-600"}),e.jsx(n,{label:"Grammar",completed:(t==null?void 0:t.lessons.grammar.completed)||0,total:(t==null?void 0:t.lessons.grammar.total)||0,icon:_,colorClass:"text-purple-600"}),e.jsx(n,{label:"Verbs",completed:(t==null?void 0:t.lessons.irregular.completed)||0,total:(t==null?void 0:t.lessons.irregular.total)||0,icon:re,colorClass:"text-orange-600"}),e.jsx(n,{label:"Pronunciation",completed:(t==null?void 0:t.speaking.pronunciation.completed)||0,total:(t==null?void 0:t.speaking.pronunciation.total)||0,icon:G,colorClass:"text-emerald-600"}),e.jsx(n,{label:"Lessons",completed:(t==null?void 0:t.lessons.general.completed)||0,total:(t==null?void 0:t.lessons.general.total)||0,icon:P,colorClass:"text-blue-600"})]})]})},at=({stats:t,totalCount:s,newCount:l,studyingCount:o,masteredCount:n,rawCount:i,refinedCount:r,onStartNew:u,onStartDue:c,onRefineRaw:h,onVerifyRefined:d})=>{const j=s>0?l/s*100:0,f=s>0?o/s*100:0,b=s>0?n/s*100:0;return e.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-neutral-200 shadow-sm flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-xl text-indigo-600 shadow-md",children:e.jsx(je,{size:18})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-black text-neutral-900 tracking-tight",children:"Vocabulary Center"}),e.jsx("p",{className:"text-[10px] font-medium text-neutral-400",children:"Manage and expand your lexical resource."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col justify-center gap-4 p-4 bg-neutral-50 rounded-2xl border border-neutral-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-black text-neutral-500 uppercase tracking-wider",children:"Distribution"}),e.jsxs("span",{className:"text-xs font-bold text-neutral-400",children:[s," Total Words"]})]}),e.jsxs("div",{className:"h-4 bg-white rounded-full flex overflow-hidden border border-neutral-200 shadow-inner",children:[e.jsx("div",{className:"h-full bg-blue-500",style:{width:`${j}%`}}),e.jsx("div",{className:"h-full bg-cyan-500",style:{width:`${f}%`}}),e.jsx("div",{className:"h-full bg-purple-500",style:{width:`${b}%`}})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),e.jsxs("span",{className:"text-[10px] font-bold text-neutral-600",children:["New (",l,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-500"}),e.jsxs("span",{className:"text-[10px] font-bold text-neutral-600",children:["Learning (",o,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),e.jsxs("span",{className:"text-[10px] font-bold text-neutral-600",children:["Mastered (",n,")"]})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 grid grid-cols-2 gap-3",children:[e.jsx(x,{label:"Learn New",subLabel:`${t?t.vocab.new:"-"} words ready`,icon:ve,color:"text-indigo-600",bg:"bg-indigo-50",onClick:u,disabled:!t||t.vocab.new===0}),e.jsx(x,{label:"Review",subLabel:`${t?t.vocab.due:"-"} words due`,icon:te,color:"text-amber-600",bg:"bg-amber-50",onClick:c,disabled:!t||t.vocab.due===0}),e.jsx(x,{label:"Refine",subLabel:`${i} raw words`,icon:ye,color:"text-purple-600",bg:"bg-purple-50",onClick:h,disabled:i===0}),e.jsx(x,{label:"Verify",subLabel:`${r} pending`,icon:we,color:"text-emerald-600",bg:"bg-emerald-50",onClick:d,disabled:r===0})]})]})]})},lt=({stats:t,isLoading:s,onAction:l})=>e.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-neutral-200 shadow-sm flex flex-col gap-4 relative overflow-hidden",children:[s&&e.jsx("div",{className:"absolute top-4 right-4 animate-spin text-neutral-300",children:e.jsx(te,{size:16})}),e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-neutral-900 rounded-xl text-white shadow-md",children:e.jsx(ke,{size:18})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-black text-neutral-900 tracking-tight",children:"Study Center"}),e.jsx("p",{className:"text-[10px] font-medium text-neutral-400",children:"Track your mastery across all skills."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2 md:col-span-2 lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-neutral-400 px-1",children:[e.jsx(Ne,{size:12}),e.jsx("span",{className:"font-black uppercase tracking-widest text-[10px]",children:"Skills"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(x,{largeSub:!0,label:"Reading",subLabel:"Master comprehension with interactive texts.",icon:P,color:"text-indigo-600",bg:"bg-indigo-50",onClick:()=>l("UNIT_LIBRARY")}),e.jsx(x,{largeSub:!0,label:"Listening",subLabel:"Train your ear with diverse audio clips.",icon:le,color:"text-sky-600",bg:"bg-sky-50",onClick:()=>l("LISTENING")}),e.jsx(x,{largeSub:!0,label:"Writing",subLabel:"Practice Task 1 & 2 with AI feedback.",icon:se,color:"text-pink-600",bg:"bg-pink-50",onClick:()=>l("WRITING")}),e.jsx(x,{largeSub:!0,label:"Speaking",subLabel:"Simulate real IELTS speaking tests.",icon:ae,color:"text-rose-600",bg:"bg-rose-50",onClick:()=>l("SPEAKING")})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 md:col-span-2 lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-neutral-400 px-1",children:[e.jsx(_,{size:12}),e.jsx("span",{className:"font-black uppercase tracking-widest text-[10px]",children:"Domains"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(x,{largeSub:!0,label:"Grammar",subLabel:"Deep dive into essential grammar rules.",icon:_,color:"text-purple-600",bg:"bg-purple-50",onClick:()=>l("LESSON_GRAMMAR")}),e.jsx(x,{largeSub:!0,label:"Irregular Verb",subLabel:"Master tricky verb forms and usage.",icon:re,color:"text-orange-600",bg:"bg-orange-50",onClick:()=>l("IRREGULAR_VERBS")}),e.jsx(x,{largeSub:!0,label:"Pronunciation",subLabel:"Perfect your accent and intonation.",icon:G,color:"text-emerald-600",bg:"bg-emerald-50",onClick:()=>l("MIMIC")}),e.jsx(x,{largeSub:!0,label:"Lesson",subLabel:"Structured lessons for holistic learning.",icon:P,color:"text-blue-600",bg:"bg-blue-50",onClick:()=>l("LESSON")})]})]})]})]}),rt=({onAction:t})=>e.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-neutral-200 shadow-sm flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-fuchsia-50 rounded-xl text-fuchsia-600 shadow-md",children:e.jsx(He,{size:18})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-black text-neutral-900 tracking-tight",children:"Practice Arcade"}),e.jsx("p",{className:"text-[10px] font-medium text-neutral-400",children:"Targeted drills to refine specific lexical skills."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:[e.jsx(x,{label:"Listening & Spelling",subLabel:"Dictation drills to sharpen auditory accuracy.",largeSub:!0,icon:_e,color:"text-cyan-600",bg:"bg-cyan-50",onClick:()=>t("DICTATION")}),e.jsx(x,{label:"Grammar & Syntax",subLabel:"Unscramble sentences to master word order.",largeSub:!0,icon:Ce,color:"text-emerald-600",bg:"bg-emerald-50",onClick:()=>t("SENTENCE_SCRAMBLE")}),e.jsx(x,{label:"Phonetic Accuracy",subLabel:"Refine pronunciation with minimal pairs and IPA.",largeSub:!0,icon:G,color:"text-rose-600",bg:"bg-rose-50",onClick:()=>t("IPA_SORTER")}),e.jsx(x,{label:"Dependent Prepositions",subLabel:"Master verb, noun, and adjective preposition pairings.",largeSub:!0,icon:Se,color:"text-violet-600",bg:"bg-violet-50",onClick:()=>t("PREPOSITION_POWER")}),e.jsx(x,{label:"Contextual Usage",subLabel:"Match synonyms and idioms to correct contexts.",largeSub:!0,icon:Qe,color:"text-sky-600",bg:"bg-sky-50",onClick:()=>t("PARAPHRASE_CONTEXT")}),e.jsx(x,{label:"Rapid Recall",subLabel:"Speed test: Connect terms with definitions.",largeSub:!0,icon:Ge,color:"text-fuchsia-600",bg:"bg-fuchsia-50",onClick:()=>t("WORD_SCATTER")}),e.jsx(x,{label:"Natural Expression",subLabel:"Master native phrases and idioms in context.",largeSub:!0,icon:Je,color:"text-amber-600",bg:"bg-amber-50",onClick:()=>t("NATURAL_EXPRESSION")}),e.jsx(x,{label:"Intensity Scale",subLabel:"Link nuanced words by their scale of intensity.",largeSub:!0,icon:Ae,color:"text-orange-600",bg:"bg-orange-50",onClick:()=>t("INTENSITY_SCALE")}),e.jsx(x,{label:"Word Contrast",subLabel:"Contrast and identify confusing word pairs.",largeSub:!0,icon:Oe,color:"text-indigo-600",bg:"bg-indigo-50",onClick:()=>t("COMPARISON_LAB")})]})]}),nt=({goalStats:t,onAction:s})=>{const l=t.totalTasks>0?Math.round(t.completedTasks/t.totalTasks*100):0;return e.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-neutral-200 shadow-sm flex flex-col justify-center h-full",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("h3",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest",children:"Active Plan"}),e.jsxs("p",{className:"text-xl font-black text-neutral-900 leading-none",children:[t.completedTasks," / ",t.totalTasks," ",e.jsx("span",{className:"text-xs text-neutral-400 font-bold",children:"Tasks"})]})]}),e.jsx("button",{onClick:()=>s("PLANNING"),className:"p-2 text-neutral-300 hover:text-neutral-900 hover:bg-neutral-50 rounded-lg transition-colors -mr-2 -mt-2",children:e.jsx(Ue,{size:18})})]}),e.jsx("div",{className:"w-full h-3 bg-neutral-100 rounded-full overflow-hidden mb-2",children:e.jsx("div",{className:`h-full transition-all duration-1000 ${l===100?"bg-green-500":"bg-indigo-500"}`,style:{width:`${l}%`}})}),e.jsxs("p",{className:"text-[10px] font-bold text-neutral-400 text-right",children:[l,"% Completed"]})]})},it=({lastBackupTime:t,onBackup:s,onRestore:l,serverStatus:o})=>{const[n,i]=p.useState(""),[r,u]=p.useState(!1),c=p.useRef(null),[h,d]=p.useState(!1),j=p.useRef(null);return p.useEffect(()=>{const f=()=>{if(!t){i("Last backup: Never");return}const w=Date.now()-t,C=Math.floor(w/(1e3*60*60*24)),S=Math.floor(w/(1e3*60*60)%24),v=Math.floor(w/(1e3*60)%60);C>0?i(`Last backup: ${C}d ago`):S>0?i(`Last backup: ${S}h ago`):v>0?i(`Last backup: ${v}m ago`):i("Last backup: < 1m ago")};f();const b=setInterval(f,60*1e3);return()=>clearTimeout(b)},[t]),p.useEffect(()=>{const f=b=>{c.current&&!c.current.contains(b.target)&&u(!1),j.current&&!j.current.contains(b.target)&&d(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),e.jsxs("div",{className:"flex shrink-0 items-center justify-between space-x-3 px-3 py-2 rounded-2xl border-2 shadow-sm bg-white border-neutral-200 text-neutral-800",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{size:14}),e.jsx("span",{className:"font-medium text-xs whitespace-nowrap",children:n})]}),e.jsxs("div",{className:"flex items-center space-x-2 pl-2",children:[o==="connected"?e.jsxs("div",{className:"relative",ref:c,children:[e.jsxs("button",{onClick:()=>u(!r),className:`px-4 py-2 bg-indigo-50 text-indigo-700 rounded-xl font-black text-[10px] flex items-center gap-2 transition-all active:scale-95 border border-indigo-100 shadow-sm uppercase tracking-widest ${r?"bg-indigo-100":"hover:bg-indigo-100"}`,children:[e.jsx(J,{size:14}),e.jsx("span",{children:"Backup"}),e.jsx(X,{size:12,className:`transition-transform ${r?"rotate-180":""}`})]}),r&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-36 bg-white rounded-xl shadow-xl border border-neutral-100 z-50 overflow-hidden animate-in fade-in zoom-in-95",children:[e.jsxs("button",{onClick:()=>{s("server"),u(!1)},className:"w-full flex items-center gap-2 px-4 py-3 text-xs font-bold text-neutral-700 hover:bg-neutral-50 transition-colors text-left",children:[e.jsx(Q,{size:14,className:"text-sky-500"})," To Server"]}),e.jsx("div",{className:"h-px bg-neutral-100 mx-2"}),e.jsxs("button",{onClick:()=>{s("file"),u(!1)},className:"w-full flex items-center gap-2 px-4 py-3 text-xs font-bold text-neutral-700 hover:bg-neutral-50 transition-colors text-left",children:[e.jsx(qe,{size:14,className:"text-indigo-500"})," To File"]})]})]}):e.jsxs("button",{onClick:()=>s("file"),className:"px-4 py-2 bg-indigo-50 text-indigo-700 rounded-xl font-black text-[10px] flex items-center gap-2 hover:bg-indigo-100 transition-all active:scale-95 border border-indigo-100 shadow-sm uppercase tracking-widest",children:[e.jsx(J,{size:14}),e.jsx("span",{children:"Backup"})]}),o==="connected"?e.jsxs("div",{className:"relative",ref:j,children:[e.jsxs("button",{onClick:()=>d(!h),className:`px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl font-black text-[10px] flex items-center gap-2 transition-all active:scale-95 border border-emerald-100 shadow-sm uppercase tracking-widest ${h?"bg-emerald-100":"hover:bg-emerald-100"}`,children:[e.jsx(Z,{size:14}),e.jsx("span",{children:"Restore"}),e.jsx(X,{size:12,className:`transition-transform ${h?"rotate-180":""}`})]}),h&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-36 bg-white rounded-xl shadow-xl border border-neutral-100 z-50 overflow-hidden animate-in fade-in zoom-in-95",children:[e.jsxs("button",{onClick:()=>{l("server"),d(!1)},className:"w-full flex items-center gap-2 px-4 py-3 text-xs font-bold text-neutral-700 hover:bg-neutral-50 transition-colors text-left",children:[e.jsx(Q,{size:14,className:"text-sky-500"})," From Server"]}),e.jsx("div",{className:"h-px bg-neutral-100 mx-2"}),e.jsxs("button",{onClick:()=>{l("file"),d(!1)},className:"w-full flex items-center gap-2 px-4 py-3 text-xs font-bold text-neutral-700 hover:bg-neutral-50 transition-colors text-left",children:[e.jsx(fe,{size:14,className:"text-amber-500"})," From File"]})]})]}):e.jsxs("button",{onClick:()=>l("file"),className:"px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl font-black text-[10px] flex items-center gap-2 hover:bg-emerald-100 transition-all active:scale-95 border border-emerald-100 shadow-sm uppercase tracking-widest",children:[e.jsx(Z,{size:14}),e.jsx("span",{children:"Restore"})]})]})]})},ot=({onNavigate:t,totalCount:s,newCount:l,rawCount:o,refinedCount:n,reviewStats:i,lastBackupTime:r,onBackup:u,onRestore:c,serverStatus:h,onAction:d,onStartNewLearn:j,onStartDueReview:f,dayProgress:b,dailyGoals:w,onNavigateToWordList:C,goalStats:S,studyStats:v,isStatsLoading:D})=>{const z=p.useMemo(()=>tt(),[]),[k,L]=p.useState("STUDY");return e.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[e.jsxs("header",{className:"flex flex-col sm:flex-row justify-between sm:items-start gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h2",{className:"text-3xl font-black text-neutral-900 tracking-tight",children:"IELTS Vocab Pro"}),e.jsx("span",{className:"text-[10px] font-bold text-neutral-400 font-mono tracking-tighter bg-neutral-100 px-1.5 py-0.5 rounded-md border border-neutral-200",children:z})]}),e.jsx("div",{className:"flex items-center gap-3 mt-2",children:h==="connected"?e.jsxs("div",{className:"px-3 py-1.5 rounded-full border flex items-center gap-2 bg-emerald-50 border-emerald-200 text-emerald-700",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Cloud Connected"})]}):e.jsxs("div",{className:"flex items-center gap-2 px-1.5 py-1.5 rounded-full border bg-red-50 border-red-200 text-red-700 shadow-sm pr-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Offline Mode"}),e.jsxs("div",{className:"relative group/tooltip",children:[e.jsx(he,{size:12,className:"cursor-help opacity-70 hover:opacity-100"}),e.jsxs("div",{className:"absolute left-0 top-full mt-2 w-56 p-3 bg-neutral-900 text-white text-[10px] leading-relaxed font-medium rounded-xl opacity-0 group-hover/tooltip:opacity-100 transition-opacity pointer-events-none z-50 shadow-xl border border-neutral-700",children:["Disconnected from Vocab Server. Server backup and high-quality voices are unavailable.",e.jsx("div",{className:"absolute -top-1 left-3 w-2 h-2 bg-neutral-900 rotate-45 border-l border-t border-neutral-700"})]})]})]}),e.jsx("div",{className:"w-px h-3 bg-red-200"}),e.jsxs("button",{onClick:()=>{sessionStorage.setItem("vocab_pro_settings_tab","SERVER"),t("SETTINGS")},className:"flex items-center gap-1 px-3 py-1 bg-blue-600 border border-blue-700 rounded-full shadow-sm hover:bg-blue-700 transition-all group/btn",children:[e.jsx(be,{size:10,className:"text-white"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-white",children:"Connect"})]})]})})]}),e.jsx("div",{className:"flex flex-col items-end gap-2",children:e.jsx(it,{lastBackupTime:r,onBackup:u,onRestore:c,serverStatus:h})})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"inline-flex p-1 bg-white border-2 border-neutral-100 rounded-2xl w-fit shadow-sm self-start",children:[e.jsxs("button",{onClick:()=>L("STUDY"),className:`w-28 py-2.5 rounded-xl text-xs font-black uppercase tracking-wider flex items-center justify-center gap-2 transition-all duration-300 ${k==="STUDY"?"bg-neutral-900 text-white shadow-lg transform scale-[1.02]":"text-neutral-500 hover:text-neutral-900 hover:bg-neutral-50"}`,children:[e.jsx(Ke,{size:16})," Study"]}),e.jsxs("button",{onClick:()=>L("PRACTICE"),className:`w-28 py-2.5 rounded-xl text-xs font-black uppercase tracking-wider flex items-center justify-center gap-2 transition-all duration-300 ${k==="PRACTICE"?"bg-neutral-900 text-white shadow-lg transform scale-[1.02]":"text-neutral-500 hover:text-neutral-900 hover:bg-neutral-50"}`,children:[e.jsx(Fe,{size:16})," Practice"]}),e.jsxs("button",{onClick:()=>L("INSIGHT"),className:`w-28 py-2.5 rounded-xl text-xs font-black uppercase tracking-wider flex items-center justify-center gap-2 transition-all duration-300 ${k==="INSIGHT"?"bg-neutral-900 text-white shadow-lg transform scale-[1.02]":"text-neutral-500 hover:text-neutral-900 hover:bg-neutral-50"}`,children:[e.jsx(Ve,{size:16})," Insight"]})]})}),k==="STUDY"&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[e.jsx(at,{stats:v,totalCount:s,newCount:l,studyingCount:i.learned,masteredCount:i.mastered,rawCount:o,refinedCount:n,onStartNew:j,onStartDue:f,onRefineRaw:()=>C("raw"),onVerifyRefined:()=>C("refined")}),e.jsx(lt,{stats:v,isLoading:D,onAction:$=>d($)})]}),k==="PRACTICE"&&e.jsx("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:e.jsx(rt,{onAction:d})}),k==="INSIGHT"&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(st,{stats:v})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(nt,{goalStats:S,onAction:d})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsx(et,{learnedToday:b.learned,reviewedToday:b.reviewed,maxLearn:w.max_learn_per_day,maxReview:w.max_review_per_day,learnedWords:b.learnedWords,reviewedWords:b.reviewedWords,onViewWord:()=>{}})})]})]})},bt=({userId:t,totalCount:s,user:l,wotd:o,serverStatus:n,restoreFromServerAction:i,triggerLocalRestore:r,onLocalBackup:u,onServerBackup:c,onAction:h,...d})=>{const[j,f]=p.useState(0),[b,w]=p.useState(0),[C,S]=p.useState({learned:0,reviewed:0,learnedWords:[],reviewedWords:[]}),[v,D]=p.useState({learned:0,mastered:0,statusForgot:0,statusHard:0,statusEasy:0,statusLearned:0}),[z,k]=p.useState({totalTasks:0,completedTasks:0}),[L,$]=p.useState(null),[ie,A]=p.useState(!1),oe=Le().dailyGoals,O=async()=>{try{const g=await We(t);let N=0,m=0;g.forEach(T=>{var R,I;N+=((R=T.todos)==null?void 0:R.length)||0,m+=((I=T.todos)==null?void 0:I.filter(E=>E.status==="CLOSED").length)||0}),k({totalTasks:N,completedTasks:m})}catch(g){console.warn("Failed to fetch goal stats",g)}},W=p.useCallback(async()=>{A(!0);try{const[g,N,m,T,R,I,E,U]=await Promise.all([Te(t),Re(t),Ie(t),Me(t),Ee(t),Pe(t),De(t),ze(t)]),V=$e().filter(a=>a.userId===t).filter(a=>!a.isPassive),ue=V.filter(a=>!a.lastReview&&a.quality==="VERIFIED").length,ge=V.filter(a=>a.lastReview&&a.nextReview<=Date.now()&&a.quality!=="FAILED").length,F=g.filter(a=>{var M;return(M=a.tags)==null?void 0:M.some(B=>B.toLowerCase().includes("grammar"))}),H=g.filter(a=>a.type==="comparison"),q=g.filter(a=>a.type==="intensity"),Y=g.filter(a=>{var M;return!((M=a.tags)!=null&&M.some(B=>B.toLowerCase().includes("grammar")))}),K=JSON.parse(localStorage.getItem("vocab_pro_mimic_practice_queue")||"[]"),me=K.length,pe=K.filter(a=>(a.lastScore||0)>=80).length;$({vocab:{new:ue,due:ge},lessons:{general:{completed:Y.filter(a=>a.focusColor==="green").length,total:Y.length},irregular:{completed:m.filter(a=>a.lastTestResult==="pass").length,total:m.length},grammar:{completed:F.filter(a=>a.focusColor==="green").length,total:F.length},comparison:{completed:H.filter(a=>a.focusColor==="green").length,total:H.length},scale:{completed:q.filter(a=>a.focusColor==="green").length,total:q.length}},reading:{completed:N.filter(a=>a.focusColor==="green").length,total:N.length},speaking:{freeTalk:{completed:I.filter(a=>a.focusColor==="green").length,total:I.length},native:{completed:T.filter(a=>a.focusColor==="green").length,total:T.length},conversation:{completed:R.filter(a=>a.focusColor==="green").length,total:R.length},pronunciation:{completed:pe,total:me}},listening:{completed:E.filter(a=>a.focusColor==="green").length,total:E.length},writing:{completed:U.filter(a=>a.focusColor==="green").length,total:U.length}})}catch(g){console.error("Failed to fetch study stats",g)}finally{A(!1)}},[t]);p.useEffect(()=>{const g=async()=>{const m=Be();m&&(m.dayProgress&&S(m.dayProgress),f(m.dashboardStats.rawCount||0),w(m.dashboardStats.refinedCount||0),m.reviewCounts&&D({learned:m.reviewCounts.learned||0,mastered:m.reviewCounts.mastered||0,statusForgot:m.reviewCounts.statusForgot||0,statusHard:m.reviewCounts.statusHard||0,statusEasy:m.reviewCounts.statusEasy||0,statusLearned:m.reviewCounts.statusLearned||0}))};t&&(g(),O(),W());const N=()=>{g(),O()};return window.addEventListener("datastore-updated",N),()=>{window.removeEventListener("datastore-updated",N)}},[t,s,W]);const ce=g=>{g==="server"&&i?i():g==="file"&&r?r():g==="file"&&d.onRestore()},de=g=>{g==="server"&&c?c():u()},xe={user:l,totalCount:s,dueCount:d.dueCount,newCount:d.newCount,learnedCount:v.learned,rawCount:j,refinedCount:b,reviewStats:v,wotd:o,isWotdComposed:d.isWotdComposed||!1,onRandomizeWotd:d.onRandomizeWotd||(()=>{}),onComposeWotd:()=>{d.onComposeWotd&&o&&d.onComposeWotd(o)},goalStats:z,studyStats:L,isStatsLoading:ie,onRefreshStats:W,onNavigate:d.setView,onNavigateToWordList:d.onNavigateToWordList,onStartDueReview:d.onStartDueReview,onStartNewLearn:d.onStartNewLearn,lastBackupTime:d.lastBackupTime,onBackup:de,onRestore:ce,dayProgress:C,dailyGoals:oe,serverStatus:n,onAction:h||(()=>{})};return e.jsx(e.Fragment,{children:e.jsx(ot,{...xe})})};export{bt as default};
