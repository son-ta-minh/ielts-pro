const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-CmW1Hubm.js","assets/file-json-CaEOV5eW.js","assets/WordList-X0L0layQ.js","assets/WordTable-CAzTAcHj.js","assets/WordTable_UI-C-ukuw4U.js","assets/TagBrowser-DqZ0x-XN.js","assets/search-CZmdTd69.js","assets/square-check-big-DGGNzDvA.js","assets/chevron-left-Ck-FfZ7q.js","assets/ReadingUnitPage-jatvoUxy.js","assets/download-i8YwjViF.js","assets/circle-DVAJG8mm.js","assets/useShelfLogic-D6pK2ZB1.js","assets/ShelfModals-BT9_zalU.js","assets/move-7ay4kvnd.js","assets/target-46uWdCmU.js","assets/pen-D5rYf6vN.js","assets/library-hIyowAQB.js","assets/SettingsView-d191SOL9.js","assets/AvatarSelectionModal-Cpe4N4Ki.js","assets/school-mfQ_WyIX.js","assets/ear-CZZKqzKN.js","assets/Discover-B8qd0JzN.js","assets/WritingStudioPage-BA2MndPH.js","assets/markdownParser-NDCOwRTZ.js","assets/chart-no-axes-column-increasing-BgARzvKL.js","assets/IrregularVerbs-DhxJWnRB.js","assets/file-clock-auAKSnDy.js","assets/MimicPractice-CsB0N8y1.js","assets/ListeningCardPage-PPFo3XrD.js","assets/LessonLibraryV2-D1-j7tNp.js","assets/SpeakingCardPage-DbXD0SR9.js","assets/CalendarPage-Ct7YMbMH.js","assets/WordBookPage-DhUWdaZh.js"])))=>i.map(i=>d[i]);
(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))o(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function u(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(f){if(f.ep)return;f.ep=!0;const d=u(f);fetch(f.href,d)}})();var o2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gm(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var gu={exports:{}},fi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function yy(){if(um)return fi;um=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function u(o,f,d){var m=null;if(d!==void 0&&(m=""+d),f.key!==void 0&&(m=""+f.key),"key"in f){d={};for(var x in f)x!=="key"&&(d[x]=f[x])}else d=f;return f=d.ref,{$$typeof:l,type:o,key:m,ref:f!==void 0?f:null,props:d}}return fi.Fragment=c,fi.jsx=u,fi.jsxs=u,fi}var dm;function by(){return dm||(dm=1,gu.exports=yy()),gu.exports}var s=by(),xu={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function vy(){if(fm)return Ce;fm=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function j(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,L={};function I(b,C,M){this.props=b,this.context=C,this.refs=L,this.updater=M||O}I.prototype.isReactComponent={},I.prototype.setState=function(b,C){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,C,"setState")},I.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Q(){}Q.prototype=I.prototype;function B(b,C,M){this.props=b,this.context=C,this.refs=L,this.updater=M||O}var X=B.prototype=new Q;X.constructor=B,N(X,I.prototype),X.isPureReactComponent=!0;var D=Array.isArray;function F(){}var W={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function T(b,C,M){var $=M.ref;return{$$typeof:l,type:b,key:C,ref:$!==void 0?$:null,props:M}}function K(b,C){return T(b.type,C,b.props)}function U(b){return typeof b=="object"&&b!==null&&b.$$typeof===l}function G(b){var C={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(M){return C[M]})}var ne=/\/+/g;function se(b,C){return typeof b=="object"&&b!==null&&b.key!=null?G(""+b.key):C.toString(36)}function fe(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(F,F):(b.status="pending",b.then(function(C){b.status==="pending"&&(b.status="fulfilled",b.value=C)},function(C){b.status==="pending"&&(b.status="rejected",b.reason=C)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function E(b,C,M,$,re){var V=typeof b;(V==="undefined"||V==="boolean")&&(b=null);var Z=!1;if(b===null)Z=!0;else switch(V){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(b.$$typeof){case l:case c:Z=!0;break;case S:return Z=b._init,E(Z(b._payload),C,M,$,re)}}if(Z)return re=re(b),Z=$===""?"."+se(b,0):$,D(re)?(M="",Z!=null&&(M=Z.replace(ne,"$&/")+"/"),E(re,C,M,"",function(xe){return xe})):re!=null&&(U(re)&&(re=K(re,M+(re.key==null||b&&b.key===re.key?"":(""+re.key).replace(ne,"$&/")+"/")+Z)),C.push(re)),1;Z=0;var le=$===""?".":$+":";if(D(b))for(var te=0;te<b.length;te++)$=b[te],V=le+se($,te),Z+=E($,C,M,V,re);else if(te=j(b),typeof te=="function")for(b=te.call(b),te=0;!($=b.next()).done;)$=$.value,V=le+se($,te++),Z+=E($,C,M,V,re);else if(V==="object"){if(typeof b.then=="function")return E(fe(b),C,M,$,re);throw C=String(b),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return Z}function ee(b,C,M){if(b==null)return b;var $=[],re=0;return E(b,$,"","",function(V){return C.call(M,V,re++)}),$}function oe(b){if(b._status===-1){var C=b._result;C=C(),C.then(function(M){(b._status===0||b._status===-1)&&(b._status=1,b._result=M)},function(M){(b._status===0||b._status===-1)&&(b._status=2,b._result=M)}),b._status===-1&&(b._status=0,b._result=C)}if(b._status===1)return b._result.default;throw b._result}var pe=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},de={map:ee,forEach:function(b,C,M){ee(b,function(){C.apply(this,arguments)},M)},count:function(b){var C=0;return ee(b,function(){C++}),C},toArray:function(b){return ee(b,function(C){return C})||[]},only:function(b){if(!U(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return Ce.Activity=y,Ce.Children=de,Ce.Component=I,Ce.Fragment=u,Ce.Profiler=f,Ce.PureComponent=B,Ce.StrictMode=o,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(b){return W.H.useMemoCache(b)}},Ce.cache=function(b){return function(){return b.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(b,C,M){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var $=N({},b.props),re=b.key;if(C!=null)for(V in C.key!==void 0&&(re=""+C.key),C)!P.call(C,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&C.ref===void 0||($[V]=C[V]);var V=arguments.length-2;if(V===1)$.children=M;else if(1<V){for(var Z=Array(V),le=0;le<V;le++)Z[le]=arguments[le+2];$.children=Z}return T(b.type,re,$)},Ce.createContext=function(b){return b={$$typeof:m,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:d,_context:b},b},Ce.createElement=function(b,C,M){var $,re={},V=null;if(C!=null)for($ in C.key!==void 0&&(V=""+C.key),C)P.call(C,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(re[$]=C[$]);var Z=arguments.length-2;if(Z===1)re.children=M;else if(1<Z){for(var le=Array(Z),te=0;te<Z;te++)le[te]=arguments[te+2];re.children=le}if(b&&b.defaultProps)for($ in Z=b.defaultProps,Z)re[$]===void 0&&(re[$]=Z[$]);return T(b,V,re)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(b){return{$$typeof:x,render:b}},Ce.isValidElement=U,Ce.lazy=function(b){return{$$typeof:S,_payload:{_status:-1,_result:b},_init:oe}},Ce.memo=function(b,C){return{$$typeof:h,type:b,compare:C===void 0?null:C}},Ce.startTransition=function(b){var C=W.T,M={};W.T=M;try{var $=b(),re=W.S;re!==null&&re(M,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(F,pe)}catch(V){pe(V)}finally{C!==null&&M.types!==null&&(C.types=M.types),W.T=C}},Ce.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ce.use=function(b){return W.H.use(b)},Ce.useActionState=function(b,C,M){return W.H.useActionState(b,C,M)},Ce.useCallback=function(b,C){return W.H.useCallback(b,C)},Ce.useContext=function(b){return W.H.useContext(b)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(b,C){return W.H.useDeferredValue(b,C)},Ce.useEffect=function(b,C){return W.H.useEffect(b,C)},Ce.useEffectEvent=function(b){return W.H.useEffectEvent(b)},Ce.useId=function(){return W.H.useId()},Ce.useImperativeHandle=function(b,C,M){return W.H.useImperativeHandle(b,C,M)},Ce.useInsertionEffect=function(b,C){return W.H.useInsertionEffect(b,C)},Ce.useLayoutEffect=function(b,C){return W.H.useLayoutEffect(b,C)},Ce.useMemo=function(b,C){return W.H.useMemo(b,C)},Ce.useOptimistic=function(b,C){return W.H.useOptimistic(b,C)},Ce.useReducer=function(b,C,M){return W.H.useReducer(b,C,M)},Ce.useRef=function(b){return W.H.useRef(b)},Ce.useState=function(b){return W.H.useState(b)},Ce.useSyncExternalStore=function(b,C,M){return W.H.useSyncExternalStore(b,C,M)},Ce.useTransition=function(){return W.H.useTransition()},Ce.version="19.2.4",Ce}var pm;function Gu(){return pm||(pm=1,xu.exports=vy()),xu.exports}var _=Gu();const Dt=Gm(_);var yu={exports:{}},pi={},bu={exports:{}},vu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function Sy(){return mm||(mm=1,(function(l){function c(E,ee){var oe=E.length;E.push(ee);e:for(;0<oe;){var pe=oe-1>>>1,de=E[pe];if(0<f(de,ee))E[pe]=ee,E[oe]=de,oe=pe;else break e}}function u(E){return E.length===0?null:E[0]}function o(E){if(E.length===0)return null;var ee=E[0],oe=E.pop();if(oe!==ee){E[0]=oe;e:for(var pe=0,de=E.length,b=de>>>1;pe<b;){var C=2*(pe+1)-1,M=E[C],$=C+1,re=E[$];if(0>f(M,oe))$<de&&0>f(re,M)?(E[pe]=re,E[$]=oe,pe=$):(E[pe]=M,E[C]=oe,pe=C);else if($<de&&0>f(re,oe))E[pe]=re,E[$]=oe,pe=$;else break e}}return ee}function f(E,ee){var oe=E.sortIndex-ee.sortIndex;return oe!==0?oe:E.id-ee.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var m=Date,x=m.now();l.unstable_now=function(){return m.now()-x}}var g=[],h=[],S=1,y=null,w=3,j=!1,O=!1,N=!1,L=!1,I=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function X(E){for(var ee=u(h);ee!==null;){if(ee.callback===null)o(h);else if(ee.startTime<=E)o(h),ee.sortIndex=ee.expirationTime,c(g,ee);else break;ee=u(h)}}function D(E){if(N=!1,X(E),!O)if(u(g)!==null)O=!0,F||(F=!0,G());else{var ee=u(h);ee!==null&&fe(D,ee.startTime-E)}}var F=!1,W=-1,P=5,T=-1;function K(){return L?!0:!(l.unstable_now()-T<P)}function U(){if(L=!1,F){var E=l.unstable_now();T=E;var ee=!0;try{e:{O=!1,N&&(N=!1,Q(W),W=-1),j=!0;var oe=w;try{t:{for(X(E),y=u(g);y!==null&&!(y.expirationTime>E&&K());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,w=y.priorityLevel;var de=pe(y.expirationTime<=E);if(E=l.unstable_now(),typeof de=="function"){y.callback=de,X(E),ee=!0;break t}y===u(g)&&o(g),X(E)}else o(g);y=u(g)}if(y!==null)ee=!0;else{var b=u(h);b!==null&&fe(D,b.startTime-E),ee=!1}}break e}finally{y=null,w=oe,j=!1}ee=void 0}}finally{ee?G():F=!1}}}var G;if(typeof B=="function")G=function(){B(U)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,se=ne.port2;ne.port1.onmessage=U,G=function(){se.postMessage(null)}}else G=function(){I(U,0)};function fe(E,ee){W=I(function(){E(l.unstable_now())},ee)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(E){E.callback=null},l.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<E?Math.floor(1e3/E):5},l.unstable_getCurrentPriorityLevel=function(){return w},l.unstable_next=function(E){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var oe=w;w=ee;try{return E()}finally{w=oe}},l.unstable_requestPaint=function(){L=!0},l.unstable_runWithPriority=function(E,ee){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var oe=w;w=E;try{return ee()}finally{w=oe}},l.unstable_scheduleCallback=function(E,ee,oe){var pe=l.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?pe+oe:pe):oe=pe,E){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=oe+de,E={id:S++,callback:ee,priorityLevel:E,startTime:oe,expirationTime:de,sortIndex:-1},oe>pe?(E.sortIndex=oe,c(h,E),u(g)===null&&E===u(h)&&(N?(Q(W),W=-1):N=!0,fe(D,oe-pe))):(E.sortIndex=de,c(g,E),O||j||(O=!0,F||(F=!0,G()))),E},l.unstable_shouldYield=K,l.unstable_wrapCallback=function(E){var ee=w;return function(){var oe=w;w=ee;try{return E.apply(this,arguments)}finally{w=oe}}}})(vu)),vu}var hm;function wy(){return hm||(hm=1,bu.exports=Sy()),bu.exports}var Su={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function Ny(){if(gm)return kt;gm=1;var l=Gu();function c(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)h+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var o={d:{f:u,r:function(){throw Error(c(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},f=Symbol.for("react.portal");function d(g,h,S){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:y==null?null:""+y,children:g,containerInfo:h,implementation:S}}var m=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,kt.createPortal=function(g,h){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(c(299));return d(g,h,null,S)},kt.flushSync=function(g){var h=m.T,S=o.p;try{if(m.T=null,o.p=2,g)return g()}finally{m.T=h,o.p=S,o.d.f()}},kt.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(g,h))},kt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},kt.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var S=h.as,y=x(S,h.crossOrigin),w=typeof h.integrity=="string"?h.integrity:void 0,j=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;S==="style"?o.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:j}):S==="script"&&o.d.X(g,{crossOrigin:y,integrity:w,fetchPriority:j,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},kt.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var S=x(h.as,h.crossOrigin);o.d.M(g,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(g)},kt.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var S=h.as,y=x(S,h.crossOrigin);o.d.L(g,S,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},kt.preloadModule=function(g,h){if(typeof g=="string")if(h){var S=x(h.as,h.crossOrigin);o.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(g)},kt.requestFormReset=function(g){o.d.r(g)},kt.unstable_batchedUpdates=function(g,h){return g(h)},kt.useFormState=function(g,h,S){return m.H.useFormState(g,h,S)},kt.useFormStatus=function(){return m.H.useHostTransitionStatus()},kt.version="19.2.4",kt}var xm;function jy(){if(xm)return Su.exports;xm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),Su.exports=Ny(),Su.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function Ey(){if(ym)return pi;ym=1;var l=wy(),c=Gu(),u=jy();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(o(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var r=i.alternate;if(r===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===a)return g(i),e;if(r===n)return g(i),t;r=r.sibling}throw Error(o(188))}if(a.return!==n.return)a=i,n=r;else{for(var p=!1,v=i.child;v;){if(v===a){p=!0,a=i,n=r;break}if(v===n){p=!0,n=i,a=r;break}v=v.sibling}if(!p){for(v=r.child;v;){if(v===a){p=!0,a=r,n=i;break}if(v===n){p=!0,n=r,a=i;break}v=v.sibling}if(!p)throw Error(o(189))}}if(a.alternate!==n)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),B=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case I:return"Profiler";case L:return"StrictMode";case D:return"Suspense";case F:return"SuspenseList";case T:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case B:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return t=e.displayName||null,t!==null?t:se(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return se(e(t))}catch{}}return null}var fe=Array.isArray,E=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},pe=[],de=-1;function b(e){return{current:e}}function C(e){0>de||(e.current=pe[de],pe[de]=null,de--)}function M(e,t){de++,pe[de]=e.current,e.current=t}var $=b(null),re=b(null),V=b(null),Z=b(null);function le(e,t){switch(M(V,t),M(re,e),M($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ip(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ip(t),e=Mp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}C($),M($,e)}function te(){C($),C(re),C(V)}function xe(e){e.memoizedState!==null&&M(Z,e);var t=$.current,a=Mp(t,e.type);t!==a&&(M(re,e),M($,a))}function ce(e){re.current===e&&(C($),C(re)),Z.current===e&&(C(Z),oi._currentValue=oe)}var me,be;function Ne(e){if(me===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);me=t&&t[1]||"",be=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+e+be}var ke=!1;function we(e,t){if(!e||ke)return"";ke=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(J){var Y=J}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(J){Y=J}e.call(ue.prototype)}}else{try{throw Error()}catch(J){Y=J}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=n.DetermineComponentFrameRoot(),p=r[0],v=r[1];if(p&&v){var A=p.split(`
`),q=v.split(`
`);for(i=n=0;n<A.length&&!A[n].includes("DetermineComponentFrameRoot");)n++;for(;i<q.length&&!q[i].includes("DetermineComponentFrameRoot");)i++;if(n===A.length||i===q.length)for(n=A.length-1,i=q.length-1;1<=n&&0<=i&&A[n]!==q[i];)i--;for(;1<=n&&0<=i;n--,i--)if(A[n]!==q[i]){if(n!==1||i!==1)do if(n--,i--,0>i||A[n]!==q[i]){var ae=`
`+A[n].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=n&&0<=i);break}}}finally{ke=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ne(a):""}function at(e,t){switch(e.tag){case 26:case 27:case 5:return Ne(e.type);case 16:return Ne("Lazy");case 13:return e.child!==t&&t!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return we(e.type,!1);case 11:return we(e.type.render,!1);case 1:return we(e.type,!0);case 31:return Ne("Activity");default:return""}}function St(e){try{var t="",a=null;do t+=at(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var rt=Object.prototype.hasOwnProperty,nt=l.unstable_scheduleCallback,jt=l.unstable_cancelCallback,Mt=l.unstable_shouldYield,R=l.unstable_requestPaint,Se=l.unstable_now,Te=l.unstable_getCurrentPriorityLevel,Ie=l.unstable_ImmediatePriority,Qe=l.unstable_UserBlockingPriority,Me=l.unstable_NormalPriority,ht=l.unstable_LowPriority,gt=l.unstable_IdlePriority,Bt=l.log,wa=l.unstable_setDisableYieldValue,wn=null,xt=null;function je(e){if(typeof Bt=="function"&&wa(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(wn,e)}catch{}}var He=Math.clz32?Math.clz32:Lt,ut=Math.log,lt=Math.LN2;function Lt(e){return e>>>=0,e===0?32:31-(ut(e)/lt|0)|0}var yt=256,Na=262144,Za=4194304;function Ya(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nn(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=n&134217727;return v!==0?(n=v&~r,n!==0?i=Ya(n):(p&=v,p!==0?i=Ya(p):a||(a=v&~e,a!==0&&(i=Ya(a))))):(v=n&~r,v!==0?i=Ya(v):p!==0?i=Ya(p):a||(a=n&~e,a!==0&&(i=Ya(a)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:i}function jn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ao(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ai(){var e=Za;return Za<<=1,(Za&62914560)===0&&(Za=4194304),e}function no(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ws(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ig(e,t,a,n,i,r){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,A=e.expirationTimes,q=e.hiddenUpdates;for(a=p&~a;0<a;){var ae=31-He(a),ue=1<<ae;v[ae]=0,A[ae]=-1;var Y=q[ae];if(Y!==null)for(q[ae]=null,ae=0;ae<Y.length;ae++){var J=Y[ae];J!==null&&(J.lane&=-536870913)}a&=~ue}n!==0&&md(e,n,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(p&~t))}function md(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-He(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function hd(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-He(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function gd(e,t){var a=t&-t;return a=(a&42)!==0?1:lo(a),(a&(e.suspendedLanes|t))!==0?0:a}function lo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function so(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xd(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:nm(e.type))}function yd(e,t){var a=ee.p;try{return ee.p=e,t()}finally{ee.p=a}}var En=Math.random().toString(36).slice(2),Et="__reactFiber$"+En,Ht="__reactProps$"+En,Tl="__reactContainer$"+En,io="__reactEvents$"+En,rg="__reactListeners$"+En,og="__reactHandles$"+En,bd="__reactResources$"+En,Ns="__reactMarker$"+En;function ro(e){delete e[Et],delete e[Ht],delete e[io],delete e[rg],delete e[og]}function _l(e){var t=e[Et];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Tl]||a[Et]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Gp(e);e!==null;){if(a=e[Et])return a;e=Gp(e)}return t}e=a,a=e.parentNode}return null}function Cl(e){if(e=e[Et]||e[Tl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function js(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Ol(e){var t=e[bd];return t||(t=e[bd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function wt(e){e[Ns]=!0}var vd=new Set,Sd={};function tl(e,t){kl(e,t),kl(e+"Capture",t)}function kl(e,t){for(Sd[e]=t,e=0;e<t.length;e++)vd.add(t[e])}var cg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wd={},Nd={};function ug(e){return rt.call(Nd,e)?!0:rt.call(wd,e)?!1:cg.test(e)?Nd[e]=!0:(wd[e]=!0,!1)}function Ti(e,t,a){if(ug(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function _i(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Xa(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function oa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dg(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){a=""+p,r.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oo(e){if(!e._valueTracker){var t=jd(e)?"checked":"value";e._valueTracker=dg(e,t,""+e[t])}}function Ed(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=jd(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fg=/[\n"\\]/g;function ca(e){return e.replace(fg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function co(e,t,a,n,i,r,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+oa(t)):e.value!==""+oa(t)&&(e.value=""+oa(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?uo(e,p,oa(t)):a!=null?uo(e,p,oa(a)):n!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+oa(v):e.removeAttribute("name")}function Ad(e,t,a,n,i,r,p,v){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){oo(e);return}a=a!=null?""+oa(a):"",t=t!=null?""+oa(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=v?e.checked:!!n,e.defaultChecked=!!n,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),oo(e)}function uo(e,t,a){t==="number"&&Ci(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Rl(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+oa(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Td(e,t,a){if(t!=null&&(t=""+oa(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+oa(a):""}function _d(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(o(92));if(fe(n)){if(1<n.length)throw Error(o(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=oa(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),oo(e)}function Il(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var pg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cd(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||pg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Od(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&Cd(e,i,n)}else for(var r in t)t.hasOwnProperty(r)&&Cd(e,r,t[r])}function fo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oi(e){return hg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wa(){}var po=null;function mo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ml=null,Ll=null;function kd(e){var t=Cl(e);if(t&&(e=t.stateNode)){var a=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(co(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ca(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[Ht]||null;if(!i)throw Error(o(90));co(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Ed(n)}break e;case"textarea":Td(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Rl(e,!!a.multiple,t,!1)}}}var ho=!1;function Rd(e,t,a){if(ho)return e(t,a);ho=!0;try{var n=e(t);return n}finally{if(ho=!1,(Ml!==null||Ll!==null)&&(xr(),Ml&&(t=Ml,e=Ll,Ll=Ml=null,kd(t),e)))for(t=0;t<e.length;t++)kd(e[t])}}function Es(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Ht]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var Ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=!1;if(Ka)try{var As={};Object.defineProperty(As,"passive",{get:function(){go=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{go=!1}var An=null,xo=null,ki=null;function Id(){if(ki)return ki;var e,t=xo,a=t.length,n,i="value"in An?An.value:An.textContent,r=i.length;for(e=0;e<a&&t[e]===i[e];e++);var p=a-e;for(n=1;n<=p&&t[a-n]===i[r-n];n++);return ki=i.slice(e,1<n?1-n:void 0)}function Ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function Md(){return!1}function Gt(e){function t(a,n,i,r,p){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(r):r[v]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ii:Md,this.isPropagationStopped=Md,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),t}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Gt(al),Ts=y({},al,{view:0,detail:0}),gg=Gt(Ts),yo,bo,_s,Li=y({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:So,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_s&&(_s&&e.type==="mousemove"?(yo=e.screenX-_s.screenX,bo=e.screenY-_s.screenY):bo=yo=0,_s=e),yo)},movementY:function(e){return"movementY"in e?e.movementY:bo}}),Ld=Gt(Li),xg=y({},Li,{dataTransfer:0}),yg=Gt(xg),bg=y({},Ts,{relatedTarget:0}),vo=Gt(bg),vg=y({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),Sg=Gt(vg),wg=y({},al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ng=Gt(wg),jg=y({},al,{data:0}),zd=Gt(jg),Eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _g(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tg[e])?!!t[e]:!1}function So(){return _g}var Cg=y({},Ts,{key:function(e){if(e.key){var t=Eg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ag[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:So,charCode:function(e){return e.type==="keypress"?Ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Og=Gt(Cg),kg=y({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ud=Gt(kg),Rg=y({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:So}),Ig=Gt(Rg),Mg=y({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lg=Gt(Mg),zg=y({},Li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ug=Gt(zg),Dg=y({},al,{newState:0,oldState:0}),Bg=Gt(Dg),Hg=[9,13,27,32],wo=Ka&&"CompositionEvent"in window,Cs=null;Ka&&"documentMode"in document&&(Cs=document.documentMode);var Gg=Ka&&"TextEvent"in window&&!Cs,Dd=Ka&&(!wo||Cs&&8<Cs&&11>=Cs),Bd=" ",Hd=!1;function Gd(e,t){switch(e){case"keyup":return Hg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zl=!1;function Vg(e,t){switch(e){case"compositionend":return Vd(t);case"keypress":return t.which!==32?null:(Hd=!0,Bd);case"textInput":return e=t.data,e===Bd&&Hd?null:e;default:return null}}function qg(e,t){if(zl)return e==="compositionend"||!wo&&Gd(e,t)?(e=Id(),ki=xo=An=null,zl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dd&&t.locale!=="ko"?null:t.data;default:return null}}var Qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qg[e.type]:t==="textarea"}function Qd(e,t,a,n){Ml?Ll?Ll.push(n):Ll=[n]:Ml=n,t=jr(t,"onChange"),0<t.length&&(a=new Mi("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Os=null,ks=null;function Zg(e){Tp(e,0)}function zi(e){var t=js(e);if(Ed(t))return e}function Zd(e,t){if(e==="change")return t}var Yd=!1;if(Ka){var No;if(Ka){var jo="oninput"in document;if(!jo){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),jo=typeof Xd.oninput=="function"}No=jo}else No=!1;Yd=No&&(!document.documentMode||9<document.documentMode)}function Wd(){Os&&(Os.detachEvent("onpropertychange",Kd),ks=Os=null)}function Kd(e){if(e.propertyName==="value"&&zi(ks)){var t=[];Qd(t,ks,e,mo(e)),Rd(Zg,t)}}function Yg(e,t,a){e==="focusin"?(Wd(),Os=t,ks=a,Os.attachEvent("onpropertychange",Kd)):e==="focusout"&&Wd()}function Xg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(ks)}function Wg(e,t){if(e==="click")return zi(t)}function Kg(e,t){if(e==="input"||e==="change")return zi(t)}function Fg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:Fg;function Rs(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!rt.call(t,i)||!Ft(e[i],t[i]))return!1}return!0}function Fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,t){var a=Fd(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fd(a)}}function Jd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ci(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ci(e.document)}return t}function Eo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $g=Ka&&"documentMode"in document&&11>=document.documentMode,Ul=null,Ao=null,Is=null,To=!1;function ef(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;To||Ul==null||Ul!==Ci(n)||(n=Ul,"selectionStart"in n&&Eo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Is&&Rs(Is,n)||(Is=n,n=jr(Ao,"onSelect"),0<n.length&&(t=new Mi("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Ul)))}function nl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Dl={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionrun:nl("Transition","TransitionRun"),transitionstart:nl("Transition","TransitionStart"),transitioncancel:nl("Transition","TransitionCancel"),transitionend:nl("Transition","TransitionEnd")},_o={},tf={};Ka&&(tf=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function ll(e){if(_o[e])return _o[e];if(!Dl[e])return e;var t=Dl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in tf)return _o[e]=t[a];return e}var af=ll("animationend"),nf=ll("animationiteration"),lf=ll("animationstart"),Jg=ll("transitionrun"),Pg=ll("transitionstart"),ex=ll("transitioncancel"),sf=ll("transitionend"),rf=new Map,Co="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Co.push("scrollEnd");function ja(e,t){rf.set(e,t),tl(t,[e])}var Ui=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ua=[],Bl=0,Oo=0;function Di(){for(var e=Bl,t=Oo=Bl=0;t<e;){var a=ua[t];ua[t++]=null;var n=ua[t];ua[t++]=null;var i=ua[t];ua[t++]=null;var r=ua[t];if(ua[t++]=null,n!==null&&i!==null){var p=n.pending;p===null?i.next=i:(i.next=p.next,p.next=i),n.pending=i}r!==0&&of(a,i,r)}}function Bi(e,t,a,n){ua[Bl++]=e,ua[Bl++]=t,ua[Bl++]=a,ua[Bl++]=n,Oo|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function ko(e,t,a,n){return Bi(e,t,a,n),Hi(e)}function sl(e,t){return Bi(e,null,null,t),Hi(e)}function of(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,r=e.return;r!==null;)r.childLanes|=a,n=r.alternate,n!==null&&(n.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-He(a),e=r.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),r):null}function Hi(e){if(50<ti)throw ti=0,Hc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Hl={};function tx(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,a,n){return new tx(e,t,a,n)}function Ro(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fa(e,t){var a=e.alternate;return a===null?(a=$t(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gi(e,t,a,n,i,r){var p=0;if(n=e,typeof e=="function")Ro(e)&&(p=1);else if(typeof e=="string")p=iy(e,a,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case T:return e=$t(31,a,t,i),e.elementType=T,e.lanes=r,e;case N:return il(a.children,i,r,t);case L:p=8,i|=24;break;case I:return e=$t(12,a,t,i|2),e.elementType=I,e.lanes=r,e;case D:return e=$t(13,a,t,i),e.elementType=D,e.lanes=r,e;case F:return e=$t(19,a,t,i),e.elementType=F,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:p=10;break e;case Q:p=9;break e;case X:p=11;break e;case W:p=14;break e;case P:p=16,n=null;break e}p=29,a=Error(o(130,e===null?"null":typeof e,"")),n=null}return t=$t(p,a,t,i),t.elementType=e,t.type=n,t.lanes=r,t}function il(e,t,a,n){return e=$t(7,e,n,t),e.lanes=a,e}function Io(e,t,a){return e=$t(6,e,null,t),e.lanes=a,e}function uf(e){var t=$t(18,null,null,0);return t.stateNode=e,t}function Mo(e,t,a){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var df=new WeakMap;function da(e,t){if(typeof e=="object"&&e!==null){var a=df.get(e);return a!==void 0?a:(t={value:e,source:t,stack:St(t)},df.set(e,t),t)}return{value:e,source:t,stack:St(t)}}var Gl=[],Vl=0,Vi=null,Ms=0,fa=[],pa=0,Tn=null,za=1,Ua="";function $a(e,t){Gl[Vl++]=Ms,Gl[Vl++]=Vi,Vi=e,Ms=t}function ff(e,t,a){fa[pa++]=za,fa[pa++]=Ua,fa[pa++]=Tn,Tn=e;var n=za;e=Ua;var i=32-He(n)-1;n&=~(1<<i),a+=1;var r=32-He(t)+i;if(30<r){var p=i-i%5;r=(n&(1<<p)-1).toString(32),n>>=p,i-=p,za=1<<32-He(t)+i|a<<i|n,Ua=r+e}else za=1<<r|a<<i|n,Ua=e}function Lo(e){e.return!==null&&($a(e,1),ff(e,1,0))}function zo(e){for(;e===Vi;)Vi=Gl[--Vl],Gl[Vl]=null,Ms=Gl[--Vl],Gl[Vl]=null;for(;e===Tn;)Tn=fa[--pa],fa[pa]=null,Ua=fa[--pa],fa[pa]=null,za=fa[--pa],fa[pa]=null}function pf(e,t){fa[pa++]=za,fa[pa++]=Ua,fa[pa++]=Tn,za=t.id,Ua=t.overflow,Tn=e}var At=null,Pe=null,Be=!1,_n=null,ma=!1,Uo=Error(o(519));function Cn(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ls(da(t,e)),Uo}function mf(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Et]=e,t[Ht]=n,a){case"dialog":ze("cancel",t),ze("close",t);break;case"iframe":case"object":case"embed":ze("load",t);break;case"video":case"audio":for(a=0;a<ni.length;a++)ze(ni[a],t);break;case"source":ze("error",t);break;case"img":case"image":case"link":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"input":ze("invalid",t),Ad(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ze("invalid",t);break;case"textarea":ze("invalid",t),_d(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||kp(t.textContent,a)?(n.popover!=null&&(ze("beforetoggle",t),ze("toggle",t)),n.onScroll!=null&&ze("scroll",t),n.onScrollEnd!=null&&ze("scrollend",t),n.onClick!=null&&(t.onclick=Wa),t=!0):t=!1,t||Cn(e,!0)}function hf(e){for(At=e.return;At;)switch(At.tag){case 5:case 31:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:At=At.return}}function ql(e){if(e!==At)return!1;if(!Be)return hf(e),Be=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||tu(e.type,e.memoizedProps)),a=!a),a&&Pe&&Cn(e),hf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Pe=Hp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Pe=Hp(e)}else t===27?(t=Pe,qn(e.type)?(e=iu,iu=null,Pe=e):Pe=t):Pe=At?ga(e.stateNode.nextSibling):null;return!0}function rl(){Pe=At=null,Be=!1}function Do(){var e=_n;return e!==null&&(Zt===null?Zt=e:Zt.push.apply(Zt,e),_n=null),e}function Ls(e){_n===null?_n=[e]:_n.push(e)}var Bo=b(null),ol=null,Ja=null;function On(e,t,a){M(Bo,t._currentValue),t._currentValue=a}function Pa(e){e._currentValue=Bo.current,C(Bo)}function Ho(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Go(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var p=i.child;r=r.firstContext;e:for(;r!==null;){var v=r;r=i;for(var A=0;A<t.length;A++)if(v.context===t[A]){r.lanes|=a,v=r.alternate,v!==null&&(v.lanes|=a),Ho(r.return,a,e),n||(p=null);break e}r=v.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(o(341));p.lanes|=a,r=p.alternate,r!==null&&(r.lanes|=a),Ho(p,a,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function Ql(e,t,a,n){e=null;for(var i=t,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(o(387));if(p=p.memoizedProps,p!==null){var v=i.type;Ft(i.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(i===Z.current){if(p=i.alternate,p===null)throw Error(o(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(oi):e=[oi])}i=i.return}e!==null&&Go(t,e,a,n),t.flags|=262144}function qi(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cl(e){ol=e,Ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return gf(ol,e)}function Qi(e,t){return ol===null&&cl(e),gf(e,t)}function gf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ja===null){if(e===null)throw Error(o(308));Ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ja=Ja.next=t;return a}var ax=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},nx=l.unstable_scheduleCallback,lx=l.unstable_NormalPriority,dt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vo(){return{controller:new ax,data:new Map,refCount:0}}function zs(e){e.refCount--,e.refCount===0&&nx(lx,function(){e.controller.abort()})}var Us=null,qo=0,Zl=0,Yl=null;function sx(e,t){if(Us===null){var a=Us=[];qo=0,Zl=Yc(),Yl={status:"pending",value:void 0,then:function(n){a.push(n)}}}return qo++,t.then(xf,xf),t}function xf(){if(--qo===0&&Us!==null){Yl!==null&&(Yl.status="fulfilled");var e=Us;Us=null,Zl=0,Yl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ix(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var yf=E.S;E.S=function(e,t){tp=Se(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&sx(e,t),yf!==null&&yf(e,t)};var ul=b(null);function Qo(){var e=ul.current;return e!==null?e:Je.pooledCache}function Zi(e,t){t===null?M(ul,ul.current):M(ul,t.pool)}function bf(){var e=Qo();return e===null?null:{parent:dt._currentValue,pool:e}}var Xl=Error(o(460)),Zo=Error(o(474)),Yi=Error(o(542)),Xi={then:function(){}};function vf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Wa,Wa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Nf(e),e;default:if(typeof t.status=="string")t.then(Wa,Wa);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Nf(e),e}throw fl=t,Xl}}function dl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fl=a,Xl):a}}var fl=null;function wf(){if(fl===null)throw Error(o(459));var e=fl;return fl=null,e}function Nf(e){if(e===Xl||e===Yi)throw Error(o(483))}var Wl=null,Ds=0;function Wi(e){var t=Ds;return Ds+=1,Wl===null&&(Wl=[]),Sf(Wl,e,t)}function Bs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ki(e,t){throw t.$$typeof===w?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jf(e){function t(z,k){if(e){var H=z.deletions;H===null?(z.deletions=[k],z.flags|=16):H.push(k)}}function a(z,k){if(!e)return null;for(;k!==null;)t(z,k),k=k.sibling;return null}function n(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function i(z,k){return z=Fa(z,k),z.index=0,z.sibling=null,z}function r(z,k,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<k?(z.flags|=67108866,k):H):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function p(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function v(z,k,H,ie){return k===null||k.tag!==6?(k=Io(H,z.mode,ie),k.return=z,k):(k=i(k,H),k.return=z,k)}function A(z,k,H,ie){var Ee=H.type;return Ee===N?ae(z,k,H.props.children,ie,H.key):k!==null&&(k.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===P&&dl(Ee)===k.type)?(k=i(k,H.props),Bs(k,H),k.return=z,k):(k=Gi(H.type,H.key,H.props,null,z.mode,ie),Bs(k,H),k.return=z,k)}function q(z,k,H,ie){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Mo(H,z.mode,ie),k.return=z,k):(k=i(k,H.children||[]),k.return=z,k)}function ae(z,k,H,ie,Ee){return k===null||k.tag!==7?(k=il(H,z.mode,ie,Ee),k.return=z,k):(k=i(k,H),k.return=z,k)}function ue(z,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Io(""+k,z.mode,H),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case j:return H=Gi(k.type,k.key,k.props,null,z.mode,H),Bs(H,k),H.return=z,H;case O:return k=Mo(k,z.mode,H),k.return=z,k;case P:return k=dl(k),ue(z,k,H)}if(fe(k)||G(k))return k=il(k,z.mode,H,null),k.return=z,k;if(typeof k.then=="function")return ue(z,Wi(k),H);if(k.$$typeof===B)return ue(z,Qi(z,k),H);Ki(z,k)}return null}function Y(z,k,H,ie){var Ee=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:v(z,k,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return H.key===Ee?A(z,k,H,ie):null;case O:return H.key===Ee?q(z,k,H,ie):null;case P:return H=dl(H),Y(z,k,H,ie)}if(fe(H)||G(H))return Ee!==null?null:ae(z,k,H,ie,null);if(typeof H.then=="function")return Y(z,k,Wi(H),ie);if(H.$$typeof===B)return Y(z,k,Qi(z,H),ie);Ki(z,H)}return null}function J(z,k,H,ie,Ee){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return z=z.get(H)||null,v(k,z,""+ie,Ee);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case j:return z=z.get(ie.key===null?H:ie.key)||null,A(k,z,ie,Ee);case O:return z=z.get(ie.key===null?H:ie.key)||null,q(k,z,ie,Ee);case P:return ie=dl(ie),J(z,k,H,ie,Ee)}if(fe(ie)||G(ie))return z=z.get(H)||null,ae(k,z,ie,Ee,null);if(typeof ie.then=="function")return J(z,k,H,Wi(ie),Ee);if(ie.$$typeof===B)return J(z,k,H,Qi(k,ie),Ee);Ki(k,ie)}return null}function ye(z,k,H,ie){for(var Ee=null,Ge=null,ve=k,Re=k=0,De=null;ve!==null&&Re<H.length;Re++){ve.index>Re?(De=ve,ve=null):De=ve.sibling;var Ve=Y(z,ve,H[Re],ie);if(Ve===null){ve===null&&(ve=De);break}e&&ve&&Ve.alternate===null&&t(z,ve),k=r(Ve,k,Re),Ge===null?Ee=Ve:Ge.sibling=Ve,Ge=Ve,ve=De}if(Re===H.length)return a(z,ve),Be&&$a(z,Re),Ee;if(ve===null){for(;Re<H.length;Re++)ve=ue(z,H[Re],ie),ve!==null&&(k=r(ve,k,Re),Ge===null?Ee=ve:Ge.sibling=ve,Ge=ve);return Be&&$a(z,Re),Ee}for(ve=n(ve);Re<H.length;Re++)De=J(ve,z,Re,H[Re],ie),De!==null&&(e&&De.alternate!==null&&ve.delete(De.key===null?Re:De.key),k=r(De,k,Re),Ge===null?Ee=De:Ge.sibling=De,Ge=De);return e&&ve.forEach(function(Wn){return t(z,Wn)}),Be&&$a(z,Re),Ee}function Ae(z,k,H,ie){if(H==null)throw Error(o(151));for(var Ee=null,Ge=null,ve=k,Re=k=0,De=null,Ve=H.next();ve!==null&&!Ve.done;Re++,Ve=H.next()){ve.index>Re?(De=ve,ve=null):De=ve.sibling;var Wn=Y(z,ve,Ve.value,ie);if(Wn===null){ve===null&&(ve=De);break}e&&ve&&Wn.alternate===null&&t(z,ve),k=r(Wn,k,Re),Ge===null?Ee=Wn:Ge.sibling=Wn,Ge=Wn,ve=De}if(Ve.done)return a(z,ve),Be&&$a(z,Re),Ee;if(ve===null){for(;!Ve.done;Re++,Ve=H.next())Ve=ue(z,Ve.value,ie),Ve!==null&&(k=r(Ve,k,Re),Ge===null?Ee=Ve:Ge.sibling=Ve,Ge=Ve);return Be&&$a(z,Re),Ee}for(ve=n(ve);!Ve.done;Re++,Ve=H.next())Ve=J(ve,z,Re,Ve.value,ie),Ve!==null&&(e&&Ve.alternate!==null&&ve.delete(Ve.key===null?Re:Ve.key),k=r(Ve,k,Re),Ge===null?Ee=Ve:Ge.sibling=Ve,Ge=Ve);return e&&ve.forEach(function(xy){return t(z,xy)}),Be&&$a(z,Re),Ee}function $e(z,k,H,ie){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case j:e:{for(var Ee=H.key;k!==null;){if(k.key===Ee){if(Ee=H.type,Ee===N){if(k.tag===7){a(z,k.sibling),ie=i(k,H.props.children),ie.return=z,z=ie;break e}}else if(k.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===P&&dl(Ee)===k.type){a(z,k.sibling),ie=i(k,H.props),Bs(ie,H),ie.return=z,z=ie;break e}a(z,k);break}else t(z,k);k=k.sibling}H.type===N?(ie=il(H.props.children,z.mode,ie,H.key),ie.return=z,z=ie):(ie=Gi(H.type,H.key,H.props,null,z.mode,ie),Bs(ie,H),ie.return=z,z=ie)}return p(z);case O:e:{for(Ee=H.key;k!==null;){if(k.key===Ee)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(z,k.sibling),ie=i(k,H.children||[]),ie.return=z,z=ie;break e}else{a(z,k);break}else t(z,k);k=k.sibling}ie=Mo(H,z.mode,ie),ie.return=z,z=ie}return p(z);case P:return H=dl(H),$e(z,k,H,ie)}if(fe(H))return ye(z,k,H,ie);if(G(H)){if(Ee=G(H),typeof Ee!="function")throw Error(o(150));return H=Ee.call(H),Ae(z,k,H,ie)}if(typeof H.then=="function")return $e(z,k,Wi(H),ie);if(H.$$typeof===B)return $e(z,k,Qi(z,H),ie);Ki(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(z,k.sibling),ie=i(k,H),ie.return=z,z=ie):(a(z,k),ie=Io(H,z.mode,ie),ie.return=z,z=ie),p(z)):a(z,k)}return function(z,k,H,ie){try{Ds=0;var Ee=$e(z,k,H,ie);return Wl=null,Ee}catch(ve){if(ve===Xl||ve===Yi)throw ve;var Ge=$t(29,ve,null,z.mode);return Ge.lanes=ie,Ge.return=z,Ge}finally{}}}var pl=jf(!0),Ef=jf(!1),kn=!1;function Yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function In(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(qe&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Hi(e),of(e,null,a),t}return Bi(e,n,t,a),Hi(e)}function Hs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,hd(e,a)}}function Wo(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?i=r=p:r=r.next=p,a=a.next}while(a!==null);r===null?i=r=t:r=r.next=t}else i=r=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Ko=!1;function Gs(){if(Ko){var e=Yl;if(e!==null)throw e}}function Vs(e,t,a,n){Ko=!1;var i=e.updateQueue;kn=!1;var r=i.firstBaseUpdate,p=i.lastBaseUpdate,v=i.shared.pending;if(v!==null){i.shared.pending=null;var A=v,q=A.next;A.next=null,p===null?r=q:p.next=q,p=A;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,v=ae.lastBaseUpdate,v!==p&&(v===null?ae.firstBaseUpdate=q:v.next=q,ae.lastBaseUpdate=A))}if(r!==null){var ue=i.baseState;p=0,ae=q=A=null,v=r;do{var Y=v.lane&-536870913,J=Y!==v.lane;if(J?(Ue&Y)===Y:(n&Y)===Y){Y!==0&&Y===Zl&&(Ko=!0),ae!==null&&(ae=ae.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ye=e,Ae=v;Y=t;var $e=a;switch(Ae.tag){case 1:if(ye=Ae.payload,typeof ye=="function"){ue=ye.call($e,ue,Y);break e}ue=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ae.payload,Y=typeof ye=="function"?ye.call($e,ue,Y):ye,Y==null)break e;ue=y({},ue,Y);break e;case 2:kn=!0}}Y=v.callback,Y!==null&&(e.flags|=64,J&&(e.flags|=8192),J=i.callbacks,J===null?i.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:v.tag,payload:v.payload,callback:v.callback,next:null},ae===null?(q=ae=J,A=ue):ae=ae.next=J,p|=Y;if(v=v.next,v===null){if(v=i.shared.pending,v===null)break;J=v,v=J.next,J.next=null,i.lastBaseUpdate=J,i.shared.pending=null}}while(!0);ae===null&&(A=ue),i.baseState=A,i.firstBaseUpdate=q,i.lastBaseUpdate=ae,r===null&&(i.shared.lanes=0),Dn|=p,e.lanes=p,e.memoizedState=ue}}function Af(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Tf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Af(a[e],t)}var Kl=b(null),Fi=b(0);function _f(e,t){e=cn,M(Fi,e),M(Kl,t),cn=e|t.baseLanes}function Fo(){M(Fi,cn),M(Kl,Kl.current)}function $o(){cn=Fi.current,C(Kl),C(Fi)}var Jt=b(null),ha=null;function Mn(e){var t=e.alternate;M(ot,ot.current&1),M(Jt,e),ha===null&&(t===null||Kl.current!==null||t.memoizedState!==null)&&(ha=e)}function Jo(e){M(ot,ot.current),M(Jt,e),ha===null&&(ha=e)}function Cf(e){e.tag===22?(M(ot,ot.current),M(Jt,e),ha===null&&(ha=e)):Ln()}function Ln(){M(ot,ot.current),M(Jt,Jt.current)}function Pt(e){C(Jt),ha===e&&(ha=null),C(ot)}var ot=b(0);function $i(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||lu(a)||su(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var en=0,Oe=null,Ke=null,ft=null,Ji=!1,Fl=!1,ml=!1,Pi=0,qs=0,$l=null,rx=0;function st(){throw Error(o(321))}function Po(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ft(e[a],t[a]))return!1;return!0}function ec(e,t,a,n,i,r){return en=r,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?f0:hc,ml=!1,r=a(n,i),ml=!1,Fl&&(r=kf(t,a,n,i)),Of(e),r}function Of(e){E.H=Ys;var t=Ke!==null&&Ke.next!==null;if(en=0,ft=Ke=Oe=null,Ji=!1,qs=0,$l=null,t)throw Error(o(300));e===null||pt||(e=e.dependencies,e!==null&&qi(e)&&(pt=!0))}function kf(e,t,a,n){Oe=e;var i=0;do{if(Fl&&($l=null),qs=0,Fl=!1,25<=i)throw Error(o(301));if(i+=1,ft=Ke=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}E.H=p0,r=t(a,n)}while(Fl);return r}function ox(){var e=E.H,t=e.useState()[0];return t=typeof t.then=="function"?Qs(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(Oe.flags|=1024),t}function tc(){var e=Pi!==0;return Pi=0,e}function ac(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function nc(e){if(Ji){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ji=!1}en=0,ft=Ke=Oe=null,Fl=!1,qs=Pi=0,$l=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Oe.memoizedState=ft=e:ft=ft.next=e,ft}function ct(){if(Ke===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=ft===null?Oe.memoizedState:ft.next;if(t!==null)ft=t,Ke=e;else{if(e===null)throw Oe.alternate===null?Error(o(467)):Error(o(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},ft===null?Oe.memoizedState=ft=e:ft=ft.next=e}return ft}function er(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qs(e){var t=qs;return qs+=1,$l===null&&($l=[]),e=Sf($l,e,t),t=Oe,(ft===null?t.memoizedState:ft.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?f0:hc),e}function tr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qs(e);if(e.$$typeof===B)return Tt(e)}throw Error(o(438,String(e)))}function lc(e){var t=null,a=Oe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=Oe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=er(),Oe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=K;return t.index++,a}function tn(e,t){return typeof t=="function"?t(e):t}function ar(e){var t=ct();return sc(t,Ke,e)}function sc(e,t,a){var n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=a;var i=e.baseQueue,r=n.pending;if(r!==null){if(i!==null){var p=i.next;i.next=r.next,r.next=p}t.baseQueue=i=r,n.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var v=p=null,A=null,q=t,ae=!1;do{var ue=q.lane&-536870913;if(ue!==q.lane?(Ue&ue)===ue:(en&ue)===ue){var Y=q.revertLane;if(Y===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ue===Zl&&(ae=!0);else if((en&Y)===Y){q=q.next,Y===Zl&&(ae=!0);continue}else ue={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},A===null?(v=A=ue,p=r):A=A.next=ue,Oe.lanes|=Y,Dn|=Y;ue=q.action,ml&&a(r,ue),r=q.hasEagerState?q.eagerState:a(r,ue)}else Y={lane:ue,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},A===null?(v=A=Y,p=r):A=A.next=Y,Oe.lanes|=ue,Dn|=ue;q=q.next}while(q!==null&&q!==t);if(A===null?p=r:A.next=v,!Ft(r,e.memoizedState)&&(pt=!0,ae&&(a=Yl,a!==null)))throw a;e.memoizedState=r,e.baseState=p,e.baseQueue=A,n.lastRenderedState=r}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function ic(e){var t=ct(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,r=t.memoizedState;if(i!==null){a.pending=null;var p=i=i.next;do r=e(r,p.action),p=p.next;while(p!==i);Ft(r,t.memoizedState)||(pt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,n]}function Rf(e,t,a){var n=Oe,i=ct(),r=Be;if(r){if(a===void 0)throw Error(o(407));a=a()}else a=t();var p=!Ft((Ke||i).memoizedState,a);if(p&&(i.memoizedState=a,pt=!0),i=i.queue,cc(Lf.bind(null,n,i,e),[e]),i.getSnapshot!==t||p||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Jl(9,{destroy:void 0},Mf.bind(null,n,i,a,t),null),Je===null)throw Error(o(349));r||(en&127)!==0||If(n,t,a)}return a}function If(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Oe.updateQueue,t===null?(t=er(),Oe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Mf(e,t,a,n){t.value=a,t.getSnapshot=n,zf(t)&&Uf(e)}function Lf(e,t,a){return a(function(){zf(t)&&Uf(e)})}function zf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ft(e,a)}catch{return!0}}function Uf(e){var t=sl(e,2);t!==null&&Yt(t,e,2)}function rc(e){var t=zt();if(typeof e=="function"){var a=e;if(e=a(),ml){je(!0);try{a()}finally{je(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:e},t}function Df(e,t,a,n){return e.baseState=a,sc(e,Ke,typeof n=="function"?n:tn)}function cx(e,t,a,n,i){if(sr(e))throw Error(o(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){r.listeners.push(p)}};E.T!==null?a(!0):r.isTransition=!1,n(r),a=t.pending,a===null?(r.next=t.pending=r,Bf(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Bf(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var r=E.T,p={};E.T=p;try{var v=a(i,n),A=E.S;A!==null&&A(p,v),Hf(e,t,v)}catch(q){oc(e,t,q)}finally{r!==null&&p.types!==null&&(r.types=p.types),E.T=r}}else try{r=a(i,n),Hf(e,t,r)}catch(q){oc(e,t,q)}}function Hf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Gf(e,t,n)},function(n){return oc(e,t,n)}):Gf(e,t,a)}function Gf(e,t,a){t.status="fulfilled",t.value=a,Vf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Bf(e,a)))}function oc(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Vf(t),t=t.next;while(t!==n)}e.action=null}function Vf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function qf(e,t){return t}function Qf(e,t){if(Be){var a=Je.formState;if(a!==null){e:{var n=Oe;if(Be){if(Pe){t:{for(var i=Pe,r=ma;i.nodeType!==8;){if(!r){i=null;break t}if(i=ga(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Pe=ga(i.nextSibling),n=i.data==="F!";break e}}Cn(n)}n=!1}n&&(t=a[0])}}return a=zt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qf,lastRenderedState:t},a.queue=n,a=c0.bind(null,Oe,n),n.dispatch=a,n=rc(!1),r=mc.bind(null,Oe,!1,n.queue),n=zt(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=cx.bind(null,Oe,i,r,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function Zf(e){var t=ct();return Yf(t,Ke,e)}function Yf(e,t,a){if(t=sc(e,t,qf)[0],e=ar(tn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Qs(t)}catch(p){throw p===Xl?Yi:p}else n=t;t=ct();var i=t.queue,r=i.dispatch;return a!==t.memoizedState&&(Oe.flags|=2048,Jl(9,{destroy:void 0},ux.bind(null,i,a),null)),[n,r,e]}function ux(e,t){e.action=t}function Xf(e){var t=ct(),a=Ke;if(a!==null)return Yf(t,a,e);ct(),t=t.memoizedState,a=ct();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Jl(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=Oe.updateQueue,t===null&&(t=er(),Oe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Wf(){return ct().memoizedState}function nr(e,t,a,n){var i=zt();Oe.flags|=e,i.memoizedState=Jl(1|t,{destroy:void 0},a,n===void 0?null:n)}function lr(e,t,a,n){var i=ct();n=n===void 0?null:n;var r=i.memoizedState.inst;Ke!==null&&n!==null&&Po(n,Ke.memoizedState.deps)?i.memoizedState=Jl(t,r,a,n):(Oe.flags|=e,i.memoizedState=Jl(1|t,r,a,n))}function Kf(e,t){nr(8390656,8,e,t)}function cc(e,t){lr(2048,8,e,t)}function dx(e){Oe.flags|=4;var t=Oe.updateQueue;if(t===null)t=er(),Oe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Ff(e){var t=ct().memoizedState;return dx({ref:t,nextImpl:e}),function(){if((qe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function $f(e,t){return lr(4,2,e,t)}function Jf(e,t){return lr(4,4,e,t)}function Pf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function e0(e,t,a){a=a!=null?a.concat([e]):null,lr(4,4,Pf.bind(null,t,e),a)}function uc(){}function t0(e,t){var a=ct();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Po(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function a0(e,t){var a=ct();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Po(t,n[1]))return n[0];if(n=e(),ml){je(!0);try{e()}finally{je(!1)}}return a.memoizedState=[n,t],n}function dc(e,t,a){return a===void 0||(en&1073741824)!==0&&(Ue&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=np(),Oe.lanes|=e,Dn|=e,a)}function n0(e,t,a,n){return Ft(a,t)?a:Kl.current!==null?(e=dc(e,a,n),Ft(e,t)||(pt=!0),e):(en&42)===0||(en&1073741824)!==0&&(Ue&261930)===0?(pt=!0,e.memoizedState=a):(e=np(),Oe.lanes|=e,Dn|=e,t)}function l0(e,t,a,n,i){var r=ee.p;ee.p=r!==0&&8>r?r:8;var p=E.T,v={};E.T=v,mc(e,!1,t,a);try{var A=i(),q=E.S;if(q!==null&&q(v,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var ae=ix(A,n);Zs(e,t,ae,aa(e))}else Zs(e,t,n,aa(e))}catch(ue){Zs(e,t,{then:function(){},status:"rejected",reason:ue},aa())}finally{ee.p=r,p!==null&&v.types!==null&&(p.types=v.types),E.T=p}}function fx(){}function fc(e,t,a,n){if(e.tag!==5)throw Error(o(476));var i=s0(e).queue;l0(e,i,t,oe,a===null?fx:function(){return i0(e),a(n)})}function s0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:oe},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function i0(e){var t=s0(e);t.next===null&&(t=e.alternate.memoizedState),Zs(e,t.next.queue,{},aa())}function pc(){return Tt(oi)}function r0(){return ct().memoizedState}function o0(){return ct().memoizedState}function px(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=aa();e=Rn(a);var n=In(t,e,a);n!==null&&(Yt(n,t,a),Hs(n,t,a)),t={cache:Vo()},e.payload=t;return}t=t.return}}function mx(e,t,a){var n=aa();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sr(e)?u0(t,a):(a=ko(e,t,a,n),a!==null&&(Yt(a,e,n),d0(a,t,n)))}function c0(e,t,a){var n=aa();Zs(e,t,a,n)}function Zs(e,t,a,n){var i={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(sr(e))u0(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var p=t.lastRenderedState,v=r(p,a);if(i.hasEagerState=!0,i.eagerState=v,Ft(v,p))return Bi(e,t,i,0),Je===null&&Di(),!1}catch{}finally{}if(a=ko(e,t,i,n),a!==null)return Yt(a,e,n),d0(a,t,n),!0}return!1}function mc(e,t,a,n){if(n={lane:2,revertLane:Yc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},sr(e)){if(t)throw Error(o(479))}else t=ko(e,a,n,2),t!==null&&Yt(t,e,2)}function sr(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function u0(e,t){Fl=Ji=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function d0(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,hd(e,a)}}var Ys={readContext:Tt,use:tr,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Ys.useEffectEvent=st;var f0={readContext:Tt,use:tr,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Kf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,nr(4194308,4,Pf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return nr(4194308,4,e,t)},useInsertionEffect:function(e,t){nr(4,2,e,t)},useMemo:function(e,t){var a=zt();t=t===void 0?null:t;var n=e();if(ml){je(!0);try{e()}finally{je(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=zt();if(a!==void 0){var i=a(t);if(ml){je(!0);try{a(t)}finally{je(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=mx.bind(null,Oe,e),[n.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=rc(e);var t=e.queue,a=c0.bind(null,Oe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:uc,useDeferredValue:function(e,t){var a=zt();return dc(a,e,t)},useTransition:function(){var e=rc(!1);return e=l0.bind(null,Oe,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Oe,i=zt();if(Be){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),Je===null)throw Error(o(349));(Ue&127)!==0||If(n,t,a)}i.memoizedState=a;var r={value:a,getSnapshot:t};return i.queue=r,Kf(Lf.bind(null,n,r,e),[e]),n.flags|=2048,Jl(9,{destroy:void 0},Mf.bind(null,n,r,a,t),null),a},useId:function(){var e=zt(),t=Je.identifierPrefix;if(Be){var a=Ua,n=za;a=(n&~(1<<32-He(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Pi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=rx++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pc,useFormState:Qf,useActionState:Qf,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=mc.bind(null,Oe,!0,a),a.dispatch=t,[e,t]},useMemoCache:lc,useCacheRefresh:function(){return zt().memoizedState=px.bind(null,Oe)},useEffectEvent:function(e){var t=zt(),a={impl:e};return t.memoizedState=a,function(){if((qe&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},hc={readContext:Tt,use:tr,useCallback:t0,useContext:Tt,useEffect:cc,useImperativeHandle:e0,useInsertionEffect:$f,useLayoutEffect:Jf,useMemo:a0,useReducer:ar,useRef:Wf,useState:function(){return ar(tn)},useDebugValue:uc,useDeferredValue:function(e,t){var a=ct();return n0(a,Ke.memoizedState,e,t)},useTransition:function(){var e=ar(tn)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:Rf,useId:r0,useHostTransitionStatus:pc,useFormState:Zf,useActionState:Zf,useOptimistic:function(e,t){var a=ct();return Df(a,Ke,e,t)},useMemoCache:lc,useCacheRefresh:o0};hc.useEffectEvent=Ff;var p0={readContext:Tt,use:tr,useCallback:t0,useContext:Tt,useEffect:cc,useImperativeHandle:e0,useInsertionEffect:$f,useLayoutEffect:Jf,useMemo:a0,useReducer:ic,useRef:Wf,useState:function(){return ic(tn)},useDebugValue:uc,useDeferredValue:function(e,t){var a=ct();return Ke===null?dc(a,e,t):n0(a,Ke.memoizedState,e,t)},useTransition:function(){var e=ic(tn)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:Rf,useId:r0,useHostTransitionStatus:pc,useFormState:Xf,useActionState:Xf,useOptimistic:function(e,t){var a=ct();return Ke!==null?Df(a,Ke,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:lc,useCacheRefresh:o0};p0.useEffectEvent=Ff;function gc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var xc={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=aa(),i=Rn(n);i.payload=t,a!=null&&(i.callback=a),t=In(e,i,n),t!==null&&(Yt(t,e,n),Hs(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=aa(),i=Rn(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=In(e,i,n),t!==null&&(Yt(t,e,n),Hs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=aa(),n=Rn(a);n.tag=2,t!=null&&(n.callback=t),t=In(e,n,a),t!==null&&(Yt(t,e,a),Hs(t,e,a))}};function m0(e,t,a,n,i,r,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,r,p):t.prototype&&t.prototype.isPureReactComponent?!Rs(a,n)||!Rs(i,r):!0}function h0(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&xc.enqueueReplaceState(t,t.state,null)}function hl(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=y({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function g0(e){Ui(e)}function x0(e){console.error(e)}function y0(e){Ui(e)}function ir(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function b0(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function yc(e,t,a){return a=Rn(a),a.tag=3,a.payload={element:null},a.callback=function(){ir(e,t)},a}function v0(e){return e=Rn(e),e.tag=3,e}function S0(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var r=n.value;e.payload=function(){return i(r)},e.callback=function(){b0(t,a,n)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){b0(t,a,n),typeof i!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})})}function hx(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Ql(t,a,i,!0),a=Jt.current,a!==null){switch(a.tag){case 31:case 13:return ha===null?yr():a.alternate===null&&it===0&&(it=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===Xi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),qc(e,n,i)),!1;case 22:return a.flags|=65536,n===Xi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),qc(e,n,i)),!1}throw Error(o(435,a.tag))}return qc(e,n,i),yr(),!1}if(Be)return t=Jt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==Uo&&(e=Error(o(422),{cause:n}),Ls(da(e,a)))):(n!==Uo&&(t=Error(o(423),{cause:n}),Ls(da(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=da(n,a),i=yc(e.stateNode,n,i),Wo(e,i),it!==4&&(it=2)),!1;var r=Error(o(520),{cause:n});if(r=da(r,a),ei===null?ei=[r]:ei.push(r),it!==4&&(it=2),t===null)return!0;n=da(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=yc(a.stateNode,n,e),Wo(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Bn===null||!Bn.has(r))))return a.flags|=65536,i&=-i,a.lanes|=i,i=v0(i),S0(i,e,a,n),Wo(a,i),!1}a=a.return}while(a!==null);return!1}var bc=Error(o(461)),pt=!1;function _t(e,t,a,n){t.child=e===null?Ef(t,null,a,n):pl(t,e.child,a,n)}function w0(e,t,a,n,i){a=a.render;var r=t.ref;if("ref"in n){var p={};for(var v in n)v!=="ref"&&(p[v]=n[v])}else p=n;return cl(t),n=ec(e,t,a,p,r,i),v=tc(),e!==null&&!pt?(ac(e,t,i),an(e,t,i)):(Be&&v&&Lo(t),t.flags|=1,_t(e,t,n,i),t.child)}function N0(e,t,a,n,i){if(e===null){var r=a.type;return typeof r=="function"&&!Ro(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,j0(e,t,r,n,i)):(e=Gi(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Tc(e,i)){var p=r.memoizedProps;if(a=a.compare,a=a!==null?a:Rs,a(p,n)&&e.ref===t.ref)return an(e,t,i)}return t.flags|=1,e=Fa(r,n),e.ref=t.ref,e.return=t,t.child=e}function j0(e,t,a,n,i){if(e!==null){var r=e.memoizedProps;if(Rs(r,n)&&e.ref===t.ref)if(pt=!1,t.pendingProps=n=r,Tc(e,i))(e.flags&131072)!==0&&(pt=!0);else return t.lanes=e.lanes,an(e,t,i)}return vc(e,t,a,n,i)}function E0(e,t,a,n){var i=n.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~r}else n=0,t.child=null;return A0(e,t,r,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zi(t,r!==null?r.cachePool:null),r!==null?_f(t,r):Fo(),Cf(t);else return n=t.lanes=536870912,A0(e,t,r!==null?r.baseLanes|a:a,a,n)}else r!==null?(Zi(t,r.cachePool),_f(t,r),Ln(),t.memoizedState=null):(e!==null&&Zi(t,null),Fo(),Ln());return _t(e,t,i,a),t.child}function Xs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function A0(e,t,a,n,i){var r=Qo();return r=r===null?null:{parent:dt._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&Zi(t,null),Fo(),Cf(t),e!==null&&Ql(e,t,n,!0),t.childLanes=i,null}function rr(e,t){return t=cr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function T0(e,t,a){return pl(t,e.child,null,a),e=rr(t,t.pendingProps),e.flags|=2,Pt(t),t.memoizedState=null,e}function gx(e,t,a){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Be){if(n.mode==="hidden")return e=rr(t,n),t.lanes=536870912,Xs(null,e);if(Jo(t),(e=Pe)?(e=Bp(e,ma),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Tn!==null?{id:za,overflow:Ua}:null,retryLane:536870912,hydrationErrors:null},a=uf(e),a.return=t,t.child=a,At=t,Pe=null)):e=null,e===null)throw Cn(t);return t.lanes=536870912,null}return rr(t,n)}var r=e.memoizedState;if(r!==null){var p=r.dehydrated;if(Jo(t),i)if(t.flags&256)t.flags&=-257,t=T0(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(pt||Ql(e,t,a,!1),i=(a&e.childLanes)!==0,pt||i){if(n=Je,n!==null&&(p=gd(n,a),p!==0&&p!==r.retryLane))throw r.retryLane=p,sl(e,p),Yt(n,e,p),bc;yr(),t=T0(e,t,a)}else e=r.treeContext,Pe=ga(p.nextSibling),At=t,Be=!0,_n=null,ma=!1,e!==null&&pf(t,e),t=rr(t,n),t.flags|=4096;return t}return e=Fa(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function or(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function vc(e,t,a,n,i){return cl(t),a=ec(e,t,a,n,void 0,i),n=tc(),e!==null&&!pt?(ac(e,t,i),an(e,t,i)):(Be&&n&&Lo(t),t.flags|=1,_t(e,t,a,i),t.child)}function _0(e,t,a,n,i,r){return cl(t),t.updateQueue=null,a=kf(t,n,a,i),Of(e),n=tc(),e!==null&&!pt?(ac(e,t,r),an(e,t,r)):(Be&&n&&Lo(t),t.flags|=1,_t(e,t,a,r),t.child)}function C0(e,t,a,n,i){if(cl(t),t.stateNode===null){var r=Hl,p=a.contextType;typeof p=="object"&&p!==null&&(r=Tt(p)),r=new a(n,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=xc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=n,r.state=t.memoizedState,r.refs={},Yo(t),p=a.contextType,r.context=typeof p=="object"&&p!==null?Tt(p):Hl,r.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(gc(t,a,p,n),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(p=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),p!==r.state&&xc.enqueueReplaceState(r,r.state,null),Vs(t,n,r,i),Gs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){r=t.stateNode;var v=t.memoizedProps,A=hl(a,v);r.props=A;var q=r.context,ae=a.contextType;p=Hl,typeof ae=="object"&&ae!==null&&(p=Tt(ae));var ue=a.getDerivedStateFromProps;ae=typeof ue=="function"||typeof r.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,ae||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(v||q!==p)&&h0(t,r,n,p),kn=!1;var Y=t.memoizedState;r.state=Y,Vs(t,n,r,i),Gs(),q=t.memoizedState,v||Y!==q||kn?(typeof ue=="function"&&(gc(t,a,ue,n),q=t.memoizedState),(A=kn||m0(t,a,A,n,Y,q,p))?(ae||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=q),r.props=n,r.state=q,r.context=p,n=A):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,Xo(e,t),p=t.memoizedProps,ae=hl(a,p),r.props=ae,ue=t.pendingProps,Y=r.context,q=a.contextType,A=Hl,typeof q=="object"&&q!==null&&(A=Tt(q)),v=a.getDerivedStateFromProps,(q=typeof v=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(p!==ue||Y!==A)&&h0(t,r,n,A),kn=!1,Y=t.memoizedState,r.state=Y,Vs(t,n,r,i),Gs();var J=t.memoizedState;p!==ue||Y!==J||kn||e!==null&&e.dependencies!==null&&qi(e.dependencies)?(typeof v=="function"&&(gc(t,a,v,n),J=t.memoizedState),(ae=kn||m0(t,a,ae,n,Y,J,A)||e!==null&&e.dependencies!==null&&qi(e.dependencies))?(q||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(n,J,A),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(n,J,A)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=J),r.props=n,r.state=J,r.context=A,n=ae):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),n=!1)}return r=n,or(e,t),n=(t.flags&128)!==0,r||n?(r=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&n?(t.child=pl(t,e.child,null,i),t.child=pl(t,null,a,i)):_t(e,t,a,i),t.memoizedState=r.state,e=t.child):e=an(e,t,i),e}function O0(e,t,a,n){return rl(),t.flags|=256,_t(e,t,a,n),t.child}var Sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wc(e){return{baseLanes:e,cachePool:bf()}}function Nc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ta),e}function k0(e,t,a){var n=t.pendingProps,i=!1,r=(t.flags&128)!==0,p;if((p=r)||(p=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Be){if(i?Mn(t):Ln(),(e=Pe)?(e=Bp(e,ma),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Tn!==null?{id:za,overflow:Ua}:null,retryLane:536870912,hydrationErrors:null},a=uf(e),a.return=t,t.child=a,At=t,Pe=null)):e=null,e===null)throw Cn(t);return su(e)?t.lanes=32:t.lanes=536870912,null}var v=n.children;return n=n.fallback,i?(Ln(),i=t.mode,v=cr({mode:"hidden",children:v},i),n=il(n,i,a,null),v.return=t,n.return=t,v.sibling=n,t.child=v,n=t.child,n.memoizedState=wc(a),n.childLanes=Nc(e,p,a),t.memoizedState=Sc,Xs(null,n)):(Mn(t),jc(t,v))}var A=e.memoizedState;if(A!==null&&(v=A.dehydrated,v!==null)){if(r)t.flags&256?(Mn(t),t.flags&=-257,t=Ec(e,t,a)):t.memoizedState!==null?(Ln(),t.child=e.child,t.flags|=128,t=null):(Ln(),v=n.fallback,i=t.mode,n=cr({mode:"visible",children:n.children},i),v=il(v,i,a,null),v.flags|=2,n.return=t,v.return=t,n.sibling=v,t.child=n,pl(t,e.child,null,a),n=t.child,n.memoizedState=wc(a),n.childLanes=Nc(e,p,a),t.memoizedState=Sc,t=Xs(null,n));else if(Mn(t),su(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var q=p.dgst;p=q,n=Error(o(419)),n.stack="",n.digest=p,Ls({value:n,source:null,stack:null}),t=Ec(e,t,a)}else if(pt||Ql(e,t,a,!1),p=(a&e.childLanes)!==0,pt||p){if(p=Je,p!==null&&(n=gd(p,a),n!==0&&n!==A.retryLane))throw A.retryLane=n,sl(e,n),Yt(p,e,n),bc;lu(v)||yr(),t=Ec(e,t,a)}else lu(v)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,Pe=ga(v.nextSibling),At=t,Be=!0,_n=null,ma=!1,e!==null&&pf(t,e),t=jc(t,n.children),t.flags|=4096);return t}return i?(Ln(),v=n.fallback,i=t.mode,A=e.child,q=A.sibling,n=Fa(A,{mode:"hidden",children:n.children}),n.subtreeFlags=A.subtreeFlags&65011712,q!==null?v=Fa(q,v):(v=il(v,i,a,null),v.flags|=2),v.return=t,n.return=t,n.sibling=v,t.child=n,Xs(null,n),n=t.child,v=e.child.memoizedState,v===null?v=wc(a):(i=v.cachePool,i!==null?(A=dt._currentValue,i=i.parent!==A?{parent:A,pool:A}:i):i=bf(),v={baseLanes:v.baseLanes|a,cachePool:i}),n.memoizedState=v,n.childLanes=Nc(e,p,a),t.memoizedState=Sc,Xs(e.child,n)):(Mn(t),a=e.child,e=a.sibling,a=Fa(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function jc(e,t){return t=cr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cr(e,t){return e=$t(22,e,null,t),e.lanes=0,e}function Ec(e,t,a){return pl(t,e.child,null,a),e=jc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function R0(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ho(e.return,t,a)}function Ac(e,t,a,n,i,r){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i,treeForkCount:r}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=n,p.tail=a,p.tailMode=i,p.treeForkCount=r)}function I0(e,t,a){var n=t.pendingProps,i=n.revealOrder,r=n.tail;n=n.children;var p=ot.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,M(ot,p),_t(e,t,n,a),n=Be?Ms:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&R0(e,a,t);else if(e.tag===19)R0(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&$i(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),Ac(t,!1,i,a,r,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$i(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}Ac(t,!0,a,null,r,n);break;case"together":Ac(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function an(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ql(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=Fa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Fa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Tc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&qi(e)))}function xx(e,t,a){switch(t.tag){case 3:le(t,t.stateNode.containerInfo),On(t,dt,e.memoizedState.cache),rl();break;case 27:case 5:xe(t);break;case 4:le(t,t.stateNode.containerInfo);break;case 10:On(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Jo(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Mn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?k0(e,t,a):(Mn(t),e=an(e,t,a),e!==null?e.sibling:null);Mn(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Ql(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return I0(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),M(ot,ot.current),n)break;return null;case 22:return t.lanes=0,E0(e,t,a,t.pendingProps);case 24:On(t,dt,e.memoizedState.cache)}return an(e,t,a)}function M0(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)pt=!0;else{if(!Tc(e,a)&&(t.flags&128)===0)return pt=!1,xx(e,t,a);pt=(e.flags&131072)!==0}else pt=!1,Be&&(t.flags&1048576)!==0&&ff(t,Ms,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=dl(t.elementType),t.type=e,typeof e=="function")Ro(e)?(n=hl(e,n),t.tag=1,t=C0(null,t,e,n,a)):(t.tag=0,t=vc(null,t,e,n,a));else{if(e!=null){var i=e.$$typeof;if(i===X){t.tag=11,t=w0(null,t,e,n,a);break e}else if(i===W){t.tag=14,t=N0(null,t,e,n,a);break e}}throw t=se(e)||e,Error(o(306,t,""))}}return t;case 0:return vc(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=hl(n,t.pendingProps),C0(e,t,n,i,a);case 3:e:{if(le(t,t.stateNode.containerInfo),e===null)throw Error(o(387));n=t.pendingProps;var r=t.memoizedState;i=r.element,Xo(e,t),Vs(t,n,null,a);var p=t.memoizedState;if(n=p.cache,On(t,dt,n),n!==r.cache&&Go(t,[dt],a,!0),Gs(),n=p.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=O0(e,t,n,a);break e}else if(n!==i){i=da(Error(o(424)),t),Ls(i),t=O0(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=ga(e.firstChild),At=t,Be=!0,_n=null,ma=!0,a=Ef(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),n===i){t=an(e,t,a);break e}_t(e,t,n,a)}t=t.child}return t;case 26:return or(e,t),e===null?(a=Zp(t.type,null,t.pendingProps,null))?t.memoizedState=a:Be||(a=t.type,e=t.pendingProps,n=Er(V.current).createElement(a),n[Et]=t,n[Ht]=e,Ct(n,a,e),wt(n),t.stateNode=n):t.memoizedState=Zp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xe(t),e===null&&Be&&(n=t.stateNode=Vp(t.type,t.pendingProps,V.current),At=t,ma=!0,i=Pe,qn(t.type)?(iu=i,Pe=ga(n.firstChild)):Pe=i),_t(e,t,t.pendingProps.children,a),or(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Be&&((i=n=Pe)&&(n=Xx(n,t.type,t.pendingProps,ma),n!==null?(t.stateNode=n,At=t,Pe=ga(n.firstChild),ma=!1,i=!0):i=!1),i||Cn(t)),xe(t),i=t.type,r=t.pendingProps,p=e!==null?e.memoizedProps:null,n=r.children,tu(i,r)?n=null:p!==null&&tu(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=ec(e,t,ox,null,null,a),oi._currentValue=i),or(e,t),_t(e,t,n,a),t.child;case 6:return e===null&&Be&&((e=a=Pe)&&(a=Wx(a,t.pendingProps,ma),a!==null?(t.stateNode=a,At=t,Pe=null,e=!0):e=!1),e||Cn(t)),null;case 13:return k0(e,t,a);case 4:return le(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=pl(t,null,n,a):_t(e,t,n,a),t.child;case 11:return w0(e,t,t.type,t.pendingProps,a);case 7:return _t(e,t,t.pendingProps,a),t.child;case 8:return _t(e,t,t.pendingProps.children,a),t.child;case 12:return _t(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,On(t,t.type,n.value),_t(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,cl(t),i=Tt(i),n=n(i),t.flags|=1,_t(e,t,n,a),t.child;case 14:return N0(e,t,t.type,t.pendingProps,a);case 15:return j0(e,t,t.type,t.pendingProps,a);case 19:return I0(e,t,a);case 31:return gx(e,t,a);case 22:return E0(e,t,a,t.pendingProps);case 24:return cl(t),n=Tt(dt),e===null?(i=Qo(),i===null&&(i=Je,r=Vo(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=a),i=r),t.memoizedState={parent:n,cache:i},Yo(t),On(t,dt,i)):((e.lanes&a)!==0&&(Xo(e,t),Vs(t,null,null,a),Gs()),i=e.memoizedState,r=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),On(t,dt,n)):(n=r.cache,On(t,dt,n),n!==i.cache&&Go(t,[dt],a,!0))),_t(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function nn(e){e.flags|=4}function _c(e,t,a,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(rp())e.flags|=8192;else throw fl=Xi,Zo}else e.flags&=-16777217}function L0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fp(t))if(rp())e.flags|=8192;else throw fl=Xi,Zo}function ur(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ai():536870912,e.lanes|=t,as|=t)}function Ws(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function yx(e,t,a){var n=t.pendingProps;switch(zo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return et(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Pa(dt),te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ql(t)?nn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Do())),et(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(nn(t),r!==null?(et(t),L0(t,r)):(et(t),_c(t,i,null,n,a))):r?r!==e.memoizedState?(nn(t),et(t),L0(t,r)):(et(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&nn(t),et(t),_c(t,i,e,n,a)),null;case 27:if(ce(t),a=V.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&nn(t);else{if(!n){if(t.stateNode===null)throw Error(o(166));return et(t),null}e=$.current,ql(t)?mf(t):(e=Vp(i,n,a),t.stateNode=e,nn(t))}return et(t),null;case 5:if(ce(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&nn(t);else{if(!n){if(t.stateNode===null)throw Error(o(166));return et(t),null}if(r=$.current,ql(t))mf(t);else{var p=Er(V.current);switch(r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof n.is=="string"?p.createElement("select",{is:n.is}):p.createElement("select"),n.multiple?r.multiple=!0:n.size&&(r.size=n.size);break;default:r=typeof n.is=="string"?p.createElement(i,{is:n.is}):p.createElement(i)}}r[Et]=t,r[Ht]=n;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=r;e:switch(Ct(r,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&nn(t)}}return et(t),_c(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&nn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(o(166));if(e=V.current,ql(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=At,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Et]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||kp(e.nodeValue,a)),e||Cn(t,!0)}else e=Er(e).createTextNode(n),e[Et]=t,t.stateNode=e}return et(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=ql(t),a!==null){if(e===null){if(!n)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Et]=t}else rl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),e=!1}else a=Do(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Pt(t),t):(Pt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return et(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=ql(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(o(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));i[Et]=t}else rl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),i=!1}else i=Do(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Pt(t),t):(Pt(t),null)}return Pt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==i&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ur(t,t.updateQueue),et(t),null);case 4:return te(),e===null&&Fc(t.stateNode.containerInfo),et(t),null;case 10:return Pa(t.type),et(t),null;case 19:if(C(ot),n=t.memoizedState,n===null)return et(t),null;if(i=(t.flags&128)!==0,r=n.rendering,r===null)if(i)Ws(n,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=$i(e),r!==null){for(t.flags|=128,Ws(n,!1),e=r.updateQueue,t.updateQueue=e,ur(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)cf(a,e),a=a.sibling;return M(ot,ot.current&1|2),Be&&$a(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Se()>hr&&(t.flags|=128,i=!0,Ws(n,!1),t.lanes=4194304)}else{if(!i)if(e=$i(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ur(t,e),Ws(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!Be)return et(t),null}else 2*Se()-n.renderingStartTime>hr&&a!==536870912&&(t.flags|=128,i=!0,Ws(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(e=n.last,e!==null?e.sibling=r:t.child=r,n.last=r)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Se(),e.sibling=null,a=ot.current,M(ot,i?a&1|2:a&1),Be&&$a(t,n.treeForkCount),e):(et(t),null);case 22:case 23:return Pt(t),$o(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),a=t.updateQueue,a!==null&&ur(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&C(ul),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Pa(dt),et(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function bx(e,t){switch(zo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pa(dt),te(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ce(t),null;case 31:if(t.memoizedState!==null){if(Pt(t),t.alternate===null)throw Error(o(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Pt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return C(ot),null;case 4:return te(),null;case 10:return Pa(t.type),null;case 22:case 23:return Pt(t),$o(),e!==null&&C(ul),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pa(dt),null;case 25:return null;default:return null}}function z0(e,t){switch(zo(t),t.tag){case 3:Pa(dt),te();break;case 26:case 27:case 5:ce(t);break;case 4:te();break;case 31:t.memoizedState!==null&&Pt(t);break;case 13:Pt(t);break;case 19:C(ot);break;case 10:Pa(t.type);break;case 22:case 23:Pt(t),$o(),e!==null&&C(ul);break;case 24:Pa(dt)}}function Ks(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var r=a.create,p=a.inst;n=r(),p.destroy=n}a=a.next}while(a!==i)}}catch(v){Ye(t,t.return,v)}}function zn(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){var p=n.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,i=t;var A=a,q=v;try{q()}catch(ae){Ye(i,A,ae)}}}n=n.next}while(n!==r)}}catch(ae){Ye(t,t.return,ae)}}function U0(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Tf(t,a)}catch(n){Ye(e,e.return,n)}}}function D0(e,t,a){a.props=hl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Ye(e,t,n)}}function Fs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){Ye(e,t,i)}}function Da(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){Ye(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){Ye(e,t,i)}else a.current=null}function B0(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){Ye(e,e.return,i)}}function Cc(e,t,a){try{var n=e.stateNode;Gx(n,e.type,a,t),n[Ht]=t}catch(i){Ye(e,e.return,i)}}function H0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qn(e.type)||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||H0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kc(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Wa));else if(n!==4&&(n===27&&qn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(kc(e,t,a),e=e.sibling;e!==null;)kc(e,t,a),e=e.sibling}function dr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&qn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(dr(e,t,a),e=e.sibling;e!==null;)dr(e,t,a),e=e.sibling}function G0(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ct(t,n,a),t[Et]=e,t[Ht]=a}catch(r){Ye(e,e.return,r)}}var ln=!1,mt=!1,Rc=!1,V0=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function vx(e,t){if(e=e.containerInfo,Pc=Rr,e=Pd(e),Eo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var p=0,v=-1,A=-1,q=0,ae=0,ue=e,Y=null;t:for(;;){for(var J;ue!==a||i!==0&&ue.nodeType!==3||(v=p+i),ue!==r||n!==0&&ue.nodeType!==3||(A=p+n),ue.nodeType===3&&(p+=ue.nodeValue.length),(J=ue.firstChild)!==null;)Y=ue,ue=J;for(;;){if(ue===e)break t;if(Y===a&&++q===i&&(v=p),Y===r&&++ae===n&&(A=p),(J=ue.nextSibling)!==null)break;ue=Y,Y=ue.parentNode}ue=J}a=v===-1||A===-1?null:{start:v,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(eu={focusedElem:e,selectionRange:a},Rr=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){switch(t=Nt,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,a=t,i=r.memoizedProps,r=r.memoizedState,n=a.stateNode;try{var ye=hl(a.type,i);e=n.getSnapshotBeforeUpdate(ye,r),n.__reactInternalSnapshotBeforeUpdate=e}catch(Ae){Ye(a,a.return,Ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)nu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}}function q0(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:rn(e,a),n&4&&Ks(5,a);break;case 1:if(rn(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){Ye(a,a.return,p)}else{var i=hl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ye(a,a.return,p)}}n&64&&U0(a),n&512&&Fs(a,a.return);break;case 3:if(rn(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Tf(e,t)}catch(p){Ye(a,a.return,p)}}break;case 27:t===null&&n&4&&G0(a);case 26:case 5:rn(e,a),t===null&&n&4&&B0(a),n&512&&Fs(a,a.return);break;case 12:rn(e,a);break;case 31:rn(e,a),n&4&&Y0(e,a);break;case 13:rn(e,a),n&4&&X0(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Cx.bind(null,a),Kx(e,a))));break;case 22:if(n=a.memoizedState!==null||ln,!n){t=t!==null&&t.memoizedState!==null||mt,i=ln;var r=mt;ln=n,(mt=t)&&!r?on(e,a,(a.subtreeFlags&8772)!==0):rn(e,a),ln=i,mt=r}break;case 30:break;default:rn(e,a)}}function Q0(e){var t=e.alternate;t!==null&&(e.alternate=null,Q0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ro(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,Vt=!1;function sn(e,t,a){for(a=a.child;a!==null;)Z0(e,t,a),a=a.sibling}function Z0(e,t,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(wn,a)}catch{}switch(a.tag){case 26:mt||Da(a,t),sn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||Da(a,t);var n=tt,i=Vt;qn(a.type)&&(tt=a.stateNode,Vt=!1),sn(e,t,a),si(a.stateNode),tt=n,Vt=i;break;case 5:mt||Da(a,t);case 6:if(n=tt,i=Vt,tt=null,sn(e,t,a),tt=n,Vt=i,tt!==null)if(Vt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(r){Ye(a,t,r)}else try{tt.removeChild(a.stateNode)}catch(r){Ye(a,t,r)}break;case 18:tt!==null&&(Vt?(e=tt,Up(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),us(e)):Up(tt,a.stateNode));break;case 4:n=tt,i=Vt,tt=a.stateNode.containerInfo,Vt=!0,sn(e,t,a),tt=n,Vt=i;break;case 0:case 11:case 14:case 15:zn(2,a,t),mt||zn(4,a,t),sn(e,t,a);break;case 1:mt||(Da(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&D0(a,t,n)),sn(e,t,a);break;case 21:sn(e,t,a);break;case 22:mt=(n=mt)||a.memoizedState!==null,sn(e,t,a),mt=n;break;default:sn(e,t,a)}}function Y0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{us(e)}catch(a){Ye(t,t.return,a)}}}function X0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{us(e)}catch(a){Ye(t,t.return,a)}}function Sx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new V0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new V0),t;default:throw Error(o(435,e.tag))}}function fr(e,t){var a=Sx(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var i=Ox.bind(null,e,n);n.then(i,i)}})}function qt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],r=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(qn(v.type)){tt=v.stateNode,Vt=!1;break e}break;case 5:tt=v.stateNode,Vt=!1;break e;case 3:case 4:tt=v.stateNode.containerInfo,Vt=!0;break e}v=v.return}if(tt===null)throw Error(o(160));Z0(r,p,i),tt=null,Vt=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)W0(t,e),t=t.sibling}var Ea=null;function W0(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Qt(e),n&4&&(zn(3,e,e.return),Ks(3,e),zn(5,e,e.return));break;case 1:qt(t,e),Qt(e),n&512&&(mt||a===null||Da(a,a.return)),n&64&&ln&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=Ea;if(qt(t,e),Qt(e),n&512&&(mt||a===null||Da(a,a.return)),n&4){var r=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Ns]||r[Et]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(n),i.head.insertBefore(r,i.querySelector("head > title"))),Ct(r,n,a),r[Et]=e,wt(r),n=r;break e;case"link":var p=Wp("link","href",i).get(n+(a.href||""));if(p){for(var v=0;v<p.length;v++)if(r=p[v],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(v,1);break t}}r=i.createElement(n),Ct(r,n,a),i.head.appendChild(r);break;case"meta":if(p=Wp("meta","content",i).get(n+(a.content||""))){for(v=0;v<p.length;v++)if(r=p[v],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(v,1);break t}}r=i.createElement(n),Ct(r,n,a),i.head.appendChild(r);break;default:throw Error(o(468,n))}r[Et]=e,wt(r),n=r}e.stateNode=n}else Kp(i,e.type,e.stateNode);else e.stateNode=Xp(i,n,e.memoizedProps);else r!==n?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,n===null?Kp(i,e.type,e.stateNode):Xp(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Cc(e,e.memoizedProps,a.memoizedProps)}break;case 27:qt(t,e),Qt(e),n&512&&(mt||a===null||Da(a,a.return)),a!==null&&n&4&&Cc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(qt(t,e),Qt(e),n&512&&(mt||a===null||Da(a,a.return)),e.flags&32){i=e.stateNode;try{Il(i,"")}catch(ye){Ye(e,e.return,ye)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,Cc(e,i,a!==null?a.memoizedProps:i)),n&1024&&(Rc=!0);break;case 6:if(qt(t,e),Qt(e),n&4){if(e.stateNode===null)throw Error(o(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(ye){Ye(e,e.return,ye)}}break;case 3:if(_r=null,i=Ea,Ea=Ar(t.containerInfo),qt(t,e),Ea=i,Qt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{us(t.containerInfo)}catch(ye){Ye(e,e.return,ye)}Rc&&(Rc=!1,K0(e));break;case 4:n=Ea,Ea=Ar(e.stateNode.containerInfo),qt(t,e),Qt(e),Ea=n;break;case 12:qt(t,e),Qt(e);break;case 31:qt(t,e),Qt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,fr(e,n)));break;case 13:qt(t,e),Qt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mr=Se()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,fr(e,n)));break;case 22:i=e.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,q=ln,ae=mt;if(ln=q||i,mt=ae||A,qt(t,e),mt=ae,ln=q,Qt(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||A||ln||mt||gl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){A=a=t;try{if(r=A.stateNode,i)p=r.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=A.stateNode;var ue=A.memoizedProps.style,Y=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ye){Ye(A,A.return,ye)}}}else if(t.tag===6){if(a===null){A=t;try{A.stateNode.nodeValue=i?"":A.memoizedProps}catch(ye){Ye(A,A.return,ye)}}}else if(t.tag===18){if(a===null){A=t;try{var J=A.stateNode;i?Dp(J,!0):Dp(A.stateNode,!1)}catch(ye){Ye(A,A.return,ye)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,fr(e,a))));break;case 19:qt(t,e),Qt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,fr(e,n)));break;case 30:break;case 21:break;default:qt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(H0(n)){a=n;break}n=n.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var i=a.stateNode,r=Oc(e);dr(e,r,i);break;case 5:var p=a.stateNode;a.flags&32&&(Il(p,""),a.flags&=-33);var v=Oc(e);dr(e,v,p);break;case 3:case 4:var A=a.stateNode.containerInfo,q=Oc(e);kc(e,q,A);break;default:throw Error(o(161))}}catch(ae){Ye(e,e.return,ae)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function K0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;K0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function rn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)q0(e,t.alternate,t),t=t.sibling}function gl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zn(4,t,t.return),gl(t);break;case 1:Da(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&D0(t,t.return,a),gl(t);break;case 27:si(t.stateNode);case 26:case 5:Da(t,t.return),gl(t);break;case 22:t.memoizedState===null&&gl(t);break;case 30:gl(t);break;default:gl(t)}e=e.sibling}}function on(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,r=t,p=r.flags;switch(r.tag){case 0:case 11:case 15:on(i,r,a),Ks(4,r);break;case 1:if(on(i,r,a),n=r,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(q){Ye(n,n.return,q)}if(n=r,i=n.updateQueue,i!==null){var v=n.stateNode;try{var A=i.shared.hiddenCallbacks;if(A!==null)for(i.shared.hiddenCallbacks=null,i=0;i<A.length;i++)Af(A[i],v)}catch(q){Ye(n,n.return,q)}}a&&p&64&&U0(r),Fs(r,r.return);break;case 27:G0(r);case 26:case 5:on(i,r,a),a&&n===null&&p&4&&B0(r),Fs(r,r.return);break;case 12:on(i,r,a);break;case 31:on(i,r,a),a&&p&4&&Y0(i,r);break;case 13:on(i,r,a),a&&p&4&&X0(i,r);break;case 22:r.memoizedState===null&&on(i,r,a),Fs(r,r.return);break;case 30:break;default:on(i,r,a)}t=t.sibling}}function Ic(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zs(a))}function Mc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zs(e))}function Aa(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)F0(e,t,a,n),t=t.sibling}function F0(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Aa(e,t,a,n),i&2048&&Ks(9,t);break;case 1:Aa(e,t,a,n);break;case 3:Aa(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zs(e)));break;case 12:if(i&2048){Aa(e,t,a,n),e=t.stateNode;try{var r=t.memoizedProps,p=r.id,v=r.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ye(t,t.return,A)}}else Aa(e,t,a,n);break;case 31:Aa(e,t,a,n);break;case 13:Aa(e,t,a,n);break;case 23:break;case 22:r=t.stateNode,p=t.alternate,t.memoizedState!==null?r._visibility&2?Aa(e,t,a,n):$s(e,t):r._visibility&2?Aa(e,t,a,n):(r._visibility|=2,Pl(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Ic(p,t);break;case 24:Aa(e,t,a,n),i&2048&&Mc(t.alternate,t);break;default:Aa(e,t,a,n)}}function Pl(e,t,a,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,p=t,v=a,A=n,q=p.flags;switch(p.tag){case 0:case 11:case 15:Pl(r,p,v,A,i),Ks(8,p);break;case 23:break;case 22:var ae=p.stateNode;p.memoizedState!==null?ae._visibility&2?Pl(r,p,v,A,i):$s(r,p):(ae._visibility|=2,Pl(r,p,v,A,i)),i&&q&2048&&Ic(p.alternate,p);break;case 24:Pl(r,p,v,A,i),i&&q&2048&&Mc(p.alternate,p);break;default:Pl(r,p,v,A,i)}t=t.sibling}}function $s(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:$s(a,n),i&2048&&Ic(n.alternate,n);break;case 24:$s(a,n),i&2048&&Mc(n.alternate,n);break;default:$s(a,n)}t=t.sibling}}var Js=8192;function es(e,t,a){if(e.subtreeFlags&Js)for(e=e.child;e!==null;)$0(e,t,a),e=e.sibling}function $0(e,t,a){switch(e.tag){case 26:es(e,t,a),e.flags&Js&&e.memoizedState!==null&&ry(a,Ea,e.memoizedState,e.memoizedProps);break;case 5:es(e,t,a);break;case 3:case 4:var n=Ea;Ea=Ar(e.stateNode.containerInfo),es(e,t,a),Ea=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Js,Js=16777216,es(e,t,a),Js=n):es(e,t,a));break;default:es(e,t,a)}}function J0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ps(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Nt=n,ep(n,e)}J0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)P0(e),e=e.sibling}function P0(e){switch(e.tag){case 0:case 11:case 15:Ps(e),e.flags&2048&&zn(9,e,e.return);break;case 3:Ps(e);break;case 12:Ps(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,pr(e)):Ps(e);break;default:Ps(e)}}function pr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Nt=n,ep(n,e)}J0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zn(8,t,t.return),pr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,pr(t));break;default:pr(t)}e=e.sibling}}function ep(e,t){for(;Nt!==null;){var a=Nt;switch(a.tag){case 0:case 11:case 15:zn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:zs(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Nt=n;else e:for(a=e;Nt!==null;){n=Nt;var i=n.sibling,r=n.return;if(Q0(n),n===a){Nt=null;break e}if(i!==null){i.return=r,Nt=i;break e}Nt=r}}}var wx={getCacheForType:function(e){var t=Tt(dt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Tt(dt).controller.signal}},Nx=typeof WeakMap=="function"?WeakMap:Map,qe=0,Je=null,Le=null,Ue=0,Ze=0,ea=null,Un=!1,ts=!1,Lc=!1,cn=0,it=0,Dn=0,xl=0,zc=0,ta=0,as=0,ei=null,Zt=null,Uc=!1,mr=0,tp=0,hr=1/0,gr=null,Bn=null,bt=0,Hn=null,ns=null,un=0,Dc=0,Bc=null,ap=null,ti=0,Hc=null;function aa(){return(qe&2)!==0&&Ue!==0?Ue&-Ue:E.T!==null?Yc():xd()}function np(){if(ta===0)if((Ue&536870912)===0||Be){var e=Na;Na<<=1,(Na&3932160)===0&&(Na=262144),ta=e}else ta=536870912;return e=Jt.current,e!==null&&(e.flags|=32),ta}function Yt(e,t,a){(e===Je&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)&&(ls(e,0),Gn(e,Ue,ta,!1)),ws(e,a),((qe&2)===0||e!==Je)&&(e===Je&&((qe&2)===0&&(xl|=a),it===4&&Gn(e,Ue,ta,!1)),Ba(e))}function lp(e,t,a){if((qe&6)!==0)throw Error(o(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||jn(e,t),i=n?Ax(e,t):Vc(e,t,!0),r=n;do{if(i===0){ts&&!n&&Gn(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!jx(a)){i=Vc(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;i=ei;var A=v.current.memoizedState.isDehydrated;if(A&&(ls(v,p).flags|=256),p=Vc(v,p,!1),p!==2){if(Lc&&!A){v.errorRecoveryDisabledLanes|=r,xl|=r,i=4;break e}r=Zt,Zt=i,r!==null&&(Zt===null?Zt=r:Zt.push.apply(Zt,r))}i=p}if(r=!1,i!==2)continue}}if(i===1){ls(e,0),Gn(e,t,0,!0);break}e:{switch(n=e,r=i,r){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Gn(n,t,ta,!Un);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(i=mr+300-Se(),10<i)){if(Gn(n,t,ta,!Un),Nn(n,0,!0)!==0)break e;un=t,n.timeoutHandle=Lp(sp.bind(null,n,a,Zt,gr,Uc,t,ta,xl,as,Un,r,"Throttled",-0,0),i);break e}sp(n,a,Zt,gr,Uc,t,ta,xl,as,Un,r,null,-0,0)}}break}while(!0);Ba(e)}function sp(e,t,a,n,i,r,p,v,A,q,ae,ue,Y,J){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wa},$0(t,r,ue);var ye=(r&62914560)===r?mr-Se():(r&4194048)===r?tp-Se():0;if(ye=oy(ue,ye),ye!==null){un=r,e.cancelPendingCommit=ye(pp.bind(null,e,t,r,a,n,i,p,v,A,ae,ue,null,Y,J)),Gn(e,r,p,!q);return}}pp(e,t,r,a,n,i,p,v,A)}function jx(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],r=i.getSnapshot;i=i.value;try{if(!Ft(r(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t,a,n){t&=~zc,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var r=31-He(i),p=1<<r;n[r]=-1,i&=~p}a!==0&&md(e,a,t)}function xr(){return(qe&6)===0?(ai(0),!1):!0}function Gc(){if(Le!==null){if(Ze===0)var e=Le.return;else e=Le,Ja=ol=null,nc(e),Wl=null,Ds=0,e=Le;for(;e!==null;)z0(e.alternate,e),e=e.return;Le=null}}function ls(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Qx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),un=0,Gc(),Je=e,Le=a=Fa(e.current,null),Ue=t,Ze=0,ea=null,Un=!1,ts=jn(e,t),Lc=!1,as=ta=zc=xl=Dn=it=0,Zt=ei=null,Uc=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-He(n),r=1<<i;t|=e[i],n&=~r}return cn=t,Di(),a}function ip(e,t){Oe=null,E.H=Ys,t===Xl||t===Yi?(t=wf(),Ze=3):t===Zo?(t=wf(),Ze=4):Ze=t===bc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ea=t,Le===null&&(it=1,ir(e,da(t,e.current)))}function rp(){var e=Jt.current;return e===null?!0:(Ue&4194048)===Ue?ha===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?e===ha:!1}function op(){var e=E.H;return E.H=Ys,e===null?Ys:e}function cp(){var e=E.A;return E.A=wx,e}function yr(){it=4,Un||(Ue&4194048)!==Ue&&Jt.current!==null||(ts=!0),(Dn&134217727)===0&&(xl&134217727)===0||Je===null||Gn(Je,Ue,ta,!1)}function Vc(e,t,a){var n=qe;qe|=2;var i=op(),r=cp();(Je!==e||Ue!==t)&&(gr=null,ls(e,t)),t=!1;var p=it;e:do try{if(Ze!==0&&Le!==null){var v=Le,A=ea;switch(Ze){case 8:Gc(),p=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(t=!0);var q=Ze;if(Ze=0,ea=null,ss(e,v,A,q),a&&ts){p=0;break e}break;default:q=Ze,Ze=0,ea=null,ss(e,v,A,q)}}Ex(),p=it;break}catch(ae){ip(e,ae)}while(!0);return t&&e.shellSuspendCounter++,Ja=ol=null,qe=n,E.H=i,E.A=r,Le===null&&(Je=null,Ue=0,Di()),p}function Ex(){for(;Le!==null;)up(Le)}function Ax(e,t){var a=qe;qe|=2;var n=op(),i=cp();Je!==e||Ue!==t?(gr=null,hr=Se()+500,ls(e,t)):ts=jn(e,t);e:do try{if(Ze!==0&&Le!==null){t=Le;var r=ea;t:switch(Ze){case 1:Ze=0,ea=null,ss(e,t,r,1);break;case 2:case 9:if(vf(r)){Ze=0,ea=null,dp(t);break}t=function(){Ze!==2&&Ze!==9||Je!==e||(Ze=7),Ba(e)},r.then(t,t);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:vf(r)?(Ze=0,ea=null,dp(t)):(Ze=0,ea=null,ss(e,t,r,7));break;case 5:var p=null;switch(Le.tag){case 26:p=Le.memoizedState;case 5:case 27:var v=Le;if(p?Fp(p):v.stateNode.complete){Ze=0,ea=null;var A=v.sibling;if(A!==null)Le=A;else{var q=v.return;q!==null?(Le=q,br(q)):Le=null}break t}}Ze=0,ea=null,ss(e,t,r,5);break;case 6:Ze=0,ea=null,ss(e,t,r,6);break;case 8:Gc(),it=6;break e;default:throw Error(o(462))}}Tx();break}catch(ae){ip(e,ae)}while(!0);return Ja=ol=null,E.H=n,E.A=i,qe=a,Le!==null?0:(Je=null,Ue=0,Di(),it)}function Tx(){for(;Le!==null&&!Mt();)up(Le)}function up(e){var t=M0(e.alternate,e,cn);e.memoizedProps=e.pendingProps,t===null?br(e):Le=t}function dp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=_0(a,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=_0(a,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:nc(t);default:z0(a,t),t=Le=cf(t,cn),t=M0(a,t,cn)}e.memoizedProps=e.pendingProps,t===null?br(e):Le=t}function ss(e,t,a,n){Ja=ol=null,nc(t),Wl=null,Ds=0;var i=t.return;try{if(hx(e,i,t,a,Ue)){it=1,ir(e,da(a,e.current)),Le=null;return}}catch(r){if(i!==null)throw Le=i,r;it=1,ir(e,da(a,e.current)),Le=null;return}t.flags&32768?(Be||n===1?e=!0:ts||(Ue&536870912)!==0?e=!1:(Un=e=!0,(n===2||n===9||n===3||n===6)&&(n=Jt.current,n!==null&&n.tag===13&&(n.flags|=16384))),fp(t,e)):br(t)}function br(e){var t=e;do{if((t.flags&32768)!==0){fp(t,Un);return}e=t.return;var a=yx(t.alternate,t,cn);if(a!==null){Le=a;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);it===0&&(it=5)}function fp(e,t){do{var a=bx(e.alternate,e);if(a!==null){a.flags&=32767,Le=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Le=e;return}Le=e=a}while(e!==null);it=6,Le=null}function pp(e,t,a,n,i,r,p,v,A){e.cancelPendingCommit=null;do vr();while(bt!==0);if((qe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(r=t.lanes|t.childLanes,r|=Oo,ig(e,a,r,p,v,A),e===Je&&(Le=Je=null,Ue=0),ns=t,Hn=e,un=a,Dc=r,Bc=i,ap=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kx(Me,function(){return yp(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=E.T,E.T=null,i=ee.p,ee.p=2,p=qe,qe|=4;try{vx(e,t,a)}finally{qe=p,ee.p=i,E.T=n}}bt=1,mp(),hp(),gp()}}function mp(){if(bt===1){bt=0;var e=Hn,t=ns,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=E.T,E.T=null;var n=ee.p;ee.p=2;var i=qe;qe|=4;try{W0(t,e);var r=eu,p=Pd(e.containerInfo),v=r.focusedElem,A=r.selectionRange;if(p!==v&&v&&v.ownerDocument&&Jd(v.ownerDocument.documentElement,v)){if(A!==null&&Eo(v)){var q=A.start,ae=A.end;if(ae===void 0&&(ae=q),"selectionStart"in v)v.selectionStart=q,v.selectionEnd=Math.min(ae,v.value.length);else{var ue=v.ownerDocument||document,Y=ue&&ue.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),ye=v.textContent.length,Ae=Math.min(A.start,ye),$e=A.end===void 0?Ae:Math.min(A.end,ye);!J.extend&&Ae>$e&&(p=$e,$e=Ae,Ae=p);var z=$d(v,Ae),k=$d(v,$e);if(z&&k&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==k.node||J.focusOffset!==k.offset)){var H=ue.createRange();H.setStart(z.node,z.offset),J.removeAllRanges(),Ae>$e?(J.addRange(H),J.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),J.addRange(H))}}}}for(ue=[],J=v;J=J.parentNode;)J.nodeType===1&&ue.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<ue.length;v++){var ie=ue[v];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Rr=!!Pc,eu=Pc=null}finally{qe=i,ee.p=n,E.T=a}}e.current=t,bt=2}}function hp(){if(bt===2){bt=0;var e=Hn,t=ns,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=E.T,E.T=null;var n=ee.p;ee.p=2;var i=qe;qe|=4;try{q0(e,t.alternate,t)}finally{qe=i,ee.p=n,E.T=a}}bt=3}}function gp(){if(bt===4||bt===3){bt=0,R();var e=Hn,t=ns,a=un,n=ap;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?bt=5:(bt=0,ns=Hn=null,xp(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Bn=null),so(a),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(wn,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=E.T,i=ee.p,ee.p=2,E.T=null;try{for(var r=e.onRecoverableError,p=0;p<n.length;p++){var v=n[p];r(v.value,{componentStack:v.stack})}}finally{E.T=t,ee.p=i}}(un&3)!==0&&vr(),Ba(e),i=e.pendingLanes,(a&261930)!==0&&(i&42)!==0?e===Hc?ti++:(ti=0,Hc=e):ti=0,ai(0)}}function xp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zs(t)))}function vr(){return mp(),hp(),gp(),yp()}function yp(){if(bt!==5)return!1;var e=Hn,t=Dc;Dc=0;var a=so(un),n=E.T,i=ee.p;try{ee.p=32>a?32:a,E.T=null,a=Bc,Bc=null;var r=Hn,p=un;if(bt=0,ns=Hn=null,un=0,(qe&6)!==0)throw Error(o(331));var v=qe;if(qe|=4,P0(r.current),F0(r,r.current,p,a),qe=v,ai(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(wn,r)}catch{}return!0}finally{ee.p=i,E.T=n,xp(e,t)}}function bp(e,t,a){t=da(a,t),t=yc(e.stateNode,t,2),e=In(e,t,2),e!==null&&(ws(e,2),Ba(e))}function Ye(e,t,a){if(e.tag===3)bp(e,e,a);else for(;t!==null;){if(t.tag===3){bp(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bn===null||!Bn.has(n))){e=da(a,e),a=v0(2),n=In(t,a,2),n!==null&&(S0(a,n,t,e),ws(n,2),Ba(n));break}}t=t.return}}function qc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Nx;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(Lc=!0,i.add(a),e=_x.bind(null,e,t,a),t.then(e,e))}function _x(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Je===e&&(Ue&a)===a&&(it===4||it===3&&(Ue&62914560)===Ue&&300>Se()-mr?(qe&2)===0&&ls(e,0):zc|=a,as===Ue&&(as=0)),Ba(e)}function vp(e,t){t===0&&(t=Ai()),e=sl(e,t),e!==null&&(ws(e,t),Ba(e))}function Cx(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),vp(e,a)}function Ox(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(o(314))}n!==null&&n.delete(t),vp(e,a)}function kx(e,t){return nt(e,t)}var Sr=null,is=null,Qc=!1,wr=!1,Zc=!1,Vn=0;function Ba(e){e!==is&&e.next===null&&(is===null?Sr=is=e:is=is.next=e),wr=!0,Qc||(Qc=!0,Ix())}function ai(e,t){if(!Zc&&wr){Zc=!0;do for(var a=!1,n=Sr;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var r=0;else{var p=n.suspendedLanes,v=n.pingedLanes;r=(1<<31-He(42|e)+1)-1,r&=i&~(p&~v),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,jp(n,r))}else r=Ue,r=Nn(n,n===Je?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(r&3)===0||jn(n,r)||(a=!0,jp(n,r));n=n.next}while(a);Zc=!1}}function Rx(){Sp()}function Sp(){wr=Qc=!1;var e=0;Vn!==0&&qx()&&(e=Vn);for(var t=Se(),a=null,n=Sr;n!==null;){var i=n.next,r=wp(n,t);r===0?(n.next=null,a===null?Sr=i:a.next=i,i===null&&(is=a)):(a=n,(e!==0||(r&3)!==0)&&(wr=!0)),n=i}bt!==0&&bt!==5||ai(e),Vn!==0&&(Vn=0)}function wp(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var p=31-He(r),v=1<<p,A=i[p];A===-1?((v&a)===0||(v&n)!==0)&&(i[p]=ao(v,t)):A<=t&&(e.expiredLanes|=v),r&=~v}if(t=Je,a=Ue,a=Nn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&jt(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&jt(n),so(a)){case 2:case 8:a=Qe;break;case 32:a=Me;break;case 268435456:a=gt;break;default:a=Me}return n=Np.bind(null,e),a=nt(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&jt(n),e.callbackPriority=2,e.callbackNode=null,2}function Np(e,t){if(bt!==0&&bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(vr()&&e.callbackNode!==a)return null;var n=Ue;return n=Nn(e,e===Je?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(lp(e,n,t),wp(e,Se()),e.callbackNode!=null&&e.callbackNode===a?Np.bind(null,e):null)}function jp(e,t){if(vr())return null;lp(e,t,!0)}function Ix(){Zx(function(){(qe&6)!==0?nt(Ie,Rx):Sp()})}function Yc(){if(Vn===0){var e=Zl;e===0&&(e=yt,yt<<=1,(yt&261888)===0&&(yt=256)),Vn=e}return Vn}function Ep(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Oi(""+e)}function Ap(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Mx(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var r=Ep((i[Ht]||null).action),p=n.submitter;p&&(t=(t=p[Ht]||null)?Ep(t.formAction):p.getAttribute("formAction"),t!==null&&(r=t,p=null));var v=new Mi("action","action",null,n,i);e.push({event:v,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Vn!==0){var A=p?Ap(i,p):new FormData(i);fc(a,{pending:!0,data:A,method:i.method,action:r},null,A)}}else typeof r=="function"&&(v.preventDefault(),A=p?Ap(i,p):new FormData(i),fc(a,{pending:!0,data:A,method:i.method,action:r},r,A))},currentTarget:i}]})}}for(var Xc=0;Xc<Co.length;Xc++){var Wc=Co[Xc],Lx=Wc.toLowerCase(),zx=Wc[0].toUpperCase()+Wc.slice(1);ja(Lx,"on"+zx)}ja(af,"onAnimationEnd"),ja(nf,"onAnimationIteration"),ja(lf,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(Jg,"onTransitionRun"),ja(Pg,"onTransitionStart"),ja(ex,"onTransitionCancel"),ja(sf,"onTransitionEnd"),kl("onMouseEnter",["mouseout","mouseover"]),kl("onMouseLeave",["mouseout","mouseover"]),kl("onPointerEnter",["pointerout","pointerover"]),kl("onPointerLeave",["pointerout","pointerover"]),tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tl("onBeforeInput",["compositionend","keypress","textInput","paste"]),tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ux=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ni));function Tp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var p=n.length-1;0<=p;p--){var v=n[p],A=v.instance,q=v.currentTarget;if(v=v.listener,A!==r&&i.isPropagationStopped())break e;r=v,i.currentTarget=q;try{r(i)}catch(ae){Ui(ae)}i.currentTarget=null,r=A}else for(p=0;p<n.length;p++){if(v=n[p],A=v.instance,q=v.currentTarget,v=v.listener,A!==r&&i.isPropagationStopped())break e;r=v,i.currentTarget=q;try{r(i)}catch(ae){Ui(ae)}i.currentTarget=null,r=A}}}}function ze(e,t){var a=t[io];a===void 0&&(a=t[io]=new Set);var n=e+"__bubble";a.has(n)||(_p(t,e,2,!1),a.add(n))}function Kc(e,t,a){var n=0;t&&(n|=4),_p(a,e,n,t)}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Fc(e){if(!e[Nr]){e[Nr]=!0,vd.forEach(function(a){a!=="selectionchange"&&(Ux.has(a)||Kc(a,!1,e),Kc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nr]||(t[Nr]=!0,Kc("selectionchange",!1,t))}}function _p(e,t,a,n){switch(nm(t)){case 2:var i=dy;break;case 8:i=fy;break;default:i=du}a=i.bind(null,t,a,e),i=void 0,!go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function $c(e,t,a,n,i){var r=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var p=n.tag;if(p===3||p===4){var v=n.stateNode.containerInfo;if(v===i)break;if(p===4)for(p=n.return;p!==null;){var A=p.tag;if((A===3||A===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;v!==null;){if(p=_l(v),p===null)return;if(A=p.tag,A===5||A===6||A===26||A===27){n=r=p;continue e}v=v.parentNode}}n=n.return}Rd(function(){var q=r,ae=mo(a),ue=[];e:{var Y=rf.get(e);if(Y!==void 0){var J=Mi,ye=e;switch(e){case"keypress":if(Ri(a)===0)break e;case"keydown":case"keyup":J=Og;break;case"focusin":ye="focus",J=vo;break;case"focusout":ye="blur",J=vo;break;case"beforeblur":case"afterblur":J=vo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Ig;break;case af:case nf:case lf:J=Sg;break;case sf:J=Lg;break;case"scroll":case"scrollend":J=gg;break;case"wheel":J=Ug;break;case"copy":case"cut":case"paste":J=Ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ud;break;case"toggle":case"beforetoggle":J=Bg}var Ae=(t&4)!==0,$e=!Ae&&(e==="scroll"||e==="scrollend"),z=Ae?Y!==null?Y+"Capture":null:Y;Ae=[];for(var k=q,H;k!==null;){var ie=k;if(H=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||H===null||z===null||(ie=Es(k,z),ie!=null&&Ae.push(li(k,ie,H))),$e)break;k=k.return}0<Ae.length&&(Y=new J(Y,ye,null,a,ae),ue.push({event:Y,listeners:Ae}))}}if((t&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",Y&&a!==po&&(ye=a.relatedTarget||a.fromElement)&&(_l(ye)||ye[Tl]))break e;if((J||Y)&&(Y=ae.window===ae?ae:(Y=ae.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(ye=a.relatedTarget||a.toElement,J=q,ye=ye?_l(ye):null,ye!==null&&($e=d(ye),Ae=ye.tag,ye!==$e||Ae!==5&&Ae!==27&&Ae!==6)&&(ye=null)):(J=null,ye=q),J!==ye)){if(Ae=Ld,ie="onMouseLeave",z="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(Ae=Ud,ie="onPointerLeave",z="onPointerEnter",k="pointer"),$e=J==null?Y:js(J),H=ye==null?Y:js(ye),Y=new Ae(ie,k+"leave",J,a,ae),Y.target=$e,Y.relatedTarget=H,ie=null,_l(ae)===q&&(Ae=new Ae(z,k+"enter",ye,a,ae),Ae.target=H,Ae.relatedTarget=$e,ie=Ae),$e=ie,J&&ye)t:{for(Ae=Dx,z=J,k=ye,H=0,ie=z;ie;ie=Ae(ie))H++;ie=0;for(var Ee=k;Ee;Ee=Ae(Ee))ie++;for(;0<H-ie;)z=Ae(z),H--;for(;0<ie-H;)k=Ae(k),ie--;for(;H--;){if(z===k||k!==null&&z===k.alternate){Ae=z;break t}z=Ae(z),k=Ae(k)}Ae=null}else Ae=null;J!==null&&Cp(ue,Y,J,Ae,!1),ye!==null&&$e!==null&&Cp(ue,$e,ye,Ae,!0)}}e:{if(Y=q?js(q):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var Ge=Zd;else if(qd(Y))if(Yd)Ge=Kg;else{Ge=Xg;var ve=Yg}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&fo(q.elementType)&&(Ge=Zd):Ge=Wg;if(Ge&&(Ge=Ge(e,q))){Qd(ue,Ge,a,ae);break e}ve&&ve(e,Y,q),e==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&uo(Y,"number",Y.value)}switch(ve=q?js(q):window,e){case"focusin":(qd(ve)||ve.contentEditable==="true")&&(Ul=ve,Ao=q,Is=null);break;case"focusout":Is=Ao=Ul=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,ef(ue,a,ae);break;case"selectionchange":if($g)break;case"keydown":case"keyup":ef(ue,a,ae)}var Re;if(wo)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else zl?Gd(e,a)&&(De="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(Dd&&a.locale!=="ko"&&(zl||De!=="onCompositionStart"?De==="onCompositionEnd"&&zl&&(Re=Id()):(An=ae,xo="value"in An?An.value:An.textContent,zl=!0)),ve=jr(q,De),0<ve.length&&(De=new zd(De,e,null,a,ae),ue.push({event:De,listeners:ve}),Re?De.data=Re:(Re=Vd(a),Re!==null&&(De.data=Re)))),(Re=Gg?Vg(e,a):qg(e,a))&&(De=jr(q,"onBeforeInput"),0<De.length&&(ve=new zd("onBeforeInput","beforeinput",null,a,ae),ue.push({event:ve,listeners:De}),ve.data=Re)),Mx(ue,e,q,a,ae)}Tp(ue,t)})}function li(e,t,a){return{instance:e,listener:t,currentTarget:a}}function jr(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Es(e,a),i!=null&&n.unshift(li(e,i,r)),i=Es(e,t),i!=null&&n.push(li(e,i,r))),e.tag===3)return n;e=e.return}return[]}function Dx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cp(e,t,a,n,i){for(var r=t._reactName,p=[];a!==null&&a!==n;){var v=a,A=v.alternate,q=v.stateNode;if(v=v.tag,A!==null&&A===n)break;v!==5&&v!==26&&v!==27||q===null||(A=q,i?(q=Es(a,r),q!=null&&p.unshift(li(a,q,A))):i||(q=Es(a,r),q!=null&&p.push(li(a,q,A)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var Bx=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function Op(e){return(typeof e=="string"?e:""+e).replace(Bx,`
`).replace(Hx,"")}function kp(e,t){return t=Op(t),Op(e)===t}function Fe(e,t,a,n,i,r){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Il(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Il(e,""+n);break;case"className":_i(e,"class",n);break;case"tabIndex":_i(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(e,a,n);break;case"style":Od(e,n,r);break;case"data":if(t!=="object"){_i(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Oi(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&Fe(e,t,"name",i.name,i,null),Fe(e,t,"formEncType",i.formEncType,i,null),Fe(e,t,"formMethod",i.formMethod,i,null),Fe(e,t,"formTarget",i.formTarget,i,null)):(Fe(e,t,"encType",i.encType,i,null),Fe(e,t,"method",i.method,i,null),Fe(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Oi(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Wa);break;case"onScroll":n!=null&&ze("scroll",e);break;case"onScrollEnd":n!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(o(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Oi(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":ze("beforetoggle",e),ze("toggle",e),Ti(e,"popover",n);break;case"xlinkActuate":Xa(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Xa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Xa(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Xa(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Xa(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Xa(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Xa(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Xa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Xa(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ti(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mg.get(a)||a,Ti(e,a,n))}}function Jc(e,t,a,n,i,r){switch(a){case"style":Od(e,n,r);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(o(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Il(e,n):(typeof n=="number"||typeof n=="bigint")&&Il(e,""+n);break;case"onScroll":n!=null&&ze("scroll",e);break;case"onScrollEnd":n!=null&&ze("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),r=e[Ht]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof n=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Ti(e,a,n)}}}function Ct(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var n=!1,i=!1,r;for(r in a)if(a.hasOwnProperty(r)){var p=a[r];if(p!=null)switch(r){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Fe(e,t,r,p,a,null)}}i&&Fe(e,t,"srcSet",a.srcSet,a,null),n&&Fe(e,t,"src",a.src,a,null);return;case"input":ze("invalid",e);var v=r=p=i=null,A=null,q=null;for(n in a)if(a.hasOwnProperty(n)){var ae=a[n];if(ae!=null)switch(n){case"name":i=ae;break;case"type":p=ae;break;case"checked":A=ae;break;case"defaultChecked":q=ae;break;case"value":r=ae;break;case"defaultValue":v=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(o(137,t));break;default:Fe(e,t,n,ae,a,null)}}Ad(e,r,v,A,q,p,i,!1);return;case"select":ze("invalid",e),n=p=r=null;for(i in a)if(a.hasOwnProperty(i)&&(v=a[i],v!=null))switch(i){case"value":r=v;break;case"defaultValue":p=v;break;case"multiple":n=v;default:Fe(e,t,i,v,a,null)}t=r,a=p,e.multiple=!!n,t!=null?Rl(e,!!n,t,!1):a!=null&&Rl(e,!!n,a,!0);return;case"textarea":ze("invalid",e),r=i=n=null;for(p in a)if(a.hasOwnProperty(p)&&(v=a[p],v!=null))switch(p){case"value":n=v;break;case"defaultValue":i=v;break;case"children":r=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:Fe(e,t,p,v,a,null)}_d(e,n,i,r);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(n=a[A],n!=null))switch(A){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Fe(e,t,A,n,a,null)}return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(n=0;n<ni.length;n++)ze(ni[n],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(n=a[q],n!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Fe(e,t,q,n,a,null)}return;default:if(fo(t)){for(ae in a)a.hasOwnProperty(ae)&&(n=a[ae],n!==void 0&&Jc(e,t,ae,n,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(n=a[v],n!=null&&Fe(e,t,v,n,a,null))}function Gx(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,p=null,v=null,A=null,q=null,ae=null;for(J in a){var ue=a[J];if(a.hasOwnProperty(J)&&ue!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":A=ue;default:n.hasOwnProperty(J)||Fe(e,t,J,null,n,ue)}}for(var Y in n){var J=n[Y];if(ue=a[Y],n.hasOwnProperty(Y)&&(J!=null||ue!=null))switch(Y){case"type":r=J;break;case"name":i=J;break;case"checked":q=J;break;case"defaultChecked":ae=J;break;case"value":p=J;break;case"defaultValue":v=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,t));break;default:J!==ue&&Fe(e,t,Y,J,n,ue)}}co(e,p,v,A,q,ae,r,i);return;case"select":J=p=v=Y=null;for(r in a)if(A=a[r],a.hasOwnProperty(r)&&A!=null)switch(r){case"value":break;case"multiple":J=A;default:n.hasOwnProperty(r)||Fe(e,t,r,null,n,A)}for(i in n)if(r=n[i],A=a[i],n.hasOwnProperty(i)&&(r!=null||A!=null))switch(i){case"value":Y=r;break;case"defaultValue":v=r;break;case"multiple":p=r;default:r!==A&&Fe(e,t,i,r,n,A)}t=v,a=p,n=J,Y!=null?Rl(e,!!a,Y,!1):!!n!=!!a&&(t!=null?Rl(e,!!a,t,!0):Rl(e,!!a,a?[]:"",!1));return;case"textarea":J=Y=null;for(v in a)if(i=a[v],a.hasOwnProperty(v)&&i!=null&&!n.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Fe(e,t,v,null,n,i)}for(p in n)if(i=n[p],r=a[p],n.hasOwnProperty(p)&&(i!=null||r!=null))switch(p){case"value":Y=i;break;case"defaultValue":J=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(o(91));break;default:i!==r&&Fe(e,t,p,i,n,r)}Td(e,Y,J);return;case"option":for(var ye in a)if(Y=a[ye],a.hasOwnProperty(ye)&&Y!=null&&!n.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:Fe(e,t,ye,null,n,Y)}for(A in n)if(Y=n[A],J=a[A],n.hasOwnProperty(A)&&Y!==J&&(Y!=null||J!=null))switch(A){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Fe(e,t,A,Y,n,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)Y=a[Ae],a.hasOwnProperty(Ae)&&Y!=null&&!n.hasOwnProperty(Ae)&&Fe(e,t,Ae,null,n,Y);for(q in n)if(Y=n[q],J=a[q],n.hasOwnProperty(q)&&Y!==J&&(Y!=null||J!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,t));break;default:Fe(e,t,q,Y,n,J)}return;default:if(fo(t)){for(var $e in a)Y=a[$e],a.hasOwnProperty($e)&&Y!==void 0&&!n.hasOwnProperty($e)&&Jc(e,t,$e,void 0,n,Y);for(ae in n)Y=n[ae],J=a[ae],!n.hasOwnProperty(ae)||Y===J||Y===void 0&&J===void 0||Jc(e,t,ae,Y,n,J);return}}for(var z in a)Y=a[z],a.hasOwnProperty(z)&&Y!=null&&!n.hasOwnProperty(z)&&Fe(e,t,z,null,n,Y);for(ue in n)Y=n[ue],J=a[ue],!n.hasOwnProperty(ue)||Y===J||Y==null&&J==null||Fe(e,t,ue,Y,n,J)}function Rp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var i=a[n],r=i.transferSize,p=i.initiatorType,v=i.duration;if(r&&v&&Rp(p)){for(p=0,v=i.responseEnd,n+=1;n<a.length;n++){var A=a[n],q=A.startTime;if(q>v)break;var ae=A.transferSize,ue=A.initiatorType;ae&&Rp(ue)&&(A=A.responseEnd,p+=ae*(A<v?1:(v-q)/(A-q)))}if(--n,t+=8*(r+p)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Pc=null,eu=null;function Er(e){return e.nodeType===9?e:e.ownerDocument}function Ip(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=null;function qx(){var e=window.event;return e&&e.type==="popstate"?e===au?!1:(au=e,!0):(au=null,!1)}var Lp=typeof setTimeout=="function"?setTimeout:void 0,Qx=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,Zx=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(e){return zp.resolve(null).then(e).catch(Yx)}:Lp;function Yx(e){setTimeout(function(){throw e})}function qn(e){return e==="head"}function Up(e,t){var a=t,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(i),us(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")si(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,si(a);for(var r=a.firstChild;r;){var p=r.nextSibling,v=r.nodeName;r[Ns]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=p}}else a==="body"&&si(e.ownerDocument.body);a=i}while(a);us(t)}function Dp(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function nu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nu(a),ro(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Xx(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ns])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=ga(e.nextSibling),e===null)break}return null}function Wx(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ga(e.nextSibling),e===null))return null;return e}function Bp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ga(e.nextSibling),e===null))return null;return e}function lu(e){return e.data==="$?"||e.data==="$~"}function su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Kx(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function ga(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var iu=null;function Hp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ga(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Vp(e,t,a){switch(t=Er(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function si(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ro(e)}var xa=new Map,qp=new Set;function Ar(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var dn=ee.d;ee.d={f:Fx,r:$x,D:Jx,C:Px,L:ey,m:ty,X:ny,S:ay,M:ly};function Fx(){var e=dn.f(),t=xr();return e||t}function $x(e){var t=Cl(e);t!==null&&t.tag===5&&t.type==="form"?i0(t):dn.r(e)}var rs=typeof document>"u"?null:document;function Qp(e,t,a){var n=rs;if(n&&typeof t=="string"&&t){var i=ca(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),qp.has(i)||(qp.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),Ct(t,"link",e),wt(t),n.head.appendChild(t)))}}function Jx(e){dn.D(e),Qp("dns-prefetch",e,null)}function Px(e,t){dn.C(e,t),Qp("preconnect",e,t)}function ey(e,t,a){dn.L(e,t,a);var n=rs;if(n&&e&&t){var i='link[rel="preload"][as="'+ca(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+ca(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+ca(a.imageSizes)+'"]')):i+='[href="'+ca(e)+'"]';var r=i;switch(t){case"style":r=os(e);break;case"script":r=cs(e)}xa.has(r)||(e=y({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),xa.set(r,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(ii(r))||t==="script"&&n.querySelector(ri(r))||(t=n.createElement("link"),Ct(t,"link",e),wt(t),n.head.appendChild(t)))}}function ty(e,t){dn.m(e,t);var a=rs;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+ca(n)+'"][href="'+ca(e)+'"]',r=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=cs(e)}if(!xa.has(r)&&(e=y({rel:"modulepreload",href:e},t),xa.set(r,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ri(r)))return}n=a.createElement("link"),Ct(n,"link",e),wt(n),a.head.appendChild(n)}}}function ay(e,t,a){dn.S(e,t,a);var n=rs;if(n&&e){var i=Ol(n).hoistableStyles,r=os(e);t=t||"default";var p=i.get(r);if(!p){var v={loading:0,preload:null};if(p=n.querySelector(ii(r)))v.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},a),(a=xa.get(r))&&ru(e,a);var A=p=n.createElement("link");wt(A),Ct(A,"link",e),A._p=new Promise(function(q,ae){A.onload=q,A.onerror=ae}),A.addEventListener("load",function(){v.loading|=1}),A.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Tr(p,t,n)}p={type:"stylesheet",instance:p,count:1,state:v},i.set(r,p)}}}function ny(e,t){dn.X(e,t);var a=rs;if(a&&e){var n=Ol(a).hoistableScripts,i=cs(e),r=n.get(i);r||(r=a.querySelector(ri(i)),r||(e=y({src:e,async:!0},t),(t=xa.get(i))&&ou(e,t),r=a.createElement("script"),wt(r),Ct(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(i,r))}}function ly(e,t){dn.M(e,t);var a=rs;if(a&&e){var n=Ol(a).hoistableScripts,i=cs(e),r=n.get(i);r||(r=a.querySelector(ri(i)),r||(e=y({src:e,async:!0,type:"module"},t),(t=xa.get(i))&&ou(e,t),r=a.createElement("script"),wt(r),Ct(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(i,r))}}function Zp(e,t,a,n){var i=(i=V.current)?Ar(i):null;if(!i)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=os(a.href),a=Ol(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=os(a.href);var r=Ol(i).hoistableStyles,p=r.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,p),(r=i.querySelector(ii(e)))&&!r._p&&(p.instance=r,p.state.loading=5),xa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xa.set(e,a),r||sy(i,e,a,p.state))),t&&n===null)throw Error(o(528,""));return p}if(t&&n!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=cs(a),a=Ol(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function os(e){return'href="'+ca(e)+'"'}function ii(e){return'link[rel="stylesheet"]['+e+"]"}function Yp(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function sy(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ct(t,"link",a),wt(t),e.head.appendChild(t))}function cs(e){return'[src="'+ca(e)+'"]'}function ri(e){return"script[async]"+e}function Xp(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ca(a.href)+'"]');if(n)return t.instance=n,wt(n),n;var i=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),wt(n),Ct(n,"style",i),Tr(n,a.precedence,e),t.instance=n;case"stylesheet":i=os(a.href);var r=e.querySelector(ii(i));if(r)return t.state.loading|=4,t.instance=r,wt(r),r;n=Yp(a),(i=xa.get(i))&&ru(n,i),r=(e.ownerDocument||e).createElement("link"),wt(r);var p=r;return p._p=new Promise(function(v,A){p.onload=v,p.onerror=A}),Ct(r,"link",n),t.state.loading|=4,Tr(r,a.precedence,e),t.instance=r;case"script":return r=cs(a.src),(i=e.querySelector(ri(r)))?(t.instance=i,wt(i),i):(n=a,(i=xa.get(r))&&(n=y({},a),ou(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),wt(i),Ct(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Tr(n,a.precedence,e));return t.instance}function Tr(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,r=i,p=0;p<n.length;p++){var v=n[p];if(v.dataset.precedence===t)r=v;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var _r=null;function Wp(e,t,a){if(_r===null){var n=new Map,i=_r=new Map;i.set(a,n)}else i=_r,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var r=a[i];if(!(r[Ns]||r[Et]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var p=r.getAttribute(t)||"";p=e+p;var v=n.get(p);v?v.push(r):n.set(p,[r])}}return n}function Kp(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function iy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Fp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ry(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var i=os(n.href),r=t.querySelector(ii(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,wt(r);return}r=t.ownerDocument||t,n=Yp(n),(i=xa.get(i))&&ru(n,i),r=r.createElement("link"),wt(r);var p=r;p._p=new Promise(function(v,A){p.onload=v,p.onerror=A}),Ct(r,"link",n),a.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Cr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var cu=0;function oy(e,t){return e.stylesheets&&e.count===0&&kr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&kr(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&cu===0&&(cu=62500*Vx());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&kr(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>cu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function Cr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Or=null;function kr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Or=new Map,t.forEach(cy,e),Or=null,Cr.call(e))}function cy(e,t){if(!(t.state.loading&4)){var a=Or.get(e);if(a)var n=a.get(null);else{a=new Map,Or.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var p=i[r];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),n=p)}n&&a.set(null,n)}i=t.instance,p=i.getAttribute("data-precedence"),r=a.get(p)||n,r===n&&a.set(null,i),a.set(p,i),this.count++,n=Cr.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var oi={$$typeof:B,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function uy(e,t,a,n,i,r,p,v,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=no(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.hiddenUpdates=no(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function $p(e,t,a,n,i,r,p,v,A,q,ae,ue){return e=new uy(e,t,a,p,A,q,ae,ue,v),t=1,r===!0&&(t|=24),r=$t(3,null,null,t),e.current=r,r.stateNode=e,t=Vo(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:n,isDehydrated:a,cache:t},Yo(r),e}function Jp(e){return e?(e=Hl,e):Hl}function Pp(e,t,a,n,i,r){i=Jp(i),n.context===null?n.context=i:n.pendingContext=i,n=Rn(t),n.payload={element:a},r=r===void 0?null:r,r!==null&&(n.callback=r),a=In(e,n,t),a!==null&&(Yt(a,e,t),Hs(a,e,t))}function em(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function uu(e,t){em(e,t),(e=e.alternate)&&em(e,t)}function tm(e){if(e.tag===13||e.tag===31){var t=sl(e,67108864);t!==null&&Yt(t,e,67108864),uu(e,67108864)}}function am(e){if(e.tag===13||e.tag===31){var t=aa();t=lo(t);var a=sl(e,t);a!==null&&Yt(a,e,t),uu(e,t)}}var Rr=!0;function dy(e,t,a,n){var i=E.T;E.T=null;var r=ee.p;try{ee.p=2,du(e,t,a,n)}finally{ee.p=r,E.T=i}}function fy(e,t,a,n){var i=E.T;E.T=null;var r=ee.p;try{ee.p=8,du(e,t,a,n)}finally{ee.p=r,E.T=i}}function du(e,t,a,n){if(Rr){var i=fu(n);if(i===null)$c(e,t,n,Ir,a),lm(e,n);else if(my(i,e,t,a,n))n.stopPropagation();else if(lm(e,n),t&4&&-1<py.indexOf(e)){for(;i!==null;){var r=Cl(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var p=Ya(r.pendingLanes);if(p!==0){var v=r;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var A=1<<31-He(p);v.entanglements[1]|=A,p&=~A}Ba(r),(qe&6)===0&&(hr=Se()+500,ai(0))}}break;case 31:case 13:v=sl(r,2),v!==null&&Yt(v,r,2),xr(),uu(r,2)}if(r=fu(n),r===null&&$c(e,t,n,Ir,a),r===i)break;i=r}i!==null&&n.stopPropagation()}else $c(e,t,n,null,a)}}function fu(e){return e=mo(e),pu(e)}var Ir=null;function pu(e){if(Ir=null,e=_l(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=x(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ir=e,null}function nm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case Ie:return 2;case Qe:return 8;case Me:case ht:return 32;case gt:return 268435456;default:return 32}default:return 32}}var mu=!1,Qn=null,Zn=null,Yn=null,ci=new Map,ui=new Map,Xn=[],py="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lm(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ui.delete(t.pointerId)}}function di(e,t,a,n,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:r,targetContainers:[i]},t!==null&&(t=Cl(t),t!==null&&tm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function my(e,t,a,n,i){switch(t){case"focusin":return Qn=di(Qn,e,t,a,n,i),!0;case"dragenter":return Zn=di(Zn,e,t,a,n,i),!0;case"mouseover":return Yn=di(Yn,e,t,a,n,i),!0;case"pointerover":var r=i.pointerId;return ci.set(r,di(ci.get(r)||null,e,t,a,n,i)),!0;case"gotpointercapture":return r=i.pointerId,ui.set(r,di(ui.get(r)||null,e,t,a,n,i)),!0}return!1}function sm(e){var t=_l(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,yd(e.priority,function(){am(a)});return}}else if(t===31){if(t=x(a),t!==null){e.blockedOn=t,yd(e.priority,function(){am(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=fu(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);po=n,a.target.dispatchEvent(n),po=null}else return t=Cl(a),t!==null&&tm(t),e.blockedOn=a,!1;t.shift()}return!0}function im(e,t,a){Mr(e)&&a.delete(t)}function hy(){mu=!1,Qn!==null&&Mr(Qn)&&(Qn=null),Zn!==null&&Mr(Zn)&&(Zn=null),Yn!==null&&Mr(Yn)&&(Yn=null),ci.forEach(im),ui.forEach(im)}function Lr(e,t){e.blockedOn===t&&(e.blockedOn=null,mu||(mu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,hy)))}var zr=null;function rm(e){zr!==e&&(zr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){zr===e&&(zr=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(pu(n||a)===null)continue;break}var r=Cl(a);r!==null&&(e.splice(t,3),t-=3,fc(r,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function us(e){function t(A){return Lr(A,e)}Qn!==null&&Lr(Qn,e),Zn!==null&&Lr(Zn,e),Yn!==null&&Lr(Yn,e),ci.forEach(t),ui.forEach(t);for(var a=0;a<Xn.length;a++){var n=Xn[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Xn.length&&(a=Xn[0],a.blockedOn===null);)sm(a),a.blockedOn===null&&Xn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],r=a[n+1],p=i[Ht]||null;if(typeof r=="function")p||rm(a);else if(p){var v=null;if(r&&r.hasAttribute("formAction")){if(i=r,p=r[Ht]||null)v=p.formAction;else if(pu(i)!==null)continue}else v=p.action;typeof v=="function"?a[n+1]=v:(a.splice(n,3),n-=3),rm(a)}}}function om(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(p){return i=p})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function hu(e){this._internalRoot=e}Ur.prototype.render=hu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,n=aa();Pp(a,n,e,t,null,null)},Ur.prototype.unmount=hu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pp(e.current,2,null,e,null,null),xr(),t[Tl]=null}};function Ur(e){this._internalRoot=e}Ur.prototype.unstable_scheduleHydration=function(e){if(e){var t=xd();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Xn.length&&t!==0&&t<Xn[a].priority;a++);Xn.splice(a,0,e),a===0&&sm(e)}};var cm=c.version;if(cm!=="19.2.4")throw Error(o(527,cm,"19.2.4"));ee.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=h(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var gy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dr.isDisabled&&Dr.supportsFiber)try{wn=Dr.inject(gy),xt=Dr}catch{}}return pi.createRoot=function(e,t){if(!f(e))throw Error(o(299));var a=!1,n="",i=g0,r=x0,p=y0;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=$p(e,1,!1,null,null,a,n,null,i,r,p,om),e[Tl]=t.current,Fc(e),new hu(t)},pi.hydrateRoot=function(e,t,a){if(!f(e))throw Error(o(299));var n=!1,i="",r=g0,p=x0,v=y0,A=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(A=a.formState)),t=$p(e,1,!0,t,a??null,n,i,A,r,p,v,om),t.context=Jp(null),a=t.current,n=aa(),n=lo(n),i=Rn(n),i.callback=null,In(a,i,n),a=n,t.current.lanes=a,ws(t,a),Ba(t),e[Tl]=t.current,Fc(e),new Ur(t)},pi.version="19.2.4",pi}var bm;function Ay(){if(bm)return yu.exports;bm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),yu.exports=Ey(),yu.exports}var Ty=Ay();const _y=Gm(Ty);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vm=(...l)=>l.filter((c,u,o)=>!!c&&c.trim()!==""&&o.indexOf(c)===u).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=_.forwardRef(({color:l="currentColor",size:c=24,strokeWidth:u=2,absoluteStrokeWidth:o,className:f="",children:d,iconNode:m,...x},g)=>_.createElement("svg",{ref:g,...Oy,width:c,height:c,stroke:l,strokeWidth:o?Number(u)*24/Number(c):u,className:Vm("lucide",f),...x},[...m.map(([h,S])=>_.createElement(h,S)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(l,c)=>{const u=_.forwardRef(({className:o,...f},d)=>_.createElement(ky,{ref:d,iconNode:c,className:Vm(`lucide-${Cy(l)}`,o),...f}));return u.displayName=`${l}`,u};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=he("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=he("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=he("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=he("BookCopy",[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h10.5a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5H11a2 2 0 0 0-2 2v12",key:"1wz07i"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=he("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=he("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=he("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=he("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=he("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=he("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=he("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=he("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=he("Combine",[["path",{d:"M10 18H5a3 3 0 0 1-3-3v-1",key:"ru65g8"}],["path",{d:"M14 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2",key:"e30een"}],["path",{d:"M20 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2",key:"2ahx8o"}],["path",{d:"m7 21 3-3-3-3",key:"127cv2"}],["rect",{x:"14",y:"14",width:"8",height:"8",rx:"2",key:"1b0bso"}],["rect",{x:"2",y:"2",width:"8",height:"8",rx:"2",key:"1x09vl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=he("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=he("CornerDownLeft",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=he("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=he("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=he("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=he("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=he("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=he("Grid2x2",[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 12h18",key:"1i2n21"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=he("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=he("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=he("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=he("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=he("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=he("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=he("MessageSquareDashed",[["path",{d:"M10 17H7l-4 4v-7",key:"1r71xu"}],["path",{d:"M14 17h1",key:"nufu4t"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 14v1a2 2 0 0 1-2 2",key:"29akq3"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M9 3h1",key:"1yesri"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=he("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=he("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=he("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=he("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=he("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=he("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=he("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=he("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=he("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=he("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=he("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=he("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=he("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=he("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=he("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=he("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=he("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=he("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=he("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=he("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=he("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var _e=(l=>(l.FORGOT="FORGOT",l.HARD="HARD",l.EASY="EASY",l.LEARNED="LEARNED",l))(_e||{}),Xe=(l=>(l.RAW="RAW",l.REFINED="REFINED",l.VERIFIED="VERIFIED",l.FAILED="FAILED",l))(Xe||{}),Mu=(l=>(l.VARIETY="VARIETY",l.MORE_ACADEMIC="MORE_ACADEMIC",l.LESS_ACADEMIC="LESS_ACADEMIC",l))(Mu||{});const Lu="u-vocab-master",ob="/data/data.json",cb=[],vl=[{id:"topic_family",title:"Family & Roots",description:"Relationships, upbringing, and the foundations of society.",backgroundTheme:"from-orange-100 to-rose-50",icon:"",segments:[{id:"seg_fam_1",title:"Family Ties",description:"The core units of human connection.",tagCriteria:"family",basicWords:["mother","father","brother","sister","child"],intermediateWords:["upbringing","nuclear family","sibling","guardian","relative"],advancedWords:["genealogy","consanguinity","authoritarian","matriarch","progeny"],visualIcon:"",boss:{name:"Family Elder",hp:20,dialogueIntro:"Do you truly know those you share your blood with?",dialogueWin:"The bonds of kinship are well understood.",dialogueLose:"You ignore your foundations.",image:"",dropBadgeId:"family_crest"}},{id:"seg_fam_2",title:"Modern Society",description:"How we live together in the 21st century.",tagCriteria:"society",basicWords:["people","city","house","friend","neighbor"],intermediateWords:["community","urbanization","demographics","infrastructure","diversity"],advancedWords:["egalitarian","stratification","cosmopolitan","secular","socioeconomic"],visualIcon:"",boss:{name:"The Architect",hp:20,dialogueIntro:"A city is more than stone and mortar. It is a collective mind.",dialogueWin:"You see the patterns in the crowd.",dialogueLose:"Lost in the concrete jungle.",image:"",dropBadgeId:"family_crest"}}]},{id:"topic_education",title:"The Academy",description:"Learning systems, pedagogy, and academic pursuits.",backgroundTheme:"from-yellow-100 to-amber-50",icon:"",segments:[{id:"seg_edu_1",title:"Primary School",description:"The beginning of the educational journey.",tagCriteria:"school",basicWords:["study","learn","teacher","book","class"],intermediateWords:["curriculum","assignment","literacy","discipline","tuition"],advancedWords:["pedagogy","didactic","erudition","rote learning","epistemology"],visualIcon:"",boss:{name:"The Headmaster",hp:20,dialogueIntro:"Class is in session. Don't be late.",dialogueWin:"A star student indeed.",dialogueLose:"Detention for you.",image:"",dropBadgeId:"education_scroll"}},{id:"seg_edu_2",title:"Higher Education",description:"University life and specialized research.",tagCriteria:"university",basicWords:["college","exam","paper","degree","lesson"],intermediateWords:["undergraduate","scholarship","dissertation","vocational","faculty"],advancedWords:["theoretical","specialization","prestigious","alumnus","doctoral"],visualIcon:"",boss:{name:"The Dean",hp:20,dialogueIntro:"Submit your thesis or fail the semester.",dialogueWin:"Your research is groundbreaking.",dialogueLose:"Insufficient evidence for your claims.",image:"",dropBadgeId:"education_scroll"}}]}],wm="IELTSVocabProDB_V2",We="vocabulary",Va="users",la="units",wl="paraphrase_logs",Nl="speaking_logs",jl="speaking_topics",gn="writing_logs",sa="writing_topics",_a="comparison_groups",ia="irregular_verbs",Ca="lessons",Oa="listening_items",ra="native_speak_items",ka="compositions",Ra="calendar_events",Ia="word_books",Ma="reading_books",xn="lesson_books",yn="listening_books",bn="speaking_books",vn="writing_books",Nm=22;let ya=null,fn=null;const rh=async()=>{if(navigator.storage&&navigator.storage.persist)try{if(await navigator.storage.persisted())console.log("[Storage] Storage is already persisted.");else{const c=await navigator.storage.persist();console.log(`[Storage] Persistence granted: ${c}`)}}catch(l){console.warn("[Storage] Failed to request persistence:",l)}},ub=async()=>{try{const l=await Pn(),c=Array.from(l.objectStoreNames),u={},o=l.transaction(c,"readonly");return await Promise.all(c.map(f=>new Promise(d=>{const m=o.objectStore(f).count();m.onsuccess=()=>{u[f]=m.result,d()},m.onerror=()=>{u[f]=-1,d()}}))),u}catch(l){return console.error("Diagnostic error:",l),{ERROR:0}}},db=()=>{const l=localStorage.getItem("vocab_pro_emergency_backup"),c=!!l;let u=0,o="N/A";if(l){u=l.length;try{const f=JSON.parse(l);Array.isArray(f)&&f.length>0&&f[0].updatedAt&&(o=new Date(f[0].updatedAt).toLocaleString())}catch{}}return{hasBackup:c,backupSize:u,backupTimestamp:o}},Pn=()=>ya?Promise.resolve(ya):fn||(console.log(`[DB] Opening database connection (${wm} v${Nm})...`),fn=new Promise((l,c)=>{try{const u=indexedDB.open(wm,Nm);u.onblocked=()=>{console.warn("[DB] Database upgrade blocked. Please close other tabs/windows of this app.")},u.onupgradeneeded=o=>{console.log(`[DB] Upgrade needed from version ${o.oldVersion} to ${o.newVersion}`);const f=o.target.result;if(!f){console.error("Database not available during onupgradeneeded");return}if(!f.objectStoreNames.contains(We)){const d=f.createObjectStore(We,{keyPath:"id"});d.createIndex("userId","userId",{unique:!1}),d.createIndex("nextReview","nextReview",{unique:!1}),d.createIndex("userId_word",["userId","word"],{unique:!1})}if(f.objectStoreNames.contains(Va)||f.createObjectStore(Va,{keyPath:"id"}),f.objectStoreNames.contains(la)||f.createObjectStore(la,{keyPath:"id"}).createIndex("userId","userId",{unique:!1}),!f.objectStoreNames.contains(wl)){const d=f.createObjectStore(wl,{keyPath:"id"});d.createIndex("userId","userId",{unique:!1}),d.createIndex("timestamp","timestamp",{unique:!1})}if(!f.objectStoreNames.contains(Nl)){const d=f.createObjectStore(Nl,{keyPath:"id"});d.createIndex("userId","userId",{unique:!1}),d.createIndex("timestamp","timestamp",{unique:!1})}if(o.oldVersion<9&&(f.objectStoreNames.contains(jl)||f.createObjectStore(jl,{keyPath:"id"}).createIndex("userId","userId",{unique:!1})),o.oldVersion<10&&(f.objectStoreNames.contains(sa)||f.createObjectStore(sa,{keyPath:"id"}).createIndex("userId","userId",{unique:!1}),!f.objectStoreNames.contains(gn))){const d=f.createObjectStore(gn,{keyPath:"id"});d.createIndex("userId","userId",{unique:!1}),d.createIndex("timestamp","timestamp",{unique:!1})}o.oldVersion<12&&(f.objectStoreNames.contains("word_comparison_groups")&&f.deleteObjectStore("word_comparison_groups"),f.objectStoreNames.contains(_a)||f.createObjectStore(_a,{keyPath:"id"}).createIndex("userId","userId",{unique:!1})),o.oldVersion<13&&(f.objectStoreNames.contains(ia)||f.createObjectStore(ia,{keyPath:"id"}).createIndex("userId","userId",{unique:!1})),o.oldVersion<14&&(f.objectStoreNames.contains(Ca)||f.createObjectStore(Ca,{keyPath:"id"}).createIndex("userId","userId",{unique:!1})),o.oldVersion<15&&(f.objectStoreNames.contains(Oa)||f.createObjectStore(Oa,{keyPath:"id"}).createIndex("userId","userId",{unique:!1})),o.oldVersion<16&&(f.objectStoreNames.contains(ra)||f.createObjectStore(ra,{keyPath:"id"}).createIndex("userId","userId",{unique:!1})),o.oldVersion<17&&(f.objectStoreNames.contains(ka)||f.createObjectStore(ka,{keyPath:"id"}).createIndex("userId","userId",{unique:!1})),o.oldVersion<18&&(f.objectStoreNames.contains(Ra)||f.createObjectStore(Ra,{keyPath:"id"}).createIndex("userId","userId",{unique:!1})),o.oldVersion<19&&(f.objectStoreNames.contains(Ia)||f.createObjectStore(Ia,{keyPath:"id"}).createIndex("userId","userId",{unique:!1})),o.oldVersion<20&&(f.objectStoreNames.contains(Ma)||f.createObjectStore(Ma,{keyPath:"id"}).createIndex("userId","userId",{unique:!1})),o.oldVersion<21&&(f.objectStoreNames.contains(xn)||f.createObjectStore(xn,{keyPath:"id"}).createIndex("userId","userId",{unique:!1})),o.oldVersion<22&&(f.objectStoreNames.contains(yn)||f.createObjectStore(yn,{keyPath:"id"}).createIndex("userId","userId",{unique:!1}),f.objectStoreNames.contains(bn)||f.createObjectStore(bn,{keyPath:"id"}).createIndex("userId","userId",{unique:!1}),f.objectStoreNames.contains(vn)||f.createObjectStore(vn,{keyPath:"id"}).createIndex("userId","userId",{unique:!1}))},u.onsuccess=()=>{ya=u.result,ya.onclose=()=>{console.warn("[DB] Database connection closed unexpectedly."),ya=null,fn=null,window.dispatchEvent(new CustomEvent("db-connection-lost"))},ya.onversionchange=()=>{console.warn("[DB] Database version change detected. Closing connection."),ya==null||ya.close(),ya=null,fn=null,window.location.reload()},l(ya)},u.onerror=o=>{console.error("[DB] Open DB Error:",o.target.error),fn=null,c(o.target.error)}}catch(u){console.error("[DB] Open DB Exception:",u),fn=null,c(u)}}),fn),Ss=async(l,c=3,u=200)=>{var o,f,d;for(let m=0;m<c;m++)try{return await l()}catch(x){if(console.warn(`[DB] Operation failed, retrying (${m+1}/${c}). Error:`,x),((x==null?void 0:x.name)==="InvalidStateError"||(o=x==null?void 0:x.message)!=null&&o.toLowerCase().includes("closed")||((d=(f=x==null?void 0:x.target)==null?void 0:f.error)==null?void 0:d.name)==="InvalidStateError")&&(console.log("[DB] Resetting connection for retry..."),ya=null,fn=null),m===c-1)throw x;await new Promise(g=>setTimeout(g,u*Math.pow(2,m)))}throw new Error("Operation failed after retries")},ge=async(l,c,u="readwrite")=>Ss(async()=>{const o=await Pn();return new Promise((f,d)=>{try{const m=o.transaction(l,u),x=c(m);m.oncomplete=()=>f(x?x.result:void 0),m.onerror=()=>d(m.error),m.onabort=()=>d(new Error("Transaction aborted"))}catch(m){d(m)}})}),fb=async()=>(console.warn("[DB]  clearVocabularyOnly called! This wipes data."),Ss(async()=>{const l=await Pn();return new Promise((c,u)=>{const o=[We,la,wl,Nl,jl,gn,sa,_a,ia,Ca,Oa,ra,ka,Ra,Ia,Ma,xn,yn,bn,vn],f=l.transaction(o,"readwrite");o.forEach(d=>f.objectStore(d).clear()),f.oncomplete=()=>{console.log("[DB] Vocabulary cleared successfully."),localStorage.removeItem("vocab_pro_mimic_practice_queue"),localStorage.removeItem("vocab_pro_db_marker"),localStorage.removeItem("vocab_pro_emergency_backup"),c()},f.onerror=()=>u(f.error)})})),oh=async(l=!1)=>{console.log(`[DB] Checking seedDatabaseIfEmpty (force=${l})...`);try{const c=await Pn(),u=c.transaction(Va,"readonly"),o=await new Promise((S,y)=>{const w=u.objectStore(Va).getAll();w.onsuccess=()=>S(w.result||[]),w.onerror=()=>y(w.error)}),f=localStorage.getItem("vocab_pro_emergency_backup"),d=localStorage.getItem("vocab_pro_db_marker");if(o.length===0&&f){console.log("[DB]  Emergency Protocol: DB is empty but LocalStorage backup found. Restoring...");try{const S=JSON.parse(f);if(Array.isArray(S)&&S.length>0&&(await El(S),console.log(`[DB]  Restored ${S.length} words from Emergency Backup.`),o.length===0)){const y={id:S[0].userId||Lu,name:"Recovered User",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Recovered",lastLogin:Date.now(),role:"Language Learner",experience:0,level:1,adventure:{currentNodeIndex:0,energy:5,energyShards:0,unlockedChapterIds:vl.map(w=>w.id),completedSegmentIds:[],segmentStars:{},badges:[],keys:1,keyFragments:0,map:[]}};return await Ta(y),y}}catch(S){console.error("[DB]  Failed to restore from Emergency Backup:",S)}}if(o.length===0&&d==="exists"&&!l)return console.error("[DB]  CRITICAL: LocalStorage marker found but IDB returned 0 users. Aborting auto-seed to prevent data loss."),null;const x=c.transaction(We,"readonly").objectStore(We).count(),g=await new Promise(S=>{x.onsuccess=()=>S(x.result>0),x.onerror=()=>{console.error("[DB] Failed to check for existing data. Assuming data exists to prevent overwrite."),S(!0)}});if(console.log(`[DB] Existing Users: ${o.length}, Has Vocab: ${g}`),!l&&o.length>0&&(d!=="exists"&&localStorage.setItem("vocab_pro_db_marker","exists"),g||sessionStorage.getItem("ielts_pro_skip_seed")==="true"))return null;let h;if(o.length===0?(h={id:Lu,name:"Vocab Master",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Master",lastLogin:Date.now(),role:"Language Learner",currentLevel:"Intermediate",target:"Advanced Fluency",experience:0,level:1,peakLevel:1,adventure:{currentNodeIndex:0,energy:5,energyShards:0,unlockedChapterIds:vl.map(S=>S.id),completedSegmentIds:[],segmentStars:{},badges:[],keys:1,keyFragments:0,map:[]}},console.log("[DB] Creating default user..."),await Ta(h),localStorage.setItem("vocab_pro_db_marker","exists")):(h=o[0],h.experience===void 0&&(h.experience=0),h.level===void 0&&(h.level=1),h.peakLevel===void 0&&(h.peakLevel=h.level),h.adventure||(h.adventure={currentNodeIndex:0,energy:5,energyShards:0,unlockedChapterIds:vl.map(S=>S.id),completedSegmentIds:[],segmentStars:{},badges:[],keys:1,keyFragments:0,map:[]}),await Ta(h)),!g){console.log("[DB] Seeding vocabulary...");let S=[];try{const w=await fetch(ob);if(w.ok){const j=await w.json();S=Array.isArray(j)?j:j.vocabulary||[]}}catch(w){console.error("Failed to fetch local seed data:",w)}S.length===0&&(S=cb);const y=S.map(w=>({...w,userId:h.id,nextReview:w.nextReview||Date.now(),lastXpEarnedTime:w.lastXpEarnedTime||void 0,quality:w.quality||Xe.VERIFIED,source:"app"}));await El(y)}return h}catch(c){return console.error("[DB] Seed check failed completely:",c),null}},ms=async()=>ge(Va,l=>l.objectStore(Va).getAll(),"readonly"),Ta=async l=>(l&&l.id&&localStorage.setItem("vocab_pro_db_marker","exists"),ge(Va,c=>c.objectStore(Va).put(l))),pb=async(l,c)=>Ss(async()=>{const u=await Pn();return new Promise((o,f)=>{const m=u.transaction(We,"readonly").objectStore(We),x=c.trim(),g=S=>o(S),h=(S,y,w)=>{const N=S.transaction(We,"readonly").objectStore(We).index("userId").openCursor(IDBKeyRange.only(y)),L=w.toLowerCase();N.onsuccess=I=>{const Q=I.target.result;Q?Q.value.word.toLowerCase().trim()===L?g(Q.value):Q.continue():g(null)},N.onerror=()=>g(null)};if(m.indexNames.contains("userId_word")){const y=m.index("userId_word").get([l,x]);y.onsuccess=()=>{y.result?g(y.result):h(u,l,x)},y.onerror=()=>h(u,l,x)}else h(u,l,x)})}),ch=async(l,c,u)=>Ss(async()=>{const o=await Pn();return new Promise(f=>{const x=o.transaction(We,"readonly").objectStore(We).index("userId").getAll(IDBKeyRange.only(l));x.onsuccess=()=>{const g=x.result,h=["To express an idea or feeling","A state of great comfort and luxury","Happening or developing gradually","To influence or change someone or something","A formal meeting for discussion","Necessary for a particular purpose","The ability to do something well","A careful and detailed study of something","To make something new or original"];let w=[...g.filter(j=>j.id!==u&&j.quality===Xe.VERIFIED&&j.meaningVi&&j.meaningVi.trim().length>0&&j.meaningVi.length<150).map(j=>j.meaningVi)].sort(()=>Math.random()-.5).slice(0,c);if(w.length<c){const j=c-w.length,O=[...h].sort(()=>Math.random()-.5);for(let N=0;N<j;N++){const L=O[N%O.length];w.includes(L)||w.push(L)}}f([...w].sort(()=>Math.random()-.5))},x.onerror=()=>{f([])}})}),uh=(l,c,u,o,f,d,m="all",x=null,g="all",h=null,S="all",y=null)=>{var O;const w=c.toLowerCase().trim();if(w&&!(l.word.toLowerCase().includes(w)||l.meaningVi.toLowerCase().includes(w))||l.isPassive&&!u.includes("archive")||o!=="all"&&(o==="refined"&&l.quality!==Xe.REFINED||o==="verified"&&l.quality!==Xe.VERIFIED||o==="failed"&&l.quality!==Xe.FAILED||o==="raw"&&l.quality!==Xe.RAW||o==="not_refined"&&l.quality!==Xe.RAW))return!1;if(f!=="all"){const N=!l.lastReview,L=!!l.lastReview&&l.consecutiveCorrect===1&&l.lastGrade!==_e.FORGOT,I=!!l.lastReview&&l.consecutiveCorrect>1&&l.lastGrade===_e.EASY,Q=!!l.lastReview&&l.consecutiveCorrect>1&&l.lastGrade===_e.HARD,B=!!l.lastReview&&l.lastGrade===_e.FORGOT;if(f==="new"&&!N||f==="learned"&&!L||f==="easy"&&!I||f==="hard"&&!Q||f==="forgot"&&!B)return!1}if(d!=="all"&&(l.register||"raw")!==d||m!=="all"&&(l.source||"raw")!==m)return!1;if(x){if(x==="Uncategorized"){if(l.groups&&l.groups.length>0)return!1}else if(!((O=l.groups)!=null&&O.some(N=>N.startsWith(x))))return!1}if(g!=="all"&&h){const N=h.has(l.id);if(g==="composed"&&!N||g==="not_composed"&&N)return!1}if(S!=="all"&&y){const N=y.has(l.word.toLowerCase());if(S==="in_book"&&!N||S==="not_in_book"&&N)return!1}if(u.includes("all")||u.length===0)return!l.isPassive;for(const N of u)if(N==="archive"&&l.isPassive||N==="idiom"&&l.isIdiom||N==="phrasal"&&l.isPhrasalVerb||N==="colloc"&&l.isCollocation||N==="phrase"&&l.isStandardPhrase||N==="pronun"&&l.needsPronunciationFocus||N==="preposition"&&l.prepositions&&l.prepositions.length>0&&!l.isPhrasalVerb||N==="vocab"&&!l.isIdiom&&!l.isPhrasalVerb&&!l.isCollocation&&!l.isStandardPhrase)return!0;return!1},dh=async(l,c=30)=>Ss(async()=>{const u=await Pn(),o=Date.now();return new Promise((f,d)=>{const g=u.transaction(We,"readonly").objectStore(We).index("userId").getAll(IDBKeyRange.only(l));g.onsuccess=()=>{const S=(g.result||[]).filter(y=>!y.isPassive&&y.lastReview&&y.nextReview<=o&&y.quality!==Xe.FAILED).sort((y,w)=>y.nextReview-w.nextReview).slice(0,c);f(S)},g.onerror=()=>d(g.error)})}),fh=async(l,c=20)=>Ss(async()=>{const u=await Pn();return new Promise((o,f)=>{const x=u.transaction(We,"readonly").objectStore(We).index("userId").getAll(IDBKeyRange.only(l));x.onsuccess=()=>{const h=(x.result||[]).filter(S=>!S.isPassive&&!S.lastReview&&S.quality===Xe.VERIFIED).sort((S,y)=>S.createdAt-y.createdAt).slice(0,c);o(h)},x.onerror=()=>f(x.error)})}),ph=async(l,c)=>{c&&c.id&&localStorage.setItem("vocab_pro_db_marker","exists"),await ge([We,Va],u=>{u.objectStore(We).put(l),u.objectStore(Va).put(c)})},mh=async(l,c)=>{await ge([We,la],u=>{l&&u.objectStore(We).put(l),u.objectStore(la).put(c)})},hh=async l=>{if(l.updatedAt=Date.now(),!l.userId)throw console.error(`[DB_CRITICAL] Attempting to save word ${l.word} with NO USER ID!`),new Error("Cannot save word without UserID");await ge(We,c=>c.objectStore(We).put(l))},gh=async l=>{await ge(We,c=>c.objectStore(We).delete(l))},xh=async l=>{await ge(We,c=>{const u=c.objectStore(We);l.forEach(o=>u.delete(o))})},El=async l=>{if(l.length!==0){if(!l[0].userId)throw console.error("[DB_CRITICAL] Attempting to bulk save words with NO USER ID on first item!"),new Error("Cannot bulk save words without UserID");await ge(We,c=>{const u=c.objectStore(We);l.forEach(o=>u.put(o))})}},ys=async l=>await ge(We,c=>c.objectStore(We).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),yh=async l=>{l.updatedAt=Date.now(),await ge(la,c=>c.objectStore(la).put(l))},mb=async l=>{await ge(la,c=>c.objectStore(la).delete(l))},Jr=async l=>await ge(la,c=>c.objectStore(la).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),hb=async(l,c)=>(await Jr(l)).filter(o=>o.wordIds.includes(c)),bh=async l=>{await ge(la,c=>{const u=c.objectStore(la);l.forEach(o=>u.put(o))})},Ku=async l=>(await ge(wl,u=>u.objectStore(wl).index("userId").getAll(IDBKeyRange.only(l)),"readonly")).sort((u,o)=>o.timestamp-u.timestamp),vh=async l=>{await ge(wl,c=>{const u=c.objectStore(wl);l.forEach(o=>u.put(o))})},Fu=async l=>await ge(Nl,c=>c.objectStore(Nl).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Sh=async l=>{await ge(Nl,c=>{const u=c.objectStore(Nl);l.forEach(o=>u.put(o))})},$u=async l=>await ge(jl,c=>c.objectStore(jl).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),wh=async l=>{await ge(jl,c=>{const u=c.objectStore(jl);l.forEach(o=>u.put(o))})},gb=async l=>{await ge(gn,c=>c.objectStore(gn).put(l))},Ju=async l=>await ge(gn,c=>c.objectStore(gn).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Nh=async l=>{await ge(gn,c=>{const u=c.objectStore(gn);l.forEach(o=>u.put(o))})},xb=async l=>{l.updatedAt=Date.now(),await ge(sa,c=>c.objectStore(sa).put(l))},yb=async l=>{await ge(sa,c=>c.objectStore(sa).delete(l))},bb=async l=>await ge(sa,c=>c.objectStore(sa).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Pu=async l=>await ge(sa,c=>c.objectStore(sa).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),jh=async l=>{await ge(sa,c=>{const u=c.objectStore(sa);l.forEach(o=>u.put(o))})},vb=async l=>{l.updatedAt=Date.now(),await ge(_a,c=>c.objectStore(_a).put(l))},ed=async l=>await ge(_a,c=>c.objectStore(_a).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Sb=async l=>{await ge(_a,c=>c.objectStore(_a).delete(l))},zu=async l=>{await ge(_a,c=>{const u=c.objectStore(_a);l.forEach(o=>u.put(o))})},wb=async l=>{l.updatedAt=Date.now(),await ge(ia,c=>c.objectStore(ia).put(l))},td=async l=>await ge(ia,c=>c.objectStore(ia).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Nb=async l=>{await ge(ia,c=>c.objectStore(ia).delete(l))},Eh=async l=>{await ge(ia,c=>{const u=c.objectStore(ia);l.forEach(o=>u.put(o))})},jb=async l=>{await ge(ia,c=>{const u=c.objectStore(ia);l.forEach(o=>u.delete(o))})},Eb=async l=>{l.updatedAt=Date.now(),await ge(Ca,c=>c.objectStore(Ca).put(l))},ad=async l=>await ge(Ca,c=>c.objectStore(Ca).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Ab=async l=>{await ge(Ca,c=>c.objectStore(Ca).delete(l))},Ah=async l=>{await ge(Ca,c=>{const u=c.objectStore(Ca);l.forEach(o=>u.put(o))})},Tb=async l=>{l.updatedAt=Date.now(),await ge(Oa,c=>c.objectStore(Oa).put(l))},nd=async l=>await ge(Oa,c=>c.objectStore(Oa).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),_b=async l=>{await ge(Oa,c=>c.objectStore(Oa).delete(l))},Th=async l=>{await ge(Oa,c=>{const u=c.objectStore(Oa);l.forEach(o=>u.put(o))})},Cb=async l=>{l.updatedAt=Date.now(),await ge(ra,c=>c.objectStore(ra).put(l))},ld=async l=>await ge(ra,c=>c.objectStore(ra).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Ob=async l=>{await ge(ra,c=>c.objectStore(ra).delete(l))},_h=async l=>{await ge(ra,c=>{const u=c.objectStore(ra);l.forEach(o=>u.put(o))})},kb=async l=>{await ge(ra,c=>{const u=c.objectStore(ra);l.forEach(o=>u.delete(o))})},Ch=async l=>{l.updatedAt=Date.now(),await ge(ka,c=>c.objectStore(ka).put(l))},Ni=async l=>await ge(ka,c=>c.objectStore(ka).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Oh=async l=>{await ge(ka,c=>c.objectStore(ka).delete(l))},kh=async l=>{await ge(ka,c=>{const u=c.objectStore(ka);l.forEach(o=>u.put(o))})},Rb=async l=>{await ge(Ra,c=>c.objectStore(Ra).put(l))},sd=async l=>await ge(Ra,c=>c.objectStore(Ra).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Ib=async l=>{await ge(Ra,c=>c.objectStore(Ra).delete(l))},Rh=async l=>{await ge(Ra,c=>{const u=c.objectStore(Ra);l.forEach(o=>u.put(o))})},Ih=async l=>{await ge(Ia,c=>c.objectStore(Ia).put(l))},ji=async l=>await ge(Ia,c=>c.objectStore(Ia).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Mh=async(l,c)=>{await ge(Ia,u=>u.objectStore(Ia).delete(l))},id=async l=>{await ge(Ia,c=>{const u=c.objectStore(Ia);l.forEach(o=>u.put(o))})},Mb=async l=>{await ge(Ma,c=>c.objectStore(Ma).put(l))},rd=async l=>await ge(Ma,c=>c.objectStore(Ma).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Lb=async l=>{await ge(Ma,c=>c.objectStore(Ma).delete(l))},Lh=async l=>{await ge(Ma,c=>{const u=c.objectStore(Ma);l.forEach(o=>u.put(o))})},zb=async l=>{await ge(xn,c=>c.objectStore(xn).put(l))},Ub=async l=>await ge(xn,c=>c.objectStore(xn).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Db=async l=>{await ge(xn,c=>c.objectStore(xn).delete(l))},Bb=async l=>{await ge(yn,c=>c.objectStore(yn).put(l))},Hb=async l=>await ge(yn,c=>c.objectStore(yn).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Gb=async l=>{await ge(yn,c=>c.objectStore(yn).delete(l))},Vb=async l=>{await ge(bn,c=>c.objectStore(bn).put(l))},qb=async l=>await ge(bn,c=>c.objectStore(bn).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Qb=async l=>{await ge(bn,c=>c.objectStore(bn).delete(l))},Zb=async l=>{await ge(vn,c=>c.objectStore(vn).put(l))},Yb=async l=>await ge(vn,c=>c.objectStore(vn).index("userId").getAll(IDBKeyRange.only(l)),"readonly"),Xb=async l=>{await ge(vn,c=>c.objectStore(vn).delete(l))},Wb=Object.freeze(Object.defineProperty({__proto__:null,bulkDeleteIrregularVerbs:jb,bulkDeleteNativeSpeakItems:kb,bulkDeleteWords:xh,bulkSaveCalendarEvents:Rh,bulkSaveComparisonGroups:zu,bulkSaveCompositions:kh,bulkSaveIrregularVerbs:Eh,bulkSaveLessons:Ah,bulkSaveListeningItems:Th,bulkSaveNativeSpeakItems:_h,bulkSaveParaphraseLogs:vh,bulkSaveReadingBooks:Lh,bulkSaveSpeakingLogs:Sh,bulkSaveSpeakingTopics:wh,bulkSaveUnits:bh,bulkSaveWordBooks:id,bulkSaveWords:El,bulkSaveWritingLogs:Nh,bulkSaveWritingTopics:jh,checkLocalStorageHealth:db,clearVocabularyOnly:fb,deleteCalendarEvent:Ib,deleteComparisonGroup:Sb,deleteComposition:Oh,deleteIrregularVerb:Nb,deleteLesson:Ab,deleteLessonBook:Db,deleteListeningBook:Gb,deleteListeningItem:_b,deleteNativeSpeakItem:Ob,deleteReadingBook:Lb,deleteSpeakingBook:Qb,deleteUnit:mb,deleteWordBook:Mh,deleteWordFromDB:gh,deleteWritingBook:Xb,deleteWritingTopic:yb,filterItem:uh,findWordByText:pb,getAllSpeakingLogsForExport:Fu,getAllSpeakingTopicsForExport:$u,getAllUsers:ms,getAllWordsForExport:ys,getAllWritingLogsForExport:Ju,getAllWritingTopicsForExport:Pu,getCalendarEventsByUserId:sd,getComparisonGroupsByUserId:ed,getCompositionsByUserId:Ni,getDatabaseStats:ub,getDueWords:dh,getIrregularVerbsByUserId:td,getLessonBooksByUserId:Ub,getLessonsByUserId:ad,getListeningBooksByUserId:Hb,getListeningItemsByUserId:nd,getNativeSpeakItemsByUserId:ld,getNewWords:fh,getParaphraseLogs:Ku,getRandomMeanings:ch,getReadingBooksByUserId:rd,getSpeakingBooksByUserId:qb,getUnitsByUserId:Jr,getUnitsContainingWord:hb,getWordBooksByUserId:ji,getWritingBooksByUserId:Yb,getWritingTopicsByUserId:bb,saveCalendarEvent:Rb,saveComparisonGroup:vb,saveComposition:Ch,saveIrregularVerb:wb,saveLesson:Eb,saveLessonBook:zb,saveListeningBook:Bb,saveListeningItem:Tb,saveNativeSpeakItem:Cb,saveReadingBook:Mb,saveSpeakingBook:Vb,saveUnit:yh,saveUser:Ta,saveWord:hh,saveWordAndUnit:mh,saveWordAndUser:ph,saveWordBook:Ih,saveWritingBook:Zb,saveWritingLog:gb,saveWritingTopic:xb,seedDatabaseIfEmpty:oh,tryPersistStorage:rh},Symbol.toStringTag,{value:"Module"})),Kb=["Vietnamese","Spanish","Chinese (Simplified)","Chinese (Traditional)","Japanese","Korean","French","German","Italian","Portuguese","Russian","Arabic","Hindi","Thai","Indonesian","Turkish"],Fb=[{id:"learner",label:"General Learner",icon:Qu},{id:"professional",label:"Professional",icon:Ly},{id:"student",label:"Student",icon:Fm}],$b=({users:l,isCreating:c,setIsCreating:u,loading:o,hasApiKey:f,newName:d,setNewName:m,newRole:x,setNewRole:g,newLevel:h,setNewLevel:S,newTarget:y,setNewTarget:w,newLanguage:j,setNewLanguage:O,newAudience:N,setNewAudience:L,selectedPersona:I,handleSelectKey:Q,handlePersonaSelect:B,handleCreateProfile:X,onLogin:D})=>o?s.jsx("div",{className:"h-screen flex items-center justify-center bg-neutral-50",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(na,{className:"animate-spin text-neutral-300",size:40}),s.jsx("p",{className:"text-xs font-black text-neutral-400 uppercase tracking-widest",children:"Initializing Lab..."})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"max-w-md w-full space-y-10",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"inline-flex p-4 bg-white rounded-3xl shadow-sm border border-neutral-100 mb-4",children:s.jsx(wi,{className:"text-neutral-900",size:32})}),s.jsx("h1",{className:"text-4xl font-black text-neutral-900 tracking-tight",children:"Vocab Pro"}),s.jsx("p",{className:"text-neutral-500 font-medium italic",children:"Your words. Your context. Your mastery."})]}),!f&&l.length===0&&s.jsxs("div",{className:"bg-amber-50 border-2 border-amber-100 p-6 rounded-[2rem] space-y-4 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex items-start space-x-3 text-amber-800",children:[s.jsx(Ha,{size:24,className:"shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-lg",children:"AI Configuration Required"}),s.jsx("p",{className:"text-sm font-medium mt-1 opacity-80",children:"To enable AI word analysis and suggestions, you must select a Gemini API key."})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:Q,className:"w-full py-4 bg-amber-600 text-white font-black rounded-2xl shadow-lg hover:bg-amber-700 transition-all flex items-center justify-center space-x-2 active:scale-95",children:[s.jsx(Qy,{size:18}),s.jsx("span",{children:"CONNECT GEMINI API"})]}),s.jsxs("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-1.5 text-[10px] font-black text-amber-600 uppercase tracking-widest hover:underline",children:[s.jsx("span",{children:"Billing Documentation"}),s.jsx(Vy,{size:10})]})]})]}),c?s.jsxs("form",{onSubmit:X,className:"bg-white p-8 rounded-[2.5rem] shadow-xl border border-neutral-200 animate-in zoom-in-95 duration-300 space-y-6",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[s.jsx(sb,{className:"mr-2",size:20})," Create Profile"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-400 uppercase tracking-widest mb-2",children:"Display Name"}),s.jsx("input",{autoFocus:!0,type:"text",value:d,onChange:F=>m(F.target.value),placeholder:"Enter your name",className:"w-full px-5 py-3 bg-neutral-50 border border-neutral-200 rounded-xl text-md font-bold focus:ring-2 focus:ring-neutral-900 focus:outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-neutral-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[s.jsx(Km,{size:14})," Language"]}),s.jsx("select",{value:j,onChange:F=>O(F.target.value),className:"w-full px-5 py-3 bg-neutral-50 border border-neutral-200 rounded-xl text-sm font-medium focus:ring-2 focus:ring-neutral-900 focus:outline-none appearance-none",children:Kb.map(F=>s.jsx("option",{value:F,children:F},F))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-neutral-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[s.jsx(rb,{size:14})," Audience"]}),s.jsxs("select",{value:N,onChange:F=>L(F.target.value),className:"w-full px-5 py-3 bg-neutral-50 border border-neutral-200 rounded-xl text-sm font-medium focus:ring-2 focus:ring-neutral-900 focus:outline-none appearance-none",children:[s.jsx("option",{value:"Kid",children:"Kid"}),s.jsx("option",{value:"Adult",children:"Adult"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-400 uppercase tracking-widest",children:"About Me (Quick Start)"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:Fb.map(F=>{const W=F.icon;return s.jsxs("button",{type:"button",onClick:()=>B(F.id),className:`p-3 border-2 rounded-2xl flex flex-col items-center justify-center space-y-1.5 transition-all text-center ${I===F.id?"bg-neutral-900 border-neutral-900 text-white shadow-lg":"bg-white border-neutral-100 text-neutral-400 hover:border-neutral-200 hover:text-neutral-900"}`,children:[s.jsx(W,{size:20}),s.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight",children:F.label})]},F.id)})})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t border-neutral-100",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-400 uppercase tracking-widest mb-2",children:"Starting Role"}),s.jsx("input",{type:"text",value:x,onChange:F=>g(F.target.value),placeholder:"e.g., Working Professional, Student",className:"w-full px-5 py-3 bg-neutral-50 border border-neutral-200 rounded-xl text-md font-medium focus:ring-2 focus:ring-neutral-900 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-400 uppercase tracking-widest mb-2",children:"Current Level"}),s.jsx("input",{type:"text",value:h,onChange:F=>S(F.target.value),placeholder:"e.g., Intermediate",className:"w-full px-5 py-3 bg-neutral-50 border border-neutral-200 rounded-xl text-md font-medium focus:ring-2 focus:ring-neutral-900 focus:outline-none"})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-4 text-neutral-500 font-bold hover:bg-neutral-50 rounded-2xl transition-colors",children:"Back"}),s.jsx("button",{type:"submit",disabled:!d.trim(),className:"flex-[2] py-4 bg-neutral-900 text-white font-bold rounded-2xl shadow-lg hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50",children:"Start Learning"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3",children:l.map(F=>s.jsxs("button",{onClick:()=>D(F),className:"bg-white p-5 rounded-3xl border border-neutral-200 shadow-sm flex items-center justify-between hover:border-neutral-900 hover:shadow-md transition-all group",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:F.avatar,className:"w-12 h-12 rounded-2xl bg-neutral-100 p-1",alt:F.name}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold text-neutral-900",children:F.name}),s.jsxs("div",{className:"text-xs text-neutral-400",children:[F.role?F.role:"Learner","  Last seen: ",new Date(F.lastLogin).toLocaleDateString()]})]})]}),s.jsx(Yr,{size:20,className:"text-neutral-300 group-hover:text-neutral-900 transition-colors"})]},F.id))}),s.jsxs("button",{onClick:()=>u(!0),className:"w-full p-5 bg-neutral-100 border border-dashed border-neutral-300 text-neutral-500 rounded-3xl font-bold flex items-center justify-center space-x-2 hover:bg-neutral-200 transition-all",children:[s.jsx(mn,{size:20}),s.jsx("span",{children:"Add New User"})]})]})]})}),Jb=({onLogin:l})=>{const[c,u]=_.useState([]),[o,f]=_.useState(!1),[d,m]=_.useState(""),[x,g]=_.useState(""),[h,S]=_.useState(""),[y,w]=_.useState(""),[j,O]=_.useState("English"),[N,L]=_.useState("Adult"),[I,Q]=_.useState("learner"),[B,X]=_.useState(!0),[D,F]=_.useState(!0),W=[{id:"learner",role:"Vocab Learner",level:"Intermediate English",target:"Expand active vocabulary"},{id:"professional",role:"Working Professional",level:"Intermediate English",target:"Fluent business communication"},{id:"student",role:"Primary Student",level:"Beginner English",target:"Build school vocabulary"}];_.useEffect(()=>{P()},[]),_.useEffect(()=>{o&&K("learner")},[o]);const P=async()=>{X(!0);try{if(window.aistudio){const ne=await window.aistudio.hasSelectedApiKey();F(ne)}const G=await ms();u(G)}catch(G){console.error("Auth initialization error:",G)}finally{X(!1)}},T=async()=>{window.aistudio&&(await window.aistudio.openSelectKey(),F(!0))},K=G=>{const ne=W.find(se=>se.id===G);ne&&(Q(G),g(ne.role),S(ne.level),w(ne.target),L(G==="student"?"Kid":"Adult"))},U=async G=>{if(G.preventDefault(),!d.trim())return;const ne={id:"u-"+Date.now(),name:d.trim(),avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${d}`,lastLogin:Date.now(),role:x.trim(),currentLevel:h.trim(),target:y.trim(),nativeLanguage:j,experience:0,level:1,peakLevel:1,adventure:{currentNodeIndex:0,energyShards:0,energy:5,keys:1,keyFragments:0,badges:[],unlockedChapterIds:vl.map(se=>se.id),completedSegmentIds:[],segmentStars:{}},lessonPreferences:{language:j,targetAudience:N,tone:N==="Kid"?"friendly_elementary":"professional_professor"}};await Ta(ne),l(ne)};return s.jsx($b,{users:c,isCreating:o,setIsCreating:f,loading:B,hasApiKey:D,newName:d,setNewName:m,newRole:x,setNewRole:g,newLevel:h,setNewLevel:S,newTarget:y,setNewTarget:w,newLanguage:j,setNewLanguage:O,newAudience:N,setNewAudience:L,selectedPersona:I,handleSelectKey:T,handlePersonaSelect:K,handleCreateProfile:U,onLogin:l})},zh=_.createContext(void 0),Pb=({children:l})=>{const[c,u]=_.useState([]),o=_.useCallback(d=>{u(m=>m.filter(x=>x.id!==d))},[]),f=_.useCallback((d,m="info",x=3e3)=>{const g=Date.now().toString()+Math.random(),h={id:g,type:m,message:d};u(S=>[...S,h]),x>0&&setTimeout(()=>{o(g)},x)},[o]);return s.jsxs(zh.Provider,{value:{showToast:f},children:[l,s.jsx("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 z-[9999] flex flex-col gap-2 w-full max-w-sm px-4 pointer-events-none",children:c.map(d=>s.jsxs("div",{className:`
              pointer-events-auto flex items-center justify-between p-4 rounded-2xl shadow-xl border backdrop-blur-md animate-in slide-in-from-top-2 fade-in duration-300
              ${d.type==="success"?"bg-neutral-900/90 text-white border-neutral-800":""}
              ${d.type==="error"?"bg-red-500/90 text-white border-red-600":""}
              ${d.type==="info"?"bg-white/90 text-neutral-900 border-neutral-200":""}
            `,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[d.type==="success"&&s.jsx(Ga,{size:20,className:"text-green-400"}),d.type==="error"&&s.jsx(Ha,{size:20,className:"text-white"}),d.type==="info"&&s.jsx(Zu,{size:20,className:"text-blue-500"}),s.jsx("span",{className:"text-sm font-bold leading-tight",children:d.message})]}),s.jsx("button",{onClick:()=>o(d.id),className:"p-1 hover:opacity-70 transition-opacity ml-4",children:s.jsx(vt,{size:16})})]},d.id))})]})},el=()=>{const l=_.useContext(zh);if(!l)throw new Error("useToast must be used within a ToastProvider");return l},c2={locked_chest:{name:"Locked Chest",icon:""},lucky_dice:{name:"Lucky Dice",icon:""},badge_of_courage:{name:"Badge of Courage",icon:""},badge_of_wisdom:{name:"Badge of Wisdom",icon:""},badge_of_strength:{name:"Badge of Strength",icon:""},badge_of_speed:{name:"Badge of Speed",icon:""},badge_of_endurance:{name:"Badge of Endurance",icon:""},badge_of_precision:{name:"Badge of Precision",icon:""},badge_of_focus:{name:"Badge of Focus",icon:""},badge_of_logic:{name:"Badge of Logic",icon:""},badge_of_creativity:{name:"Badge of Creativity",icon:""},badge_of_eloquence:{name:"Badge of Eloquence",icon:""},badge_of_resilience:{name:"Badge of Resilience",icon:""},badge_of_harmony:{name:"Badge of Harmony",icon:""},badge_of_vitality:{name:"Badge of Vitality",icon:""},badge_of_willpower:{name:"Badge of Willpower",icon:""},badge_of_serenity:{name:"Badge of Serenity",icon:""},badge_of_insight:{name:"Badge of Insight",icon:""},badge_of_mystery:{name:"Badge of Mystery",icon:""},badge_of_adventure:{name:"Badge of Adventure",icon:""},badge_of_fortune:{name:"Badge of Fortune",icon:""},badge_of_innovation:{name:"Badge of Innovation",icon:""}},Wr=[{name:"Cyber Sentinel",image:"",hp:20,dialogueIntro:"Logic is absolute. Prove yours.",dialogueWin:"Error... System... Crash...",dialogueLose:"Your logic is flawed."},{name:"Inferno Dragon",image:"",hp:25,dialogueIntro:"I breathe fire. What do you breathe?",dialogueWin:"Your spirit burns brighter...",dialogueLose:"Burn to ash!"},{name:"Abyssal Kraken",image:"",hp:20,dialogueIntro:"The depths hold many secrets.",dialogueWin:"You have navigated the abyss.",dialogueLose:"Join the sunken ones."},{name:"Spectral Wraith",image:"",hp:15,dialogueIntro:"Can you touch what isn't there?",dialogueWin:"I fade into the light...",dialogueLose:"Your soul is mine."},{name:"Ancient Mummy",image:"",hp:20,dialogueIntro:"My curse is eternal.",dialogueWin:"Rest... finally...",dialogueLose:"Join my tomb."},{name:"Alien Warlord",image:"",hp:20,dialogueIntro:"Your language is primitive.",dialogueWin:"Acknowledged. You are superior.",dialogueLose:"Earth is ours."},{name:"Primal T-Rex",image:"",hp:25,dialogueIntro:"ROOOARRR! The earth shakes beneath me!",dialogueWin:"Extinction... comes for me...",dialogueLose:"You are merely prey."},{name:"Shadow Ninja",image:"",hp:18,dialogueIntro:"Silence is the loudest scream.",dialogueWin:"Honorable defeat...",dialogueLose:"Too slow."},{name:"Vampire Lord",image:"",hp:20,dialogueIntro:"The night is young.",dialogueWin:"The sun... it burns...",dialogueLose:"Delicious."},{name:"Oni Warlord",image:"",hp:22,dialogueIntro:"Face the demon within!",dialogueWin:"Your spirit is unbreakable.",dialogueLose:"Another soul for the mask."},{name:"Syntax Serpent",image:"",hp:20,dialogueIntro:"Untangle my sentences if you can.",dialogueWin:"Your logic is impeccable.",dialogueLose:"Your structure is flawed."},{name:"Dread Scorpion",image:"",hp:25,dialogueIntro:"One sting is all it takes.",dialogueWin:"My venom... ineffective?",dialogueLose:"Paralyzed by fear."}];function hi(l){const c=[];let u=0;for(let o=0;o<l;o++){const f={id:o,type:"standard"};if((o+1)%10===0)f.type="boss",f.boss_details=Wr[u%Wr.length],u++;else{const d=Math.random();d<.1?f.type="treasure":d<.3&&(f.type="key_fragment")}c.push(f)}return c}hi(100);const e1={initialEasy:4,initialHard:1,easyEasy:2.5,hardEasy:2,hardHard:1.3,easyHardPenalty:.5,forgotInterval:1},t1={host:"localhost",port:3e3,useCustomUrl:!1,customUrl:"",backupPath:"backups"},a1={mode:"system",preferredSystemVoice:"",appliedAccent:"US"},n1={max_learn_per_day:10,max_review_per_day:10},l1={preferredTypes:[]},s1={topic1Options:["Grammar","Vocabulary","Pronunciation"],topic2Options:{Grammar:["Tenses","Conditionals","Passive Voice","Reported Speech"],Vocabulary:["Topic: Work","Topic: Environment","Collocations","Idioms"],Pronunciation:["Vowel Sounds","Consonant Sounds","Intonation"]}},i1={autoBackupEnabled:!1,autoBackupInterval:60,lastSyncTime:null},jm={server:t1,ai:{enableGeminiApi:!0,modelForComplexTasks:"gemini-3-pro-preview",modelForBasicTasks:"gemini-3-flash-preview",modelForTts:"gemini-2.5-flash-preview-tts"},srs:e1,audio:a1,audioCoach:{activeCoach:"female",coaches:{male:{name:"Victor",avatar:"man_teacher",persona:"professional_professor",enVoice:"",enAccent:"en_US",viVoice:"",viAccent:"vi_VN"},female:{name:"Sofia",avatar:"woman_teacher",persona:"friendly_elementary",enVoice:"",enAccent:"en_US",viVoice:"",viAccent:"vi_VN"}}},dailyGoals:n1,interface:{studyBuddyLanguage:"vi",buddyVoiceEnabled:!1,studyBuddyAvatar:"woman_teacher",junkTags:["ielts","general","common"],rightClickCommandEnabled:!0},test:l1,lesson:s1,sync:i1},Uh="vocab_pro_system_config";function wu(l){return l&&typeof l=="object"&&!Array.isArray(l)}function Dh(l,c){const u={...l};return wu(l)&&wu(c)&&Object.keys(c).forEach(o=>{wu(c[o])?o in l?u[o]=Dh(l[o],c[o]):Object.assign(u,{[o]:c[o]}):u[o]=c[o]}),u}const Ei=l=>l.server.useCustomUrl&&l.server.customUrl?l.server.customUrl.replace(/\/$/,""):`https://${l.server.host}:${l.server.port}`;function La(){const l=localStorage.getItem(Uh),c=l?JSON.parse(l):null;if(!c)return jm;const u=Dh(jm,c);return c.audio&&c.audio.serverPort&&c.audio.serverUrl,u}function Bh(l,c=!1){try{localStorage.setItem(Uh,JSON.stringify(l)),window.dispatchEvent(new Event("config-updated")),c||window.dispatchEvent(new Event("vocab-pro-trigger-backup"))}catch(u){console.error("Failed to save system config.",u)}}const r1=["i:","","u:","","","e","",":","",":","e","","s","","t","d","","","t","d","n","l","","v","w"],o1=l=>!l||l.length<2?!1:r1.some(c=>{if(c==="t"||c==="d")return l.includes(c);const u=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");let o;return c==="d"?o=new RegExp(`${u}(?!)`):c==="t"?o=new RegExp(`${u}(?!)`):c===""?o=new RegExp(`(?<!t)${u}`):c===""?o=new RegExp(`(?<!d)${u}`):c===""?o=new RegExp(`(?<![ae])${u}`):c===""?o=new RegExp(`(?<![a])${u}`):c==="e"?o=new RegExp(`${u}(?!)`):o=new RegExp(u),o.test(l)}),qa=l=>{if(l.quality!==Xe.VERIFIED||!l.lastReview)return[];const c=[];if(l.collocationsArray&&l.collocationsArray.some(u=>!u.isIgnored)&&c.push("COLLO_CONNECT"),l.idiomsList&&l.idiomsList.some(u=>!u.isIgnored)&&c.push("IDIOM_CONNECT"),l.word&&l.meaningVi&&l.meaningVi.trim().length>0&&c.push("MEANING_MATCH"),l.ipa&&o1(l.ipa)&&c.push("IPA_SORTER"),l.example&&l.example.trim().split(/\s+/).filter(Boolean).length>=5&&c.push("SENTENCE_SCRAMBLE"),l.example&&l.prepositions&&l.prepositions.some(u=>!u.isIgnored)&&c.push("PREPOSITION_POWER"),l.example&&l.wordFamily){const u=[...l.wordFamily.nouns||[],...l.wordFamily.verbs||[],...l.wordFamily.adjs||[],...l.wordFamily.advs||[]].filter(f=>!f.isIgnored).map(f=>f.word.toLowerCase());u.push(l.word.toLowerCase()),new Set(u).size>=2&&c.push("WORD_TRANSFORMER")}return l.paraphrases&&l.paraphrases.filter(u=>!u.isIgnored&&u.context&&u.context.trim()).length>=2&&c.push("PARAPHRASE_CONTEXT"),c};function Em(l,c){const u=.95+Math.random()*.1,o=Math.max(1,c*u),f=new Date(l);return f.setHours(0,0,0,0),f.setDate(f.getDate()+Math.round(o)),f.getTime()}function gi(l,c){const u=La().srs,o={...l},f=Date.now();if(c===_e.LEARNED)o.consecutiveCorrect=1,o.interval=u.initialHard,o.nextReview=Em(f,u.initialHard);else{let d=l.interval||0,m=1;const x=1440*60*1e3,g=l.lastReview||f,h=Math.max(0,(f-g)/x),S=h>d;if(c===_e.FORGOT)m=u.forgotInterval,o.consecutiveCorrect=0,o.forgotCount+=1;else if(c===_e.HARD)l.lastGrade===_e.EASY?m=Math.max(1,Math.floor(d*u.easyHardPenalty)):m=d===0?u.initialHard:Math.max(1,Math.floor(d*u.hardHard)),o.consecutiveCorrect+=1;else if(c===_e.EASY){let y=d;S&&(y=Math.max(d,h),console.log(`[SRS] Overdue Bonus Applied: Scheduled=${d}d, Elapsed=${h.toFixed(1)}d. New Base=${y.toFixed(1)}d`)),l.lastGrade===_e.HARD?m=d===0?u.initialEasy:Math.max(u.initialEasy,Math.floor(y*u.hardEasy)):m=d===0?u.initialEasy:Math.max(u.initialEasy,Math.floor(y*u.easyEasy)),o.consecutiveCorrect+=1}o.interval=Math.round(m),o.nextReview=Em(f,o.interval)}return o.lastGrade=c,o.lastReview=f,o.updatedAt=f,o.complexity=Qa(o),o.masteryScore=Ot(o),o.gameEligibility=qa(o),o}function Hh(l){const c=Date.now(),u={...l,nextReview:c,interval:0,easeFactor:2.5,consecutiveCorrect:0,forgotCount:0,lastGrade:void 0,lastReview:void 0,updatedAt:c,lastXpEarnedTime:void 0,lastTestResults:{}};return u.complexity=Qa(u),u.masteryScore=Ot(u),u.gameEligibility=qa(u),u}function c1(l){const c=Date.now(),u=l-c,o=1440*60*1e3;if(u<=0)return{label:"DUE",urgency:"due"};const f=Math.ceil(u/o);return{label:`${f}d`,urgency:f<=1?"soon":"later"}}function Gh(l,c,u,o,f,d,m=!1,x=!1,g=!1,h=!1,S=!1,y=!1,w="manual"){const j=Date.now(),O={id:crypto.randomUUID?crypto.randomUUID():"id-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),userId:"",word:l.trim(),ipa:c.trim(),meaningVi:u.trim(),example:o.trim(),note:f,tags:d,isIdiom:m,isPhrasalVerb:g,isCollocation:h,isStandardPhrase:S,needsPronunciationFocus:x,isPassive:y,register:"raw",quality:Xe.RAW,source:w,isExampleLocked:!1,createdAt:j,updatedAt:j,nextReview:j,interval:0,easeFactor:2.5,consecutiveCorrect:0,forgotCount:0,lastTestResults:{}};return O.complexity=Qa(O),O.masteryScore=Ot(O),O.gameEligibility=qa(O),O}function Pr(l){const c=[];if(c.push({key:"spelling",testKeys:["SPELLING"]}),(l.ipa||l.needsPronunciationFocus)&&c.push({key:"pronunciation",testKeys:["PRONUNCIATION"]}),l.ipa&&l.ipa.trim()&&l.ipaMistakes&&l.ipaMistakes.length>0&&c.push({key:"ipa_recognition",testKeys:["IPA_QUIZ"]}),l.meaningVi&&l.meaningVi.trim()&&c.push({key:"meaning",testKeys:["MEANING_QUIZ"]}),l.example&&l.example.trim()&&c.push({key:"context",testKeys:["SENTENCE_SCRAMBLE"]}),l.collocationsArray&&l.collocationsArray.filter(u=>!u.isIgnored&&u.d&&u.d.trim()).forEach(u=>{const o=u.text;c.push({key:`colloc:${o}`,testKeys:[`COLLOCATION_QUIZ:${o}`,`COLLOCATION_MULTICHOICE_QUIZ:${o}`,`COLLOCATION_CONTEXT_QUIZ:${o}`]})}),l.idiomsList&&l.idiomsList.filter(u=>!u.isIgnored&&u.d&&u.d.trim()).forEach(u=>{const o=u.text;c.push({key:`idiom:${o}`,testKeys:[`IDIOM_QUIZ:${o}`,`IDIOM_CONTEXT_QUIZ:${o}`]})}),l.prepositions&&l.prepositions.filter(u=>!u.isIgnored).forEach(u=>{const o=u.prep;c.push({key:`prep:${o}`,testKeys:[`PREPOSITION_QUIZ:${o}`]})}),l.paraphrases&&l.paraphrases.filter(u=>!u.isIgnored&&u.context&&u.context.trim()).forEach(u=>{const o=u.word;c.push({key:`para:${o}`,testKeys:[`PARAPHRASE_QUIZ:${o}`,`PARAPHRASE_CONTEXT_QUIZ:${o}`]})}),l.wordFamily){const u=["nouns","verbs","adjs","advs"],o={nouns:"n",verbs:"v",adjs:"j",advs:"d"},f=l.word.toLowerCase(),d=u.flatMap(m=>{const x=l.wordFamily[m];return Array.isArray(x)?x.filter(g=>!g.isIgnored&&g.word):[]});d.length===1&&d[0].word.toLowerCase()===f||u.forEach(m=>{const x=l.wordFamily[m];Array.isArray(x)&&x.filter(g=>!g.isIgnored&&g.word).forEach(g=>{const h=g.word,S=o[m];c.push({key:`fam:${S}:${h}`,testKeys:[`WORD_FAMILY:${S}:${h}`]})})})}return c}function Am(l){const c=Pr(l),u=new Set;return c.forEach(o=>{o.testKeys.forEach(f=>u.add(f))}),u}function Qa(l){return Pr(l).length}function Ot(l){const c=Pr(l);if(c.length===0)return 0;const u=l.lastTestResults||{};let o=0;const f=[],d=[];c.forEach(x=>{x.testKeys.length>0&&x.testKeys.some(h=>u[h]===!0)?(o++,f.push(x.key)):d.push({key:x.key,reason:`None of [${x.testKeys.join(", ")}] passed.`})});const m=Math.round(o/c.length*100);return Math.max(0,Math.min(100,m))}const Xt={userId:"uid",word:"w",ipa:"i",ipaUs:"i_us",ipaUk:"i_uk",pronSim:"ps",ipaMistakes:"im",meaningVi:"m",example:"ex",collocationsArray:"col",idiomsList:"idm",note:"n",tags:"tg",groups:"gr",createdAt:"ca",updatedAt:"ua",wordFamily:"fam",prepositions:"prp",paraphrases:"prph",register:"reg",isIdiom:"is_id",isPhrasalVerb:"is_pv",isCollocation:"is_col",isStandardPhrase:"is_phr",isIrregular:"is_irr",needsPronunciationFocus:"is_pron",isExampleLocked:"is_exl",isPassive:"is_pas",quality:"q",source:"s",nextReview:"nr",interval:"iv",easeFactor:"ef",consecutiveCorrect:"cc",lastReview:"lr",lastGrade:"lg",forgotCount:"fc",lastTestResults:"ltr",lastXpEarnedTime:"lxp",gameEligibility:"ge",v2:"v2",v3:"v3",masteryScore:"ms",complexity:"cx",topic:"tp",icon:"ic",words:"wds",color:"clr",titleColor:"tc",titleSize:"ts",d:"ds",text:"x",isIgnored:"g",prep:"p",usage:"u",tone:"t",context:"c",nouns:"n",verbs:"v",adjs:"j",advs:"d",type:"ty",alternatives:"alt"},od=Object.fromEntries(Object.entries(Xt).map(([l,c])=>[c,l])),Uu={name:"n",avatar:"av",lastLogin:"ll",role:"r",currentLevel:"cl",target:"t",nativeLanguage:"nl",experience:"xp",level:"lv",peakLevel:"pl",adventure:"adv",adventureLastDailyStar:"alds",unlockedChapterIds:"uc",completedSegmentIds:"cs",segmentStars:"ss",badges:"b",keys:"k",keyFragments:"kf",currentNodeIndex:"cni",energy:"e",energyShards:"es",map:"m"},Tm=Object.fromEntries(Object.entries(Uu).map(([l,c])=>[c,l])),Vh={COLLO_CONNECT:"cc",MEANING_MATCH:"mm",IPA_SORTER:"is",SENTENCE_SCRAMBLE:"ss",PREPOSITION_POWER:"pp",WORD_TRANSFORMER:"wt",IDIOM_CONNECT:"ic",PARAPHRASE_CONTEXT:"pc"},u1=Object.fromEntries(Object.entries(Vh).map(([l,c])=>[c,l])),qh={SPELLING:"sp",IPA_QUIZ:"iq",PREPOSITION_QUIZ:"pq",WORD_FAMILY:"wf",MEANING_QUIZ:"mq",PARAPHRASE_QUIZ:"prq",SENTENCE_SCRAMBLE:"sc",HETERONYM_QUIZ:"hq",PRONUNCIATION:"p",COLLOCATION_QUIZ:"cq",IDIOM_QUIZ:"idq",PARAPHRASE_CONTEXT_QUIZ:"pcq",WORD_FAMILY_NOUNS:"wf_n",WORD_FAMILY_VERBS:"wf_v",WORD_FAMILY_ADJS:"wf_j",WORD_FAMILY_ADVS:"wf_d"},d1=Object.fromEntries(Object.entries(qh).map(([l,c])=>[c,l])),cd={intensified:"int",softened:"sft",synonym:"syn",academic:"acd",casual:"cas",idiomatic:"idm"},f1=Object.fromEntries(Object.entries(cd).map(([l,c])=>[c,l])),Kr={user:!0,vocabulary:!0,lesson:!0,reading:!0,writing:!0,speaking:!0,listening:!0,mimic:!0,wordBook:!0,calendar:!0};function Qh(l,c){return l&&(c==="paraphrases"?l.map(u=>{const o={[Xt.word]:u.word,[Xt.tone]:cd[u.tone]||u.tone,[Xt.context]:u.context};return u.isIgnored!==void 0&&(o[Xt.isIgnored]=u.isIgnored),o}):l.map(u=>{if(typeof u!="object"||u===null)return u;const o={};for(const f in u)Object.prototype.hasOwnProperty.call(u,f)&&(o[Xt[f]||f]=u[f]);return o}))}function p1(l){if(!l)return l;const c={},u=["nouns","verbs","adjs","advs"];for(const o of u)if(l[o]){const f=Xt[o]||o;c[f]=Qh(l[o],o)}return c}function hs(l){const c={};for(const u in l){if(!Object.prototype.hasOwnProperty.call(l,u))continue;const o=l[u],f=Xt[u]||u;if(["collocationsArray","idiomsList","prepositions","paraphrases","words"].includes(u))c[f]=Qh(o,u);else if(u==="wordFamily")c[f]=p1(o);else if(u==="lastTestResults"&&o){const d={},m=new Set(["WORD_FAMILY","WORD_FAMILY_NOUNS","WORD_FAMILY_VERBS","WORD_FAMILY_ADJS","WORD_FAMILY_ADVS","wf","wf_n","wf_v","wf_j","wf_d"]);for(const x in o)if(Object.prototype.hasOwnProperty.call(o,x)){if(m.has(x))continue;const g=x.split(":");if(g[0]==="WORD_FAMILY"&&g.length===2)continue;const h=g[0],y=[qh[h]||h,...g.slice(1)].join(":");d[y]=o[x]}c[f]=d}else u==="gameEligibility"&&Array.isArray(o)?c[f]=o.map(d=>Vh[d]||d):c[f]=o}return c}function m1(l){const c={};for(const u in l){if(!Object.prototype.hasOwnProperty.call(l,u))continue;const o=l[u],f=Uu[u]||u;if(u==="adventure"&&o){const d={};for(const m in o){if(!Object.prototype.hasOwnProperty.call(o,m))continue;const x=Uu[m]||m;d[x]=o[m]}c[f]=d}else c[f]=o}return c}function h1(l){const c={};for(const u in l){if(!Object.prototype.hasOwnProperty.call(l,u))continue;const o=l[u],f=Tm[u]||u;if(f==="adventure"&&o){const d={};for(const m in o){if(!Object.prototype.hasOwnProperty.call(o,m))continue;const x=Tm[m]||m;d[x]=o[m]}c[f]=d}else c[f]=o}return c}function Zh(l,c){return l&&(c==="paraphrases"?l.map(u=>{const o={word:u[Xt.word],tone:f1[u[Xt.tone]]||u[Xt.tone],context:u[Xt.context]};return u[Xt.isIgnored]!==void 0&&(o.isIgnored=u[Xt.isIgnored]),o}):l.map(u=>{if(typeof u!="object"||u===null)return u;const o={};for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f)){const d=od[f]||f;o[d]=u[f]}return o}))}function g1(l){const c={};for(const u in l){const o=od[u]||u;c[o]=Zh(l[u],o)}return c}function Nu(l){const c={};for(const u in l){if(!Object.prototype.hasOwnProperty.call(l,u))continue;const o=l[u],f=od[u]||u;if(["collocationsArray","idiomsList","prepositions","paraphrases","words"].includes(f))c[f]=Zh(o,f);else if(f==="wordFamily"&&o)c[f]=g1(o);else if(f==="lastTestResults"&&o){const d={};for(const m in o)if(Object.prototype.hasOwnProperty.call(o,m)){const x=m.split(":"),g=x[0],S=[d1[g]||g,...x.slice(1)].join(":");d[S]=o[m]}c[f]=d}else f==="gameEligibility"&&Array.isArray(o)?c[f]=o.map(d=>u1[d]||d):c[f]=o}return c}const Yh=async(l,c,u=Kr)=>new Promise(o=>{const f=u&&typeof u=="object"&&typeof u.vocabulary=="boolean"?u:Kr,d=new FileReader;d.onload=async m=>{var x;try{const g=JSON.parse((x=m.target)==null?void 0:x.result),h=Array.isArray(g)?g:g.vocabulary||g.vocab,y=h.length>0&&(h[0].uid||!h[0].userId||h[0].col&&h[0].col.length>0&&h[0].col[0].x!==void 0||h[0].ge&&h[0].ge.length>0&&h[0].ge[0].length<=3||h[0].prph&&h[0].prph.length>0&&h[0].prph[0].t&&Object.values(cd).includes(h[0].prph[0].t))?h.map(Nu):h,w=Array.isArray(g)?void 0:g.units||g.u,j=Array.isArray(g)?void 0:g.paraphraseLogs||g.pl,O=Array.isArray(g)?void 0:g.speakingTopics||g.st,N=Array.isArray(g)?void 0:g.speakingLogs||g.sl,L=Array.isArray(g)?void 0:g.writingTopics||g.wt,I=Array.isArray(g)?void 0:g.writingLogs||g.wl,Q=Array.isArray(g)?void 0:g.comparisonGroups||g.cg,B=Array.isArray(g)?void 0:g.irregularVerbs||g.iv,X=Array.isArray(g)?void 0:g.lessons,D=Array.isArray(g)?void 0:g.listeningItems,F=Array.isArray(g)?void 0:g.nativeSpeakItems,W=F?F.map(Nu):void 0,P=Array.isArray(g)?void 0:g.compositions,T=Array.isArray(g)?void 0:g.mimicQueue,K=Array.isArray(g)?void 0:g.wordBooks||g.wb,U=K?K.map(Nu):void 0,G=Array.isArray(g)?void 0:g.calendarEvents||g.ce,ne=Array.isArray(g)?void 0:g.user;let se;ne&&(se="n"in ne||"av"in ne||"ll"in ne||"adv"in ne?h1(ne):ne);const fe=Array.isArray(g)?void 0:g.customAdventure||g.adv,E=Array.isArray(g)?void 0:g.settings||g.sys,ee=Array.isArray(g)?void 0:g.readingShelves||g.rs,oe=Array.isArray(g)?void 0:g.readingBooks||g.rb;if(!Array.isArray(y))throw new Error("Invalid JSON format: 'vocabulary' array not found.");const pe=se?se.id:c;let de=0,b=0,C=0;if(f.vocabulary){const V=await ys(c),Z=new Map(V.map(xe=>[xe.word.toLowerCase().trim(),xe])),le=[],te=xe=>{if(!xe)return;const ce={...xe};return["nouns","verbs","adjs","advs"].forEach(me=>{Array.isArray(ce[me])&&(ce[me]=ce[me].map(be=>typeof be=="string"?{word:be,ipa:""}:{word:be.word,ipa:be.ipa||be.i||"",ipaUs:be.ipaUs,ipaUk:be.ipaUk,pronSim:be.pronSim,isIgnored:be.isIgnored}))}),ce};for(const xe of y){if(!xe.word)continue;const{userId:ce,...me}=xe,be=Z.get(xe.word.toLowerCase().trim());if(be)if((me.updatedAt||0)>(be.updatedAt||0)){const{source:Ne,...ke}=me;let we={...be,...ke,id:be.id,userId:pe,updatedAt:Date.now()};if(we.wordFamily=te(we.wordFamily),we.lastTestResults){const at=Am(we),St={};for(const rt in we.lastTestResults)at.has(rt)&&(St[rt]=we.lastTestResults[rt]);we.lastTestResults=St}le.push(we),b++}else C++;else{const Ne=Date.now(),ke=me.source==="seed"?"app":"manual";let we=Gh(me.word,"","","","",[],me.isIdiom,me.needsPronunciationFocus,me.isPhrasalVerb,me.isCollocation,me.isStandardPhrase,me.isPassive,ke);if(we={...we,...me,id:me.id||we.id,userId:pe,wordFamily:te(me.wordFamily),quality:me.quality||Xe.RAW,register:me.register||"raw",source:ke,createdAt:me.createdAt||Ne,updatedAt:Ne},we.lastTestResults){const at=Am(we),St={};for(const rt in we.lastTestResults)at.has(rt)&&(St[rt]=we.lastTestResults[rt]);we.lastTestResults=St}we.lastReview&&typeof we.interval<"u"?we.nextReview=we.lastReview+we.interval*864e5:we.nextReview=Ne,le.push(we),de++}}le.length>0&&await El(le)}if(f.reading){if(w&&Array.isArray(w)){const V=w.map(Z=>({...Z,userId:pe}));await bh(V)}if(oe&&Array.isArray(oe)){const V=oe.map(Z=>({...Z,userId:pe}));await Lh(V)}ee&&localStorage.setItem("reading_books_shelves",JSON.stringify(ee))}if((f.lesson||f.writing)&&j&&Array.isArray(j)){const V=j.map(Z=>({...Z,userId:pe}));await vh(V)}if(f.speaking){if(O&&Array.isArray(O)){const V=O.map(Z=>({...Z,userId:pe}));await wh(V)}if(N&&Array.isArray(N)){const V=N.map(Z=>({...Z,userId:pe}));await Sh(V)}if(W&&Array.isArray(W)){const V=W.map(Z=>({...Z,userId:pe,type:Z.type||"native",alternatives:Z.alternatives||[],note:Z.note||Z.n}));await _h(V)}}if(f.writing){if(L&&Array.isArray(L)){const V=L.map(Z=>({...Z,userId:pe}));await jh(V)}if(I&&Array.isArray(I)){const V=I.map(Z=>({...Z,userId:pe}));await Nh(V)}if(P&&Array.isArray(P)){const V=P.map(Z=>({...Z,userId:pe}));await kh(V)}}if(f.lesson){if(Q&&Array.isArray(Q)){const V=Q.map(Z=>({...Z,userId:pe}));await zu(V)}if(B&&Array.isArray(B)){const V=B.map(Z=>({...Z,userId:pe}));await Eh(V)}if(X&&Array.isArray(X)){const V=[],Z=[];X.forEach(le=>{const te={...le,userId:pe};le.type==="comparison"?Z.push({id:le.id,userId:pe,name:le.title,words:le.words||[],tags:le.tags,comparisonData:le.comparisonData||[],createdAt:le.createdAt,updatedAt:le.updatedAt}):V.push(te)}),V.length>0&&await Ah(V),Z.length>0&&await zu(Z)}}if(f.listening&&D&&Array.isArray(D)){const V=D.map(Z=>({...Z,userId:pe}));await Th(V)}if(f.mimic&&T&&Array.isArray(T)&&localStorage.setItem("vocab_pro_mimic_practice_queue",JSON.stringify(T)),f.wordBook&&U&&Array.isArray(U)){const V=U.map(Z=>({...Z,userId:pe}));await id(V)}if(f.calendar&&G&&Array.isArray(G)){const V=G.map(Z=>({...Z,userId:pe}));await Rh(V)}let M;if(f.user&&se){const V={...se};let Z=parseInt(String(V.level),10);(isNaN(Z)||Z<1)&&(Z=1),V.level=Z;let le=parseInt(String(V.peakLevel),10);(isNaN(le)||le<1)&&(le=Z),V.peakLevel=le,V.experience=typeof V.experience=="number"&&!isNaN(V.experience)?V.experience:0,V.adventure||(V.adventure={});const te=V.adventure;if(te.currentNodeIndex=typeof te.currentNodeIndex=="number"&&!isNaN(te.currentNodeIndex)?te.currentNodeIndex:0,(typeof te.energy!="number"||isNaN(te.energy))&&(te.energy=5),te.keys=typeof te.keys=="number"&&!isNaN(te.keys)?te.keys:1,te.keyFragments=typeof te.keyFragments=="number"&&!isNaN(te.keyFragments)?te.keyFragments:0,te.energyShards=typeof te.energyShards=="number"&&!isNaN(te.energyShards)?te.energyShards:0,te.badges=Array.isArray(te.badges)?te.badges:[],te.unlockedChapterIds=Array.isArray(te.unlockedChapterIds)?te.unlockedChapterIds:vl.map(ce=>ce.id),te.completedSegmentIds=Array.isArray(te.completedSegmentIds)?te.completedSegmentIds:[],te.segmentStars=te.segmentStars||{},!te.map||!Array.isArray(te.map)||te.map.length===0)te.map=hi(100);else{let ce=0;te.map=te.map.map((me,be)=>{if((be+1)%10===0){me.type="boss";const Ne=Wr[ce%Wr.length];me.boss_details={...Ne},ce++}return me})}const xe={...V,id:pe};await Ta(xe),M=xe}let $=!1;if(fe&&f.user){const V=fe.chapters||fe.ch,Z=fe.badges||fe.b;V&&(localStorage.setItem("vocab_pro_adventure_chapters",JSON.stringify(V)),$=!0),Z&&(localStorage.setItem("vocab_pro_custom_badges",JSON.stringify(Z)),$=!0)}f.user&&E&&(localStorage.setItem("vocab_pro_system_config",JSON.stringify(E)),window.dispatchEvent(new Event("config-updated"))),sessionStorage.removeItem("vocab_pro_active_session"),sessionStorage.removeItem("vocab_pro_session_progress"),sessionStorage.removeItem("vocab_pro_session_outcomes"),o({type:"success",message:"Restore data successfully",detail:`Words: ${de} new, ${b} updated, ${C} skipped.`,updatedUser:M,customAdventureRestored:$})}catch(g){o({type:"error",message:"JSON Import Error",detail:g.message})}},d.onerror=()=>{var m;o({type:"error",message:"File Read Error",detail:((m=d.error)==null?void 0:m.message)||"Could not read the file."})},d.readAsText(l)}),x1=async(l,c,u=Kr)=>{const o=u&&typeof u=="object"&&typeof u.vocabulary=="boolean"?u:Kr,f=o.vocabulary?await ys(l):[],d=o.reading?await Jr(l):[],m=o.reading?await rd(l):[],x=o.lesson||o.writing?await Ku(l):[],g=o.speaking?await $u(l):[],h=o.speaking?await Fu(l):[],S=o.speaking?await ld(l):[],y=o.writing?await Pu(l):[],w=o.writing?await Ju(l):[],j=o.writing?await Ni(l):[],O=o.lesson?await ed(l):[],N=o.lesson?await td(l):[],L=o.lesson?await ad(l):[],I=o.listening?await nd(l):[],Q=o.mimic?localStorage.getItem("vocab_pro_mimic_practice_queue"):null,X=(o.wordBook?await ji(l):[]).map(hs),D=o.calendar?await sd(l):[],P=f.map(({collocations:de,idioms:b,...C})=>C).map(de=>hs(de)),T=S.map(de=>hs(de)),K=d;let U=L;if(o.lesson){const de=O.map(b=>({id:b.id,userId:b.userId,type:"comparison",title:b.name,description:`Comparison group: ${b.words.join(", ")}`,content:"",comparisonData:b.comparisonData,words:b.words,tags:b.tags,createdAt:b.createdAt,updatedAt:b.updatedAt,topic1:"",topic2:""}));U=[...L,...de]}const G=localStorage.getItem("vocab_pro_adventure_chapters"),ne=localStorage.getItem("vocab_pro_custom_badges"),se=localStorage.getItem("vocab_pro_system_config"),fe=localStorage.getItem("reading_books_shelves"),E={v:7,ca:new Date().toISOString(),user:o.user?m1(c):null,vocab:P,u:K,pl:x,st:g,sl:h,wt:y,wl:w,cg:[],iv:N,lessons:U,listeningItems:I,nativeSpeakItems:T,compositions:j,mimicQueue:Q?JSON.parse(Q):[],wordBooks:X,ce:D,readingBooks:m,adv:o.user?{ch:G?JSON.parse(G):null,b:ne?JSON.parse(ne):null}:null,settings:o.user&&se?JSON.parse(se):null,readingShelves:o.reading&&fe?JSON.parse(fe):null},ee=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),oe=URL.createObjectURL(ee),pe=document.createElement("a");pe.href=oe,pe.download=`vocab-pro-backup-${new Date().toISOString().split("T")[0]}.json`,pe.click(),URL.revokeObjectURL(oe)},u2=async(l,c)=>{const u={v:7,ca:new Date().toISOString(),u:l,user:{id:c}},o=new Blob([JSON.stringify(u,null,2)],{type:"application/json"}),f=URL.createObjectURL(o),d=document.createElement("a");d.href=f,d.download=`vocab-pro-units-${new Date().toISOString().split("T")[0]}.json`,d.click(),URL.revokeObjectURL(f)};let xi=!1,Qr=!1,It=new Map,hn=new Set,Fn=new Set,Zr=null,Xh={reviewCounts:{total:0,due:0,new:0,learned:0,mastered:0,statusForgot:0,statusHard:0,statusEasy:0,statusLearned:0},dashboardStats:{categories:{vocab:{total:0,learned:0},idiom:{total:0,learned:0},phrasal:{total:0,learned:0},colloc:{total:0,learned:0},phrase:{total:0,learned:0},preposition:{total:0,learned:0},pronun:{total:0,learned:0}},refinedCount:0,rawCount:0},dayProgress:{learned:0,reviewed:0,learnedWords:[],reviewedWords:[]}},Br=null;function Wt(){const c=(La().sync.autoBackupInterval||60)*1e3,u=Date.now()+c;Br&&clearTimeout(Br),window.dispatchEvent(new CustomEvent("backup-scheduled",{detail:{targetTime:u}})),Br=window.setTimeout(async()=>{try{const o=Array.from(It.values()),f=JSON.stringify(o);if(localStorage.setItem("vocab_pro_emergency_backup",f),Zr){const d=(await ms()).find(m=>m.id===Zr);d&&await $h(Zr,d)}}catch(o){console.warn("[DataStore] Backup failed:",o)}Br=null},c)}function Al(l){const c=Date.now(),o=Array.from(It.values()).filter(D=>!D.isPassive&&D.userId===l),f=o.length,d=o.filter(D=>D.lastReview&&D.nextReview<=c&&D.quality!==Xe.FAILED).length,m=o.filter(D=>!D.lastReview&&D.quality===Xe.VERIFIED).length,x=o.filter(D=>D.interval>21).length,g=o.filter(D=>!!D.lastReview&&D.interval<=21),h=g.length,S=g.filter(D=>D.lastGrade===_e.FORGOT).length,y=g.filter(D=>D.lastGrade===_e.HARD).length,w=g.filter(D=>D.lastGrade===_e.EASY).length,j=g.filter(D=>D.lastGrade===_e.LEARNED).length,O=o.filter(D=>D.quality===Xe.REFINED).length,N=o.filter(D=>D.quality===Xe.RAW).length,L={vocab:{total:0,learned:0},idiom:{total:0,learned:0},phrasal:{total:0,learned:0},colloc:{total:0,learned:0},phrase:{total:0,learned:0},preposition:{total:0,learned:0},pronun:{total:0,learned:0}};o.forEach(D=>{const F=!!D.lastReview,W=P=>{L[P].total++,F&&L[P].learned++};D.isIdiom&&W("idiom"),D.isPhrasalVerb&&W("phrasal"),D.isCollocation&&W("colloc"),D.isStandardPhrase&&W("phrase"),D.needsPronunciationFocus&&W("pronun"),D.prepositions&&D.prepositions.length>0&&!D.isPhrasalVerb&&W("preposition"),!D.isIdiom&&!D.isPhrasalVerb&&!D.isCollocation&&!D.isStandardPhrase&&W("vocab")});const I=new Date;I.setHours(0,0,0,0);const Q=I.getTime(),B=[],X=[];o.forEach(D=>{D.lastReview&&D.lastReview>=Q&&D.lastReviewSessionType!=="boss_battle"&&(D.lastGrade===_e.FORGOT?X.push(D):D.consecutiveCorrect===1&&D.lastGrade!==_e.HARD?B.push(D):X.push(D))}),Xh={reviewCounts:{total:f,due:d,new:m,learned:h,mastered:x,statusForgot:S,statusHard:y,statusEasy:w,statusLearned:j},dashboardStats:{categories:L,refinedCount:O,rawCount:N},dayProgress:{learned:B.length,reviewed:X.length,learnedWords:B,reviewedWords:X}}}let Hr=null;function Sa(){Hr&&clearTimeout(Hr),Hr=window.setTimeout(()=>{window.dispatchEvent(new CustomEvent("datastore-updated")),Hr=null},100)}let _m=0;const Sn=()=>{const l=Date.now();return l-_m<1e3?(window.dispatchEvent(new CustomEvent("datastore-cooldown")),!1):(_m=l,!0)};typeof window<"u"&&window.addEventListener("vocab-pro-trigger-backup",()=>{xi&&(Sa(),Wt())});async function Wh(l){if(!(xi||Qr)){Qr=!0,Zr=l,console.log("DataStore: Initializing...");try{let c=await ys(l);if(c.length===0){const d=localStorage.getItem("vocab_pro_emergency_backup");if(d)try{console.log("[DataStore] DB empty. Found backup in LocalStorage. Attempting auto-restore...");const m=JSON.parse(d);Array.isArray(m)&&m.length>0&&(await El(m),c=await ys(l),console.log(`[DataStore] Auto-restored ${c.length} items from backup.`))}catch(m){console.error("[DataStore] Failed to restore from emergency backup:",m)}}const[u,o]=await Promise.all([Ni(l),ji(l)]);hn.clear(),u.forEach(d=>{(d.linkedWordIds||[]).forEach(m=>hn.add(m))}),Fn.clear(),o.forEach(d=>{(d.words||[]).forEach(m=>Fn.add(m.word.toLowerCase()))});const f=[];for(const d of c){let m=!1;const x=Qa(d),g=Ot(d),h=qa(d);d.complexity!==x&&(d.complexity=x,m=!0),d.masteryScore!==g&&(d.masteryScore=g,m=!0),JSON.stringify(d.gameEligibility)!==JSON.stringify(h)&&(d.gameEligibility=h,m=!0),typeof d.register>"u"&&(d.register="raw",m=!0),m&&f.push(d)}f.length>0&&(console.log(`DataStore: Repairing Complexity/Mastery data for ${f.length} words...`),await El(f)),It=new Map(c.map(d=>[d.id,d])),Al(l),xi=!0,console.log(`DataStore: Ready. Loaded ${It.size} items, indexed ${hn.size} composed and ${Fn.size} book words.`)}catch(c){console.error("DataStore initialization failed:",c),xi=!1}finally{Qr=!1}}}async function Du(l){console.log("DataStore: Forcing reload from DB..."),xi=!1,Qr=!1,It.clear(),hn.clear(),Fn.clear(),await Wh(l),Sa()}async function Kh(l){try{const c=await Ni(l);hn.clear(),c.forEach(u=>{(u.linkedWordIds||[]).forEach(o=>hn.add(o))}),Sa()}catch(c){console.error("Failed to refresh composition index",c)}}async function ud(l){try{const c=await ji(l);Fn.clear(),c.forEach(u=>{(u.words||[]).forEach(o=>Fn.add(o.word.toLowerCase()))}),Sa()}catch(c){console.error("Failed to refresh word book index",c)}}function y1(l){return hn.has(l)}function d2(){return hn}function f2(){return Fn}function Fh(){return Xh}function Fr(){return Array.from(It.values())}function Cm(l){return It.get(l)}function p2(l,c,u,o="",f=["all"],d="all",m="all",x="all",g="all",h=null,S="all",y="all"){const w=Array.from(It.values()).filter(I=>I.userId===l);let j=w;if(f.includes("duplicate")){const I=new Map;w.forEach(B=>{const X=B.word.toLowerCase().trim();I.set(X,(I.get(X)||0)+1)});const Q=new Set;for(const[B,X]of I.entries())X>1&&Q.add(B);j=j.filter(B=>Q.has(B.word.toLowerCase().trim()))}const O=f.filter(I=>I!=="duplicate"),N=j.filter(I=>uh(I,o,O,d,m,x,g,h,S,hn,y,Fn));f.includes("duplicate")?N.sort((I,Q)=>I.word.localeCompare(Q.word)||I.createdAt-Q.createdAt):N.sort((I,Q)=>Q.createdAt-I.createdAt);const L=c*u;return{words:N.slice(L,L+u),totalCount:N.length}}async function b1(l,c){Sn()&&(l.complexity=Qa(l),l.masteryScore=Ot(l),l.gameEligibility=qa(l),await ph(l,c),It.set(l.id,l),Al(l.userId),Wt(),Sa())}async function m2(l,c){Sn()&&(l&&(l.complexity=Qa(l),l.masteryScore=Ot(l),l.gameEligibility=qa(l)),await mh(l,c),l&&(It.set(l.id,l),Wt()),Al(c.userId),Sa())}async function dd(l){Sn()&&(l.complexity=Qa(l),l.masteryScore=Ot(l),l.gameEligibility=qa(l),await hh(l),It.set(l.id,l),Al(l.userId),Wt(),Sa())}async function v1(l){l.length!==0&&(l.forEach(c=>{c.complexity=Qa(c),c.masteryScore=Ot(c),c.gameEligibility=qa(c)}),await El(l),l.forEach(c=>It.set(c.id,c)),l[0]&&Al(l[0].userId),Wt(),Sa())}async function S1(l){const c=It.get(l);!c||!Sn()||(await gh(l),It.delete(l),Al(c.userId),Wt(),Sa())}async function w1(l){if(l.length===0)return;const c=It.get(l[0]);c&&(await xh(l),l.forEach(u=>It.delete(u)),Al(c.userId),Wt(),Sa())}async function h2(l){Sn()&&(await Ta(l),Wt())}async function g2(l){Sn()&&(await yh(l),Wt(),Sa())}async function x2(l){Sn()&&(await Ch(l),await Kh(l.userId),Wt())}async function y2(l,c){await Oh(l),await Kh(c),Wt()}async function b2(l){Sn()&&(await Ih(l),await ud(l.userId),Wt())}async function v2(l){l.length===0||!Sn()||(await id(l),await ud(l[0].userId),Wt(),Sa())}async function S2(l,c){await Mh(l),await ud(c),Wt()}const{getUnitsContainingWord:N1,seedDatabaseIfEmpty:j1,clearVocabularyOnly:E1,findWordByText:A1}=Wb,T1={user:!0,vocabulary:!0,lesson:!0,reading:!0,writing:!0,speaking:!0,listening:!0,mimic:!0,wordBook:!0,calendar:!0},$h=async(l,c,u=!1)=>{const o=La();if(!o.sync.autoBackupEnabled&&!u)return;const f=Ei(o);try{const d=await _1(l,c),m=JSON.stringify(d),x=(new Blob([m]).size/(1024*1024)).toFixed(2),g=await fetch(`${f}/api/backup?userId=${encodeURIComponent(l)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:m});if(!g.ok)throw new Error(`Server error: ${g.statusText}`);const h={...o};h.sync.lastSyncTime=Date.now(),Bh(h,!0),window.dispatchEvent(new CustomEvent("backup-complete",{detail:{success:!0,size:x}}))}catch(d){console.warn("[Backup] Upload failed:",d),window.dispatchEvent(new CustomEvent("backup-complete",{detail:{success:!1}}))}},Jh=async l=>{console.log("[Backup] Attempting restore for:",l);try{const c=La(),u=Ei(c);console.log(`[Backup] Connecting to: ${u}`);const o=`${u}/api/backup/${encodeURIComponent(l)}?t=${Date.now()}`,f=await fetch(o,{method:"GET",headers:{"Cache-Control":"no-cache"},mode:"cors"});if(!f.ok)return console.warn(`[Backup] Restore fetch failed: ${f.status}`),!1;const d=await f.blob(),m=new File([d],"restore.json",{type:"application/json"});return(await Yh(m,l,T1)).type==="success"?(console.log("[Backup] Restore success. Reloading store..."),await Du(l),!0):!1}catch(c){return console.error("[Backup] Restore exception:",c),!1}};async function _1(l,c){const u=await ys(l),o=await Jr(l),f=await rd(l),d=await Ku(l),m=await $u(l),x=await Fu(l),g=await ld(l),h=await Pu(l),S=await Ju(l),y=await Ni(l),w=await td(l),j=await ad(l),O=await ed(l),N=await nd(l),L=await ji(l),I=await sd(l),Q=localStorage.getItem("vocab_pro_mimic_practice_queue"),B=localStorage.getItem("vocab_pro_adventure_chapters"),X=localStorage.getItem("vocab_pro_custom_badges"),D=localStorage.getItem("reading_books_shelves"),F=localStorage.getItem("vocab_pro_system_config"),W=u.map(U=>hs(U)),P=g.map(U=>hs(U)),T=L.map(U=>hs(U)),K=O.map(U=>({id:U.id,userId:U.userId,type:"comparison",title:U.name,description:`Comparison: ${U.words.join(", ")}`,content:"",comparisonData:U.comparisonData,words:U.words,tags:U.tags,createdAt:U.createdAt,updatedAt:U.updatedAt,topic1:"",topic2:""}));return{v:7,ca:new Date().toISOString(),user:c,vocab:W,u:o,pl:d,st:m,sl:x,wt:h,wl:S,iv:w,lessons:[...j,...K],listeningItems:N,nativeSpeakItems:P,compositions:y,mimicQueue:Q?JSON.parse(Q):[],wordBooks:T,ce:I,readingBooks:f,adv:{ch:B?JSON.parse(B):null,b:X?JSON.parse(X):null},readingShelves:D?JSON.parse(D):null,settings:F?JSON.parse(F):null}}const C1=()=>{const[l,c]=_.useState(null),[u,o]=_.useState(!1),[f,d]=_.useState(!1),m=_.useCallback(async()=>{o(!1),d(!1);const S=localStorage.getItem("vocab_pro_current_user_id"),y=localStorage.getItem("vocab_pro_auto_restore");let w=await ms();const j=w.length===0,O=y==="true"||j,N=S||Lu;if(O){console.log(j?`[Auth] Data loss detected (DB empty). Attempting auto-restore for ID: ${N}...`:`[Auth] Manual restore flag detected. Attempting restore for ID: ${N}...`),window.isRestoring=!0;try{if(await Jh(N)){if(console.log("[Auth] Auto-restore successful."),w=await ms(),!S&&w.length>0){const X=w.find(D=>D.id===N)||w[0];X&&localStorage.setItem("vocab_pro_current_user_id",X.id)}}else console.warn("[Auth] Auto-restore failed or no backup found.")}catch(B){console.warn("[Auth] Auto-restore exception:",B)}finally{setTimeout(()=>{window.isRestoring=!1},2e3)}y&&localStorage.removeItem("vocab_pro_auto_restore")}await oh();const L=await ms();let I=null;const Q=localStorage.getItem("vocab_pro_current_user_id");if(L.length===1?(I=L[0],d(!0)):Q&&L.length>1&&(I=L.find(B=>B.id===Q)||null,I&&d(!0)),I){let B=!1;I.adventure?(I.adventure.completedSegmentIds.length===0&&(I.adventure.keys===0||I.adventure.keys===void 0)&&(I.adventure.keys=1,B=!0),I.adventure.map||(I.adventure.map=hi(100),B=!0)):(I.adventure={currentNodeIndex:0,energy:5,energyShards:0,unlockedChapterIds:vl.map(X=>X.id),completedSegmentIds:[],segmentStars:{},badges:[],keys:1,keyFragments:0,map:hi(100)},B=!0),B&&await Ta(I),c(I),localStorage.setItem("vocab_pro_current_user_id",I.id)}o(!0)},[]);return _.useEffect(()=>{m()},[m]),{currentUser:l,isLoaded:u,handleLogin:async S=>{S.adventure.map||(S.adventure.map=hi(100),await Ta(S)),c(S),localStorage.setItem("vocab_pro_current_user_id",S.id);const y={...S,lastLogin:Date.now()};Ta(y)},handleLogout:()=>{c(null),localStorage.removeItem("vocab_pro_current_user_id")},handleUpdateUser:async S=>{await Ta(S),c(S)},setCurrentUser:c,shouldSkipAuth:f}},O1=({setView:l,setIsSidebarOpen:c})=>{const[u,o]=_.useState(null),[f,d]=_.useState(null),[m,x]=_.useState(null);_.useEffect(()=>{try{const S=sessionStorage.getItem("vocab_pro_active_session");if(S){const{words:y,type:w}=JSON.parse(S);Array.isArray(y)&&y.length>0&&(o(y),x(w))}}catch(S){console.error("Failed to restore session",S),sessionStorage.removeItem("vocab_pro_active_session")}},[]);const g=_.useCallback((S,y,w=null)=>{if(console.log(`[SESSION_DEBUG] Starting session of type '${y}' with ${S.length} words.`),S.length>0){const O=[...Array.from(new Map(S.map(N=>[N.id,N])).values())].sort(()=>Math.random()-.5);o(O),x(y),d(w),sessionStorage.setItem("vocab_pro_active_session",JSON.stringify({words:O,type:y})),sessionStorage.removeItem("vocab_pro_session_progress"),sessionStorage.removeItem("vocab_pro_session_outcomes"),console.log("[SESSION_DEBUG] Navigating to REVIEW view."),l("REVIEW"),c(!1)}else console.log(`[SESSION_DEBUG] Attempted to start session of type '${y}' but no words were provided. Navigation cancelled.`)},[l,c]),h=_.useCallback(()=>{console.log("[SESSION_DEBUG] Clearing all active session state and sessionStorage."),sessionStorage.removeItem("vocab_pro_active_session"),sessionStorage.removeItem("vocab_pro_session_progress"),sessionStorage.removeItem("vocab_pro_session_outcomes"),o(null),x(null),d(null)},[]);return{sessionWords:u,setSessionWords:o,sessionType:m,sessionFocus:f,startSession:g,clearSessionState:h}},fs=l=>l<1?0:l<=5?100+l*50:l<=10?350+(l-5)*100:850+(l-10)*200,k1=[{level:1,title:"Vocab Novice"},{level:5,title:"Word Apprentice"},{level:10,title:"Lexical Explorer"},{level:20,title:"Master Grammarian"},{level:30,title:"IELTS Wordsmith"},{level:50,title:"IELTS Luminary"}],ju=l=>{let c="Vocab Novice";for(const u of k1)if(l>=u.level)c=u.title;else break;return c},Om=(l,c)=>{let u=0;for(let o=1;o<l;o++)u+=fs(o);return u+=c,u},R1=({currentUser:l,onUpdateUser:c,onSaveWordAndUser:u})=>{const[o,f]=_.useState(null),{showToast:d}=el(),m=_.useRef(l);_.useEffect(()=>{m.current=l},[l]);const x=_.useCallback(async(S,y,w,j)=>{const O=m.current;if(!O)return 0;let N=S;if(y){const U=Date.now(),G=new Date(U).toDateString();if(y.lastXpEarnedTime&&new Date(y.lastXpEarnedTime).toDateString()===G)return 0;if(j&&j.tested>0){const ne=j.correct/j.tested;N*=1+(ne-.7)}w===_e.EASY&&(N*=1.1),w===_e.FORGOT&&(N*=.1),N=Math.round(Math.max(5,N)),y.lastXpEarnedTime=U}const I=Om(O.level,O.experience)+Math.round(N);let Q=1,B=I,X=fs(Q);for(;B>=X;)B-=X,Q++,X=fs(Q);const D=Math.floor(B),F=O.level,W=Q>F,P=ju(Q),T={...O,experience:D,level:Q,peakLevel:Math.max(O.peakLevel||F,Q),role:P};let K=!1;if(!y&&S>0&&Math.random()<.2){const U={...T.adventure};U.keyFragments=(U.keyFragments||0)+1,d("You found a Key Fragment! ","success",2e3),U.keyFragments>=3&&(U.keyFragments-=3,U.keys=(U.keys||0)+1,K=!0),T.adventure=U}return y?await u(y,T):await c(T),K&&d(" Key Fragments assembled into a Magic Key!","success",4e3),f({amount:Math.round(N),levelUp:W,newLevel:W?Q:null}),setTimeout(()=>f(null),W?5e3:2e3),W&&d(` Level Up to ${Q}! New title: "${P}"`,"success",5e3),Math.round(N)},[c,u,d]),g=_.useCallback(async S=>{const y=m.current;if(!y)return;const w=Om(y.level,y.experience),j=S-w;if(j===0)return;let O=1,N=S,L=fs(O);for(;N>=L;)N-=L,O++,L=fs(O);const I=Math.floor(N),Q=y.level,B=y.peakLevel||Q,X=Math.max(B,O),D=ju(O),F=O>Q,W=O>B,P=D!==ju(B),T={...y,experience:I,level:O,peakLevel:X,role:D};if(W){let K=1,U=!1,G=` New Peak Level: ${O}! +1 Key Fragment`;for(P&&(K++,G=`New Title: "${D}"! +2 Key Fragments`),T.adventure.keyFragments=(T.adventure.keyFragments||0)+K;T.adventure.keyFragments>=3;)T.adventure.keyFragments-=3,T.adventure.keys=(T.adventure.keys||0)+1,U=!0;d(G,"success",6e3),U&&d(" Key Fragments assembled into a Magic Key!","success",4e3)}else if(F)d(` Level Up to ${O}!`,"success",4e3);else if(j!==0){const K=j>0?"+":"";d(`XP Recalculated: ${K}${j} XP`,"info",2e3)}await c(T),f({amount:j,levelUp:F,newLevel:F?O:null}),setTimeout(()=>f(null),F?5e3:2e3)},[d,c]),h=_.useMemo(()=>l?fs(l.level):0,[l]);return{recalculateXpAndLevelUp:g,gainExperienceAndLevelUp:x,xpGained:o,xpToNextLevel:h}};function bs(l,c){try{const u=localStorage.getItem(l);if(u)return JSON.parse(u)}catch(u){console.error(`Error parsing JSON from localStorage for key "${l}":`,u)}return c}function Ph(l,c){try{localStorage.setItem(l,JSON.stringify(c))}catch(u){console.error(`Error saving JSON to localStorage for key "${l}":`,u)}}const I1="vocab_pro_adventure_chapters";function M1(){return bs(I1,vl)}const L1=({currentUser:l,view:c,onUpdateUser:u})=>{const[o,f]=_.useState({total:0,due:0,new:0,learned:0}),[d,m]=_.useState(null),[x,g]=_.useState(null),[h,S]=_.useState(!1),[y,w]=_.useState({count:0,date:""}),{showToast:j}=el(),O=_.useCallback(async()=>{if(!l)return;await Wh(l.id);const I=Fh();f(I.reviewCounts);const Q=Fr().filter(P=>P.userId===l.id),X=Q.filter(P=>!P.isPassive).filter(P=>P.quality===Xe.VERIFIED);let D=null;if(x)D=x;else if(X.length>0){const P=new Date().toISOString().slice(0,10).replace(/-/g,""),T=l.id.length>4&&parseInt(l.id.substring(l.id.length-4),16)||1234,U=(parseInt(P)+T)%X.length;D=X[U]}m(D),S(D?y1(D.id):!1);const F=M1(),W=l.adventure;if(W){const P=new Map(Q.map(ne=>[ne.id,ne]));let T={...W},K=!1,U=!1;const G=new Date().toISOString().split("T")[0];for(const ne of F)for(const se of ne.segments){if(!T.completedSegmentIds.includes(se.id))continue;let fe=T.segmentStars[se.id]||0;const E=(ee,oe)=>{T.segmentStars[se.id]=ee,T.keyFragments=(T.keyFragments||0)+1,K=!0,j(oe,"success",5e3),!U&&l.adventureLastDailyStar!==G&&(T.keyFragments++,U=!0,j("Bonus: First star of the day! (+1 Key Fragment)","success",6e3))};fe<3&&(fe<1&&se.basicWords.length>0&&se.basicWords.every(ee=>{var oe;return((oe=P.get(ee.toLowerCase()))==null?void 0:oe.consecutiveCorrect)??!1})&&(E(1,` 1-Star Mastery for "${se.title}"! (+1 Key Fragment)`),fe=1),fe===1&&se.intermediateWords.length>0&&se.intermediateWords.every(ee=>{var oe;return((oe=P.get(ee.toLowerCase()))==null?void 0:oe.consecutiveCorrect)??!1})&&(E(2,` 2-Star Mastery for "${se.title}"! (+1 Key Fragment)`),fe=2),fe===2&&se.advancedWords.length>0&&se.advancedWords.every(ee=>{var oe;return((oe=P.get(ee.toLowerCase()))==null?void 0:oe.consecutiveCorrect)??!1})&&E(3,` Boss unlocked for "${se.title}"! (+1 Key Fragment)`))}if(K){for(;T.keyFragments>=3;)T.keyFragments-=3,T.keys=(T.keys||0)+1,j(" Key Fragments assembled into a Magic Key!","success",4e3);const ne={...l,adventure:T,adventureLastDailyStar:U?G:l.adventureLastDailyStar};u(ne)}}},[l,j,u,x]);_.useEffect(()=>{x&&O()},[x]),_.useEffect(()=>{l&&O();const I=()=>{j("Saving too quickly. Please wait.","info",1500)};return window.addEventListener("datastore-updated",O),window.addEventListener("datastore-cooldown",I),()=>{window.removeEventListener("datastore-updated",O),window.removeEventListener("datastore-cooldown",I)}},[l,O,j]);const N=_.useCallback(()=>{const I=new Date().toISOString().split("T")[0];let Q=bs("vocab_pro_api_usage",{count:0,date:"1970-01-01"});Q.date!==I&&(Q={count:0,date:I}),w(Q)},[]);return _.useEffect(()=>(N(),window.addEventListener("apiUsageUpdated",N),()=>{window.removeEventListener("apiUsageUpdated",N)}),[N]),{stats:o,wotd:d,setWotd:m,apiUsage:y,refreshGlobalStats:O,isWotdComposed:h,randomizeWotd:()=>{if(!l)return;const Q=Fr().filter(B=>B.userId===l.id).filter(B=>!B.isPassive&&B.quality===Xe.VERIFIED);if(Q.length>0){const B=Q[Math.floor(Math.random()*Q.length)];g(B)}}}},z1=l=>{const{currentUser:c,setView:u,refreshGlobalStats:o,sessionWords:f,setSessionWords:d,globalViewWord:m,setGlobalViewWord:x,onUpdateUser:g}=l,{showToast:h}=el(),[S,y]=_.useState(!1),[w,j]=_.useState(""),O=()=>{var fe;const U=Number(localStorage.getItem("vocab_pro_last_backup_timestamp"))||0,ne=((fe=La().sync)==null?void 0:fe.lastSyncTime)||0,se=Math.max(U,ne);return se>0?se:null},[N,L]=_.useState(O()),I=_.useCallback(()=>{L(O())},[]),Q=async U=>{if(!c)return;const G=U||{user:!0,vocabulary:!0,lesson:!0,reading:!0,writing:!0,speaking:!0,listening:!0,mimic:!0,wordBook:!0,calendar:!0};await x1(c.id,c,G);const ne=Date.now();localStorage.setItem("vocab_pro_last_backup_timestamp",String(ne)),I(),sessionStorage.removeItem("vocab_pro_just_restored")},B=async U=>{sessionStorage.setItem("vocab_pro_just_restored","true");const G=Date.now();localStorage.setItem("vocab_pro_last_backup_timestamp",String(G)),I(),h("Restore successful! Refreshing data...","success",2e3),await Du(c.id),U.updatedUser&&(await g(U.updatedUser),localStorage.setItem("vocab_pro_current_user_id",U.updatedUser.id)),o(),setTimeout(()=>{window.dispatchEvent(new Event("vocab-pro-restore-complete"))},600)},X=async()=>{if(c){window.isRestoring=!0;try{if(await Jh(c.id)){sessionStorage.setItem("vocab_pro_just_restored","true");const G=Date.now();localStorage.setItem("vocab_pro_last_backup_timestamp",String(G)),I(),h("Restored from Server successfully!","success"),setTimeout(()=>{window.dispatchEvent(new Event("vocab-pro-restore-complete"))},600),setTimeout(()=>window.location.reload(),1e3)}else h("Server restore failed. Falling back to local file...","error"),D()}catch(U){console.error("[UI] Error during server restore call:",U),D()}finally{setTimeout(()=>{window.isRestoring=!1},2e3)}}},D=()=>{if(!c)return;const U=document.createElement("input");U.type="file",U.accept=".json",U.style.display="none",U.onchange=async G=>{var ne;U.parentNode&&U.parentNode.removeChild(U);try{const se=(ne=G.target.files)==null?void 0:ne[0];if(!se)return;const fe={user:!0,vocabulary:!0,lesson:!0,reading:!0,writing:!0,speaking:!0,listening:!0,mimic:!0,wordBook:!0,calendar:!0},E=await Yh(se,c.id,fe);E.type==="success"?await B(E):h(`Restore data failed. Reason: ${E.detail||E.message}`,"error",1e4)}catch(se){console.error("A fatal error occurred in the restore onchange handler:",se),h("A fatal error occurred. Check the console for details.","error",1e4)}},document.body.appendChild(U),U.click()};return{isResetting:S,resetStep:w,lastBackupTime:N,refreshBackupTime:I,handleBackup:Q,restoreFromServerAction:X,triggerLocalRestore:D,handleLibraryReset:async()=>{if(c){y(!0),j("Cleaning library...");try{await E1(),sessionStorage.removeItem("vocab_pro_skip_seed"),await j1(!0),await Du(c.id),o(),u("DASHBOARD")}catch(U){console.error("Reset failed",U),window.location.reload()}finally{y(!1)}}},updateWord:async U=>{await dd(U),f&&d(G=>(G||[]).map(ne=>ne.id===U.id?U:ne)),m&&m.id===U.id&&(U.masteryScore=Ot(U),x(U))},deleteWord:async U=>{m&&m.id===U&&x(null),await S1(U)},bulkDeleteWords:async U=>{await w1(U)},bulkUpdateWords:async U=>{await v1(U)}}},U1=()=>{const{showToast:l}=el(),{currentUser:c,isLoaded:u,handleLogin:o,handleLogout:f,handleUpdateUser:d,setCurrentUser:m,shouldSkipAuth:x}=C1(),[g,h]=_.useState("AUTH"),[S,y]=_.useState(!1),[w,j]=_.useState(null),[O,N]=_.useState(null),[L,I]=_.useState(!1),[Q,B]=_.useState(Date.now()),[X,D]=_.useState("disconnected"),[F,W]=_.useState(!1),[P,T]=_.useState(null),[K,U]=_.useState(null),{sessionWords:G,setSessionWords:ne,sessionType:se,sessionFocus:fe,startSession:E,clearSessionState:ee}=O1({setView:h,setIsSidebarOpen:y}),{stats:oe,wotd:pe,apiUsage:de,refreshGlobalStats:b,isWotdComposed:C,randomizeWotd:M}=L1({currentUser:c,view:g,onUpdateUser:d});_.useEffect(()=>{const je=async()=>{try{const He=La(),ut=Ei(He),lt=new AbortController,Lt=setTimeout(()=>lt.abort(),1500),yt=await fetch(`${ut}/api/health`,{signal:lt.signal});clearTimeout(Lt),yt.ok?D("connected"):D("disconnected")}catch{D("disconnected")}};if(u){je();const He=setInterval(je,3e4);return window.addEventListener("config-updated",je),()=>{clearInterval(He),window.removeEventListener("config-updated",je)}}},[u]);const{isResetting:$,resetStep:re,lastBackupTime:V,refreshBackupTime:Z,handleBackup:le,restoreFromServerAction:te,triggerLocalRestore:xe,handleLibraryReset:ce,deleteWord:me,bulkDeleteWords:be,bulkUpdateWords:Ne}=z1({currentUser:c,setView:h,refreshGlobalStats:b,sessionWords:G,setSessionWords:ne,globalViewWord:w,setGlobalViewWord:j,onUpdateUser:d});_.useEffect(()=>{const je=()=>{X==="connected"&&!window.isRestoring&&W(!0)},He=()=>{W(!1),T(null)},ut=Lt=>{const yt=Lt;yt.detail&&yt.detail.targetTime&&T(yt.detail.targetTime)},lt=Lt=>{const yt=Lt;yt.detail&&(yt.detail.success?(W(!1),T(null),Z()):(W(!0),T(null)))};return window.addEventListener("datastore-updated",je),window.addEventListener("vocab-pro-restore-complete",He),window.addEventListener("backup-scheduled",ut),window.addEventListener("backup-complete",lt),()=>{window.removeEventListener("datastore-updated",je),window.removeEventListener("vocab-pro-restore-complete",He),window.removeEventListener("backup-scheduled",ut),window.removeEventListener("backup-complete",lt)}},[X,Z]);const ke=async()=>{if(!c)return;const je=Fh(),{learned:He,reviewed:ut}=je.dayProgress,lt=new Date().toISOString().split("T")[0],Lt=Math.floor(He/3),yt=Math.floor(ut/10),Na=Lt+yt,Za=c.adventure,Ya=Za.lastDailyEnergyAwardDate||"";let Nn=Za.dailyEnergyAwarded||0;if(Ya!==lt&&(Nn=0),Na>Nn){const jn=Na-Nn,ao=(Za.energy||0)+jn,Ai={...c,adventure:{...Za,energy:ao,dailyEnergyAwarded:Na,lastDailyEnergyAwardDate:lt}};await d(Ai),l(`Daily Progress: +${jn} Energy `,"success")}};_.useEffect(()=>{u&&c&&ke()},[oe,u,c==null?void 0:c.id]);const we=async je=>{const He=Cm(je.id);(!He||He.masteryScore!==je.masteryScore)&&B(Date.now()),await dd(je),G&&ne(ut=>(ut||[]).map(lt=>lt.id===je.id?je:lt)),w&&w.id===je.id&&j(je),await ke()},at=async()=>{c&&(W(!1),T(null),await $h(c.id,c,!0),l("Sync to Server initiated.","success"))},St=async()=>{X==="connected"&&c?await at():await le()},rt=async je=>{await Ne(je),await ke()},nt=async(je,He)=>{await b1(je,He),m(He);const ut=Cm(je.id);(!ut||ut.masteryScore!==je.masteryScore)&&B(Date.now()),G&&ne(lt=>(lt||[]).map(Lt=>Lt.id===je.id?je:Lt)),w&&w.id===je.id&&j(je),await ke()},{gainExperienceAndLevelUp:jt,recalculateXpAndLevelUp:Mt,xpGained:R,xpToNextLevel:Se}=R1({currentUser:c,onUpdateUser:d,onSaveWordAndUser:nt});_.useEffect(()=>{u&&(x&&c?h("DASHBOARD"):c||h("AUTH"))},[u,x,c==null?void 0:c.id]);const Te=je=>{o(je),h("DASHBOARD")},Ie=()=>{f(),h("AUTH"),y(!1)},Qe=_.useCallback(()=>{ee(),h("DASHBOARD"),b()},[ee,b]),Me=_.useCallback(()=>{if(!G||G.length===0||!se){Qe();return}const je=G.map(lt=>lt.id),ut=Fr().filter(lt=>je.includes(lt.id));ut.length>0?E(ut,se,fe):Qe()},[G,se,fe,E,Qe]),ht=_.useCallback(async()=>{if(!c)return;console.log("[SESSION_DEBUG] Attempting to start DUE session...");const je=await dh(c.id,30);console.log(`[SESSION_DEBUG] Found ${je.length} due words.`),E(je,"due")},[c,E]),gt=_.useCallback(async()=>{if(!c)return;console.log("[SESSION_DEBUG] Attempting to start NEW session...");const je=await fh(c.id,20);console.log(`[SESSION_DEBUG] Found ${je.length} new words.`),E(je,"new")},[c,E]);return{view:g,setView:h,currentUser:c,isLoaded:u,isResetting:$,resetStep:re,isSidebarOpen:S,setIsSidebarOpen:y,handleLogin:Te,handleLogout:Ie,handleUpdateUser:d,sessionWords:G,sessionFocus:fe,sessionType:se,startSession:E,handleSessionComplete:Qe,stats:oe,wotd:pe,refreshGlobalStats:b,isWotdComposed:C,randomizeWotd:M,globalViewWord:w,setGlobalViewWord:j,lastBackupTime:V,handleBackup:St,triggerLocalBackup:le,triggerServerBackup:at,restoreFromServerAction:te,triggerLocalRestore:xe,handleLibraryReset:ce,initialListFilter:O,setInitialListFilter:N,forceExpandAdd:L,setForceExpandAdd:I,apiUsage:de,updateWord:we,deleteWord:me,bulkDeleteWords:be,bulkUpdateWords:rt,handleNavigateToList:je=>{N(je),h("BROWSE")},openAddWordLibrary:()=>{h("BROWSE"),I(!0)},clearSessionState:ee,handleRetrySession:Me,gainExperienceAndLevelUp:jt,recalculateXpAndLevelUp:Mt,xpGained:R,xpToNextLevel:Se,startDueReviewSession:ht,startNewLearnSession:gt,lastMasteryScoreUpdateTimestamp:Q,writingContextWord:K,handleComposeWithWord:je=>{U(je),h("WRITING")},consumeWritingContext:()=>{U(null)},serverStatus:X,hasUnsavedChanges:F,nextAutoBackupTime:P}},D1="modulepreload",B1=function(l){return"/ielts-pro/"+l},km={},Kt=function(c,u,o){let f=Promise.resolve();if(u&&u.length>0){let m=function(h){return Promise.all(h.map(S=>Promise.resolve(S).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),g=(x==null?void 0:x.nonce)||(x==null?void 0:x.getAttribute("nonce"));f=m(u.map(h=>{if(h=B1(h),h in km)return;km[h]=!0;const S=h.endsWith(".css"),y=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const w=document.createElement("link");if(w.rel=S?"stylesheet":D1,S||(w.as="script"),w.crossOrigin="",w.href=h,g&&w.setAttribute("nonce",g),document.head.appendChild(w),S)return new Promise((j,O)=>{w.addEventListener("load",j),w.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${h}`)))})}))}function d(m){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=m,window.dispatchEvent(x),!x.defaultPrevented)throw m}return f.then(m=>{for(const x of m||[])x.status==="rejected"&&d(x.reason);return c().catch(d)})};function H1(l,c="Vietnamese"){return`You are an expert IELTS coach, examiner, and native English speaker.
    
    Analyze this list of vocabulary items: [${l.map(o=>`"${o}"`).join(", ")}].

    IMPORTANT RULES FOR HEADWORD (hw) IDENTIFICATION:
    1. FOR PHRASES/IDIOMS/EXPRESSIONS: If the input is a multi-word unit (e.g., "cut the road", "break the ice", "get over"), the headword (hw) MUST be the EXACT phrase provided. DO NOT reduce it to a single word (e.g., do NOT return "cut" for "cut the road").
    2. FOR SINGLE WORDS: If the input is a single inflected word, identify its base form and ensure it is in SINGULAR form (e.g., "running" -> "run", "cities" -> "city", "problems" -> "problem").
    3. All details (meaning, IPA, examples) MUST correspond to the identified headword (the whole phrase or the base word).
    4. If input has multiple distinct meanings as a phrase vs a single word, prioritize the meaning of the input as provided.

    LANGUAGE RULES:
    - All content in English, except "m" (Meaning) which must be in ${c}.

    FIELD GENERATION RULES:
    - If the headword (hw) is a PHRASE, PHRASAL VERB, or IDIOM (e.g., "break the ice"):
      - DO NOT generate 'fam' (word family). Return an empty object {} or null.
      - DO NOT generate 'col' (collocations). Return an empty array [].
    - Other fields should be generated as normal.

    FIELD DEFINITIONS:
    - og: The EXACT string from the input list.
    - hw: The headword (Full phrase for expressions; base form for single words).
    - ipa: The primary IPA transcription.
    - ipa_m: 2-4 common mispronunciations.
    - m: Definition of the headword in ${c}.
    - reg: The word's register. MUST be one of: "academic", "casual", or "neutral".
    - ex: A high-quality example sentence using the headword.
    - col: Array of 3-5 essential collocations. ONLY for single-word headwords. Each item MUST be an object: {"text": "the collocation phrase", "d": "minimal descriptive cue that helps recall the colocation, limit to 5 - 10 words. This field is REQUIRED."}.
    - idm: Array of 1-3 common idioms containing the headword (only if hw is a single word). Each item MUST be an object: {"text": "the idiom phrase", "d": "minimal descriptive cue for recall, 5-10 words. This field is REQUIRED."}.
    - prep: Array of dependent prepositions. Format: [{"p": "preposition", "c": "short usage example"}].
    - para: List of synonyms/paraphrases. Generate a variety of tones, but max 6-8 items total.
        - 't' = tone. MUST be one of: "intensified", "softened", "synonym", "academic", "casual", "idiomatic".
        - "intensified": A word with a stronger meaning (e.g., for 'happy', return 'ecstatic').
        - "softened": A word with a weaker/milder meaning (e.g., for 'furious', return 'annoyed').
        - "synonym": A neutral synonym with a similar meaning.
        - "academic": A formal or academic equivalent.
        - "casual": An informal or conversational equivalent.
        - "idiomatic": A related idiom or figurative phrase.
        - 'c' = short context where the paraphrase would be used.
    - fam: Word family. ONLY for single-word headwords. 'n'=nouns, 'v'=verbs, 'j'=adjectives, 'adv'=adverbs. Format: [{"w": "word", "i": "/ipa/"}].
    - is_pas: True if vulgar/slang.
    - is_pron: True if it's a pronunciation trap.
    - is_id: True if it's an Idiom.
    - is_pv: True if it's a Phrasal Verb.
    - is_col: True if it's a Collocation.
    - is_phr: True if it's a fixed Standard Phrase/Expression.
    - is_irr: True if it's an Irregular verb (single words only).
    - tags: 3-5 IELTS topic tags.

    EXAMPLES:
    - Input "cut the road" -> hw: "cut the road", m: "m ng", is_phr: true, fam: null, col: [].
    - Input "better late than never" -> hw: "better late than never", is_id: true, fam: null, col: [].
    - Input "implications" -> hw: "implication", m: "h qu", fam: { n: [{"w": "implication", "i": "/mplken/"}], v: [{"w": "imply", "i": "/mpla/"}] }.

    Response Example (Strict JSON Array):
    [{
      "og": "input_string",
      "hw": "headword_or_full_phrase",
      "ipa": "/ipa/",
      "ipa_m": ["wrong1", "wrong2"],
      "m": "meaning in ${c}",
      "reg": "academic",
      "ex": "Example sentence.",
      "col": [{"text": "heavy rain", "d": "when it is raining a lot"}],
      "idm": [],
      "prep": [], 
      "para": [{ "w": "synonym", "t": "academic", "c": "context" }],
      "is_id": false, "is_pv": false, "is_col": false, "is_phr": true, "is_irr": false,
      "v2": null, "v3": null,
      "is_pas": false, "is_pron": false,
      "tags": ["topic"],
      "fam": null
    }]`}function G1(l,c){var o,f,d;const u={word:l.word,meaning:l.meaningVi,family:l.wordFamily,collocations:(o=l.collocationsArray)==null?void 0:o.map(m=>m.text),idioms:(f=l.idiomsList)==null?void 0:f.map(m=>m.text),paraphrases:(d=l.paraphrases)==null?void 0:d.map(m=>({word:m.word,tone:m.tone,context:m.context}))};return`You are an expert IELTS coach and English teacher. Your task is to provide learning recommendations for a vocabulary item based on a user's profile.

    USER PROFILE:
    - Role: ${c.role||"N/A"}
    - Current Level: ${c.currentLevel||"N/A"}
    - Target: ${c.target||"N/A"}

    VOCABULARY ITEM TO ANALYZE:
    ${JSON.stringify(u,null,2)}

    INSTRUCTIONS:
    1.  Analyze all components of the vocabulary item (word family, collocations, idioms, paraphrases).
    2.  Based on the USER PROFILE, decide whether each component is essential to learn ('learn') or can be ignored for now ('ignore').
    3.  Provide a concise, sharp 'reason' for each decision. Your reasoning is the most important part.
    4.  Be strict. For an IELTS learner, prioritize academic, high-impact, and flexible vocabulary. For a beginner, prioritize core meanings and common usage.

    EXAMPLE REASONING:
    - For an IELTS goal, if a paraphrase is "the process of a liquid turning into a gas," you should suggest 'ignore' and reason: "This is too descriptive and wordy for IELTS. A single academic term like 'evaporation' is more effective and scores higher for lexical resource."
    - For a primary school student goal, you might suggest 'learn' for the same phrase, reasoning: "This simple explanation is great for building foundational understanding before learning the scientific term."
    - For a common idiom, you might suggest 'learn' for an IELTS student: "Essential for demonstrating natural, native-like language in Speaking Part 1."

    Return a single, strict JSON object. Do not include any text outside the JSON block.

    STRICT JSON OUTPUT FORMAT:
    {
      "overall_summary": "string (A one-sentence summary of the learning strategy for this word, based on the user's goal.)",
      "wordFamily": [
        { "item": "string (the word form)", "suggestion": "learn" | "ignore", "reason": "string (your concise explanation)" }
      ],
      "collocations": [
        { "item": "string (the collocation)", "suggestion": "learn" | "ignore", "reason": "string" }
      ],
      "idioms": [
        { "item": "string (the idiom)", "suggestion": "learn" | "ignore", "reason": "string" }
      ],
      "paraphrases": [
        { "item": "string (the paraphrase word)", "suggestion": "learn" | "ignore", "reason": "string" }
      ]
    }
    `}const V1=l=>{if(!l)return null;const c=y=>Array.isArray(y)?y.map(w=>typeof w=="string"?{word:w,ipa:""}:w&&(w.w||w.word)?{word:w.w||w.word,ipa:w.i||w.ipa||w.i_us||"",isIgnored:w.g??w.isIgnored}:null).filter(w=>w!==null&&!!w.word):[],u=y=>(y==null?void 0:y.map(w=>({word:w.w||w.word,tone:w.t||w.tone,context:w.c||w.context,isIgnored:w.g??w.isIgnored??!1})))||[],o=y=>Array.isArray(y)?y.map(w=>typeof w=="string"?{prep:w.trim(),usage:""}:{prep:(w.p||w.prep||"").trim(),usage:(w.c||w.usage||"").trim(),isIgnored:w.g??w.isIgnored??!1}).filter(w=>w.prep.length>0):[],f=y=>Array.isArray(y)?y.map(j=>{if(typeof j=="string")return{text:j,isIgnored:!1};const O=j.text||j.x;if(O){const N=j.d||j.ds;return{text:O,d:N,isIgnored:j.g??j.isIgnored??!1}}return null}).filter(j=>j!==null&&!!j.text):void 0;let d;Array.isArray(l.prepositionsArray)?d=l.prepositionsArray:Array.isArray(l.prep)?d=o(l.prep):Array.isArray(l.prepositions)&&(d=o(l.prepositions));const m=l.col||l.collocations;let x,g;Array.isArray(m)?(x=f(m),x&&(g=x.map(y=>y.text).join(`
`))):typeof m=="string"&&(g=m);const h=l.idm||l.idioms;let S;return Array.isArray(h)&&(S=f(h)),{original:l.og||l.original,headword:l.hw||l.headword,ipa:l.ipa||l.ipa_us,ipaUs:l.ipa_us,ipaUk:l.ipa_uk,pronSim:l.pron_sim,ipaMistakes:l.ipa_m||l.ipaMistakes,meaningVi:l.m||l.meaningVi,register:l.reg||l.register,example:l.ex||l.example,collocations:g,collocationsArray:x,idioms:S?S.map(y=>y.text).join(`
`):void 0,idiomsList:S,prepositionString:typeof l.prep=="string"?l.prep:typeof l.preposition=="string"?l.preposition:void 0,prepositionsArray:d,isIdiom:l.is_id??l.isIdiom,isPhrasalVerb:l.is_pv??l.isPhrasalVerb,isCollocation:l.is_col??l.isCollocation,isStandardPhrase:l.is_phr??l.isStandardPhrase,isIrregular:l.is_irr??l.isIrregular,isPassive:l.is_pas??l.isPassive,needsPronunciationFocus:l.is_pron??l.needsPronunciationFocus,v2:l.v2,v3:l.v3,tags:l.tags,paraphrases:u(l.para||l.paraphrases),wordFamily:l.fam?{nouns:c(l.fam.n||l.fam.nouns),verbs:c(l.fam.v||l.fam.verbs),adjs:c(l.fam.j||l.fam.adjs),advs:c(l.fam.adv||l.fam.advs)}:l.wordFamily||void 0}},q1=l=>{if(!l||typeof l!="string"||l.trim().toLowerCase()==="null")return;const c=new Set(["of","in","to","for","with","on","at","from","by","about","as","into","like","through","after","over","between","out","against","during","without","before","under","around","among"]),u=["out of","because of","according to","in front of","next to","due to","instead of","in spite of","on top of","as for","except for","apart from","along with","in addition to","in case of","with regard to","as well as","in accordance with","on behalf of","in relation to","in terms of","by means of","in charge of"],o=l.split(/[;,]/).map(d=>d.trim()).filter(Boolean);if(o.length===0)return;const f=o.map(d=>{const x=[...u].sort((y,w)=>w.length-y.length).find(y=>d.toLowerCase().includes(y));if(x&&d.toLowerCase().startsWith(x)){const y=x,w=d.substring(y.length).trim();return{prep:y,usage:w}}const g=d.split(/\s+/);if(c.has(g[0].toLowerCase())){const y=g[0],w=d.substring(y.length).trim();return{prep:y,usage:w}}const h=g.findIndex(y=>c.has(y.toLowerCase()));if(h>0){const y=g[h],w=g.slice(h+1).join(" ");return{prep:y,usage:w}}const S=d.indexOf(" ");if(S>0){const y=d.substring(0,S),w=d.substring(S+1).trim();return{prep:y,usage:w}}return{prep:d,usage:""}});return f.length>0?f:void 0},Q1=(l,c)=>{const u=V1(c);if(!u)return l;const o={...l};o.ipa=u.ipa??l.ipa,o.ipaUs=u.ipaUs??l.ipaUs,o.ipaUk=u.ipaUk??l.ipaUk,o.pronSim=u.pronSim??l.pronSim,o.ipaMistakes=u.ipaMistakes??l.ipaMistakes,o.meaningVi=u.meaningVi??l.meaningVi,o.register=u.register??l.register;let d=[...l.collocationsArray||(l.collocations?l.collocations.split(`
`).map(y=>({text:y.trim(),isIgnored:!1})).filter(y=>y.text):[])];u.collocationsArray?u.collocationsArray.forEach(y=>{const w=d.findIndex(j=>j.text.toLowerCase()===y.text.toLowerCase());w!==-1?(y.d&&!d[w].d&&(d[w].d=y.d),y.isIgnored&&(d[w].isIgnored=!0)):d.push({text:y.text,d:y.d,isIgnored:y.isIgnored||!1})}):u.collocations&&u.collocations.split(/\n|;/).map(w=>w.trim()).filter(Boolean).forEach(w=>{d.some(j=>j.text.toLowerCase()===w.toLowerCase())||d.push({text:w,isIgnored:!1})}),o.collocationsArray=d,o.collocations=d.map(y=>y.text).join(`
`);let x=[...l.idiomsList||(l.idioms?l.idioms.split(`
`).map(y=>({text:y.trim(),isIgnored:!1})).filter(y=>y.text):[])];u.idiomsList?u.idiomsList.forEach(y=>{const w=x.findIndex(j=>j.text.toLowerCase()===y.text.toLowerCase());w!==-1?(y.d&&!x[w].d&&(x[w].d=y.d),y.isIgnored&&(x[w].isIgnored=!0)):x.push({text:y.text,d:y.d,isIgnored:y.isIgnored||!1})}):u.idioms&&u.idioms.split(/\n|;/).map(w=>w.trim()).filter(Boolean).forEach(w=>{x.some(j=>j.text.toLowerCase()===w.toLowerCase())||x.push({text:w,isIgnored:!1})}),o.idiomsList=x,o.idioms=x.map(y=>y.text).join(`
`);let g=l.prepositions||[];if(u.prepositionsArray&&Array.isArray(u.prepositionsArray)&&u.prepositionsArray.length>0){const y=u.prepositionsArray,w=[...g];y.forEach(j=>{j.prep&&(w.some(N=>N.prep.toLowerCase()===j.prep.toLowerCase()&&N.usage.toLowerCase()===j.usage.toLowerCase())||w.push({...j,isIgnored:j.isIgnored||!1}))}),g=w}else if(u.prepositionString&&typeof u.prepositionString=="string"){const y=q1(u.prepositionString);if(y){const w=[...g];y.forEach(j=>{w.some(N=>N.prep===j.prep&&N.usage===j.usage)||w.push(j)}),g=w}}if(o.prepositions=g.length>0?g:void 0,u.wordFamily?(u.wordFamily.advs&&(u.wordFamily.advs=u.wordFamily.advs.map(y=>({...y,isIgnored:y.isIgnored!==void 0?y.isIgnored:!0}))),o.wordFamily=u.wordFamily):o.wordFamily=l.wordFamily,u.paraphrases&&Array.isArray(u.paraphrases)){const y=l.paraphrases||[],w=u.paraphrases,j=[...y];w.forEach(O=>{j.some(N=>N.word.toLowerCase()===O.word.toLowerCase())||j.push(O)}),o.paraphrases=j}let h=l.example||"";u.example&&!h.toLowerCase().includes(u.example.toLowerCase())&&(h=h.trim()?`${h}
${u.example}`:u.example),o.example=h;const S=new Set((l.tags||[]).map(y=>y.toLowerCase()));return(u.tags||[]).forEach(y=>S.add(y.toLowerCase())),o.tags=Array.from(S),o.isIdiom=u.isIdiom!==void 0?!!u.isIdiom:l.isIdiom,o.isPhrasalVerb=u.isPhrasalVerb!==void 0?!!u.isPhrasalVerb:l.isPhrasalVerb,o.isCollocation=u.isCollocation!==void 0?!!u.isCollocation:l.isCollocation,o.isStandardPhrase=u.isStandardPhrase!==void 0?!!u.isStandardPhrase:l.isStandardPhrase,o.isIrregular=u.isIrregular!==void 0?!!u.isIrregular:l.isIrregular,o.isPassive=u.isPassive!==void 0?!!u.isPassive:l.isPassive,o.quality=Xe.REFINED,o.v2=u.v2??l.v2,o.v3=u.v3??l.v3,o.needsPronunciationFocus=u.needsPronunciationFocus??l.needsPronunciationFocus,o.complexity=Qa(o),o.masteryScore=Ot(o),o.gameEligibility=qa(o),o.updatedAt=Date.now(),o},Rm=({label:l,options:c,selectedId:u,onSelect:o,buttonClass:f,disabled:d=!1})=>{const[m,x]=_.useState(!1),g=_.useRef(null),h=c.find(S=>S.id===u)||c[0];return _.useEffect(()=>{const S=y=>{g.current&&!g.current.contains(y.target)&&x(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),s.jsxs("div",{className:"relative",ref:g,children:[s.jsxs("button",{type:"button",onClick:()=>x(!m),className:f,disabled:d,children:[l&&s.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-neutral-400",children:l}),h.icon,s.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:h.label}),s.jsx(yi,{size:14,className:`transition-transform duration-200 ${m?"rotate-180":""}`})]}),m&&!d&&s.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-2xl shadow-xl border border-neutral-100 z-50 p-2 overflow-hidden animate-in fade-in zoom-in-95 flex flex-col gap-1",children:c.map(S=>s.jsxs("button",{type:"button",onClick:()=>{o(S.id),x(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-xs font-bold transition-colors ${u===S.id?"bg-neutral-100 text-neutral-900":"text-neutral-600 hover:bg-neutral-50 hover:text-neutral-900"}`,children:[S.icon,s.jsx("span",{children:S.label})]},S.id))})]})},ds=({title:l,items:c,onUpdate:u,onToggleIgnore:o,onRemove:f,onAdd:d,placeholders:m,showIpa:x=!1,showDescription:g=!1})=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest",children:l}),s.jsxs("div",{className:"space-y-2 p-3 bg-neutral-50 border border-neutral-200 rounded-2xl",children:[(c||[]).map((h,S)=>s.jsxs("div",{className:`bg-white p-2 rounded-lg border border-neutral-100 flex items-start gap-2 group transition-opacity ${h.isIgnored?"opacity-50":""}`,children:[s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:h.text,onChange:y=>u(S,"text",y.target.value),placeholder:m.text,className:"flex-1 px-3 py-2 bg-neutral-50/50 border border-neutral-200 rounded-lg text-xs font-bold focus:bg-white focus:ring-1 focus:ring-neutral-900 outline-none"}),x&&s.jsx("input",{type:"text",value:h.ipa||"",onChange:y=>u(S,"ipa",y.target.value),placeholder:m.ipa,className:"w-28 px-3 py-2 bg-neutral-50/50 border border-neutral-200 rounded-lg text-xs font-mono focus:bg-white focus:ring-1 focus:ring-neutral-900 outline-none"})]}),g&&s.jsx("input",{type:"text",value:h.d||"",onChange:y=>u(S,"d",y.target.value),placeholder:m.d,className:"w-full px-3 py-1 bg-neutral-50/50 border border-transparent rounded-lg text-[10px] font-medium text-neutral-500 focus:bg-white focus:ring-1 focus:ring-neutral-900 focus:border-neutral-200 outline-none"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("button",{type:"button",onClick:()=>o(S),className:"p-2 text-neutral-400 hover:text-neutral-700 rounded-lg hover:bg-neutral-100",children:h.isIgnored?s.jsx(Iu,{size:14}):s.jsx(vi,{size:14})}),s.jsx("button",{type:"button",onClick:()=>f(S),className:"p-2 text-neutral-400 hover:text-red-500 rounded-lg hover:bg-red-50",children:s.jsx(vt,{size:14})})]})]},S)),s.jsxs("button",{type:"button",onClick:d,className:"w-full text-center py-2 bg-white hover:bg-neutral-100 text-neutral-400 hover:text-neutral-700 rounded-lg text-xs font-bold transition-colors flex items-center justify-center gap-1.5 border border-neutral-200 shadow-sm",children:[s.jsx(mn,{size:12})," Add"]})]})]}),Z1=l=>{var D,F,W,P;const{onClose:c,onSwitchToView:u,formData:o,setFormData:f,setFlag:d,familyHandler:m,prepList:x,collocList:g,idiomList:h,paraList:S,handleSubmit:y,onOpenAiRefine:w,onSuggestLearn:j,hasSuggestions:O}=l,[N,L]=_.useState("MAIN"),I=[{id:"MAIN",label:"Main",icon:Ru},{id:"DETAILS",label:"Details",icon:Zu},{id:"CONNECTIONS",label:"Connections",icon:$m}],Q=[{id:Xe.RAW,label:"Raw",icon:s.jsx(Wm,{size:14,className:"text-neutral-400"})},{id:Xe.REFINED,label:"Refined",icon:s.jsx(ih,{size:14,className:"text-indigo-500"})},{id:Xe.VERIFIED,label:"Verified",icon:s.jsx(th,{size:14,className:"text-emerald-500"})},{id:Xe.FAILED,label:"Incorrect",icon:s.jsx(ah,{size:14,className:"text-rose-500"})}],B=[{id:"NEW",label:"New",icon:s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"})},{id:_e.LEARNED,label:"Learned",icon:s.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"})},{id:_e.FORGOT,label:"Forgot",icon:s.jsx("div",{className:"w-3 h-3 rounded-full bg-rose-500"})},{id:_e.HARD,label:"Hard",icon:s.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})},{id:_e.EASY,label:"Easy",icon:s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})}],X=["intensified","softened","synonym","academic","casual"];return s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col max-h-[95vh]",children:[s.jsxs("header",{className:"px-6 py-4 border-b border-neutral-100 flex flex-col gap-4 shrink-0 bg-white/80 backdrop-blur-sm z-10",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:u,className:"p-2 bg-neutral-100 hover:bg-neutral-200 rounded-lg text-neutral-500 transition-colors",children:s.jsx(Vu,{size:16})}),s.jsx("h3",{className:"font-black text-lg text-neutral-900 leading-none",children:"Edit Word"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:j,title:O?"View Suggestions":"Get Learning Suggestions",className:`px-3 py-2 border rounded-lg font-black text-[10px] flex items-center justify-center space-x-1.5 hover:bg-neutral-50 active:scale-95 transition-all shadow-sm ${O?"bg-amber-50 border-amber-200 text-amber-700":"bg-white border-neutral-200 text-neutral-600"}`,children:[s.jsx($r,{size:12,className:O?"text-amber-500":"text-neutral-400"}),s.jsx("span",{children:O?"View Suggestion":"Suggest"})]}),s.jsxs("button",{type:"button",onClick:w,className:"px-3 py-2 bg-white border border-neutral-200 text-neutral-600 rounded-lg font-black text-[10px] flex items-center justify-center space-x-1.5 hover:bg-neutral-50 active:scale-95 transition-all shadow-sm",children:[s.jsx(wi,{size:12,className:"text-amber-500"}),s.jsx("span",{children:"Manual AI"})]}),s.jsxs("button",{type:"button",onClick:()=>y(),className:"px-5 py-2 bg-neutral-900 text-white rounded-lg font-black text-[10px] flex items-center justify-center space-x-1.5 hover:bg-neutral-800 active:scale-95 transition-all shadow-md shadow-neutral-900/10",children:[s.jsx($y,{size:12}),s.jsx("span",{children:"Save"})]}),s.jsx("button",{onClick:c,className:"p-2 text-neutral-400 hover:bg-neutral-100 hover:text-neutral-900 rounded-full transition-colors ml-2",children:s.jsx(vt,{size:18})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsx("div",{className:"flex bg-neutral-100 p-1 rounded-xl w-fit",children:I.map(({id:T,label:K,icon:U})=>s.jsxs("button",{onClick:()=>L(T),className:`px-4 py-2 text-xs font-black rounded-lg transition-all flex items-center gap-2 ${N===T?"bg-white shadow-sm text-neutral-900":"text-neutral-500 hover:text-neutral-800"}`,children:[s.jsx(U,{size:14})," ",K]},T))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rm,{label:"Quality",options:Q,selectedId:o.quality,onSelect:T=>f("quality",T),buttonClass:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg hover:bg-neutral-100 transition-colors shadow-sm border border-neutral-200"}),s.jsx(Rm,{label:"Learn Status",options:B,selectedId:o.studiedStatus,onSelect:T=>f("studiedStatus",T),buttonClass:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg hover:bg-neutral-100 transition-colors shadow-sm border border-neutral-200"})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar bg-neutral-50/50",children:s.jsxs("div",{className:"p-6 space-y-6",children:[N==="MAIN"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Headword"}),s.jsx("input",{type:"text",value:o.word,onChange:T=>f("word",T.target.value),className:"w-full px-4 py-3 bg-white border border-neutral-200 rounded-xl text-lg font-bold focus:ring-2 focus:ring-neutral-900 outline-none"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Primary IPA / US"}),s.jsx("input",{type:"text",value:o.ipa,onChange:T=>f("ipa",T.target.value),placeholder:"/.../",className:"w-full px-4 py-2 bg-white border border-neutral-200 rounded-xl font-mono text-base text-neutral-600 focus:ring-2 focus:ring-neutral-900 outline-none"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"IPA US (Optional)"}),s.jsx("input",{type:"text",value:o.ipaUs||"",onChange:T=>f("ipaUs",T.target.value),placeholder:"/.../",className:"w-full px-4 py-2 bg-white border border-neutral-200 rounded-xl font-mono text-base text-neutral-600 focus:ring-2 focus:ring-neutral-900 outline-none"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"IPA UK (Optional)"}),s.jsx("input",{type:"text",value:o.ipaUk||"",onChange:T=>f("ipaUk",T.target.value),placeholder:"/.../",className:"w-full px-4 py-2 bg-white border border-neutral-200 rounded-xl font-mono text-base text-neutral-600 focus:ring-2 focus:ring-neutral-900 outline-none"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Pronunciation Similarity"}),s.jsx("div",{className:"flex bg-neutral-100 p-1 rounded-xl w-full",children:["same","near","different"].map(T=>s.jsx("button",{type:"button",onClick:()=>f("pronSim",T),className:`flex-1 px-4 py-2 text-xs font-black rounded-lg transition-all flex items-center justify-center gap-2 ${o.pronSim===T?"bg-white shadow-sm text-neutral-900":"text-neutral-500 hover:text-neutral-800"}`,children:T.charAt(0).toUpperCase()+T.slice(1)},T))})]})]}),s.jsxs("div",{className:"md:col-span-2 space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Definition / Meaning"}),s.jsx("input",{type:"text",value:o.meaningVi,onChange:T=>f("meaningVi",T.target.value),className:"w-full px-4 py-3 bg-white border border-neutral-200 rounded-xl text-base font-medium focus:ring-2 focus:ring-neutral-900 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2 space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Examples"}),s.jsx("textarea",{rows:5,value:o.example,onChange:T=>f("example",T.target.value),className:"w-full px-4 py-3 bg-white border border-neutral-200 rounded-xl text-sm leading-relaxed resize-y focus:ring-2 focus:ring-neutral-900 outline-none"})]})]}),N==="DETAILS"&&s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest",children:"Flags"}),s.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-white border border-neutral-200 rounded-2xl",children:[{id:"isIdiom",label:"Idiom",icon:Si},{id:"isCollocation",label:"Colloc.",icon:bi},{id:"isStandardPhrase",label:"Phrase",icon:Xr},{id:"isPhrasalVerb",label:"Phrasal",icon:Yu},{id:"isIrregular",label:"Irregular",icon:Xu},{id:"needsPronunciationFocus",label:"Pronunciation",icon:vs},{id:"isPassive",label:"Archive",icon:o.isPassive?Ry:ab}].map(T=>s.jsxs("button",{type:"button",onClick:()=>d(T.id),className:`flex items-center space-x-1.5 py-1.5 px-3 rounded-lg border transition-all font-bold text-[9px] uppercase tracking-wider ${o[T.id]?"bg-neutral-900 border-neutral-900 text-white shadow-sm":"bg-white border-neutral-200 text-neutral-500 hover:border-neutral-300"}`,children:[s.jsx(T.icon,{size:10}),s.jsx("span",{children:T.label})]},T.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[o.isIrregular&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-orange-500 uppercase tracking-widest px-1",children:"Irregular Forms (V2, V3)"}),s.jsx("input",{type:"text",value:o.v2v3,onChange:T=>f("v2v3",T.target.value),className:"w-full px-4 py-3 bg-orange-50 border border-orange-200 rounded-xl text-sm text-orange-900 focus:ring-1 focus:ring-orange-500 outline-none"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest px-1 flex items-center",children:[s.jsx(nh,{size:10,className:"mr-1"}),"System Tags"]}),s.jsx("input",{type:"text",value:o.tagsString,onChange:T=>f("tagsString",T.target.value),placeholder:"tag1, tag2...",className:"w-full px-4 py-3 bg-white border border-neutral-200 rounded-xl text-sm focus:ring-1 focus:ring-neutral-900 outline-none"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest px-1 flex items-center",children:[s.jsx(sh,{size:10,className:"mr-1"}),"User Groups"]}),s.jsx("input",{type:"text",value:o.groupsString,onChange:T=>f("groupsString",T.target.value),placeholder:"bird_species, env_academic...",className:"w-full px-4 py-3 bg-white border border-neutral-200 rounded-xl text-sm focus:ring-1 focus:ring-neutral-900 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2 space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Register"}),s.jsx("div",{className:"flex bg-neutral-100 p-1 rounded-xl w-fit",children:["raw","neutral","academic","casual"].map(T=>s.jsx("button",{type:"button",onClick:()=>f("register",T),className:`px-4 py-2 text-xs font-black rounded-lg transition-all flex items-center gap-2 ${o.register===T||!o.register&&T==="raw"?"bg-white shadow-sm text-neutral-900":"text-neutral-500 hover:text-neutral-800"}`,children:T.charAt(0).toUpperCase()+T.slice(1)},T))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest px-1 flex items-center",children:[s.jsx(qu,{size:10,className:"mr-1"})," Prepositions / Patterns"]}),s.jsxs("div",{className:"space-y-2 p-3 bg-white border border-neutral-200 rounded-2xl",children:[o.prepositionsList.map((T,K)=>s.jsxs("div",{className:`flex items-center gap-2 transition-opacity ${T.isIgnored?"opacity-40":""}`,children:[s.jsx("input",{type:"text",value:T.prep,onChange:U=>x.update(K,{prep:U.target.value}),placeholder:"Prep",className:"w-24 px-3 py-2 bg-neutral-50 border border-neutral-200 rounded-lg text-xs font-bold focus:bg-white focus:ring-1 focus:ring-neutral-900 outline-none"}),s.jsx("input",{type:"text",value:T.usage,onChange:U=>x.update(K,{usage:U.target.value}),placeholder:"Usage Context",className:"flex-1 px-3 py-2 bg-neutral-50 border border-neutral-200 rounded-lg text-xs font-medium focus:bg-white focus:ring-1 focus:ring-neutral-900 outline-none"}),s.jsx("button",{type:"button",onClick:()=>x.toggleIgnore(K),className:"p-2 text-neutral-400 hover:text-neutral-700 rounded-lg hover:bg-neutral-100",children:T.isIgnored?s.jsx(Iu,{size:14}):s.jsx(vi,{size:14})}),s.jsx("button",{type:"button",onClick:()=>x.remove(K),className:"p-2 text-neutral-400 hover:text-red-500 rounded-lg hover:bg-red-50",children:s.jsx(vt,{size:14})})]},K)),s.jsxs("button",{type:"button",onClick:()=>x.add({prep:"",usage:"",isIgnored:!1}),className:"w-full text-center py-2 bg-neutral-50 hover:bg-neutral-100 text-neutral-400 hover:text-neutral-700 rounded-lg text-xs font-bold transition-colors flex items-center justify-center gap-1.5 border border-neutral-200 shadow-sm",children:[s.jsx(mn,{size:12})," Add Pattern"]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest px-1 flex items-center",children:[s.jsx(eb,{size:10,className:"mr-1"})," Private Note"]}),s.jsx("textarea",{rows:3,value:o.note,onChange:T=>f("note",T.target.value),className:"w-full px-4 py-3 bg-white border border-neutral-200 rounded-xl text-sm text-neutral-600 resize-y focus:ring-1 focus:ring-neutral-900 outline-none"})]})]}),N==="CONNECTIONS"&&s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.jsx(ds,{title:"Collocations",items:o.collocationsArray,onUpdate:(T,K,U)=>g.update(T,{[K]:U}),onToggleIgnore:g.toggleIgnore,onRemove:g.remove,onAdd:()=>g.add({text:"",d:"",isIgnored:!1}),placeholders:{text:"Collocation phrase...",d:"Descriptive hint..."},showDescription:!0}),s.jsx(ds,{title:"Related Idioms",items:o.idiomsList,onUpdate:(T,K,U)=>h.update(T,{[K]:U}),onToggleIgnore:h.toggleIgnore,onRemove:h.remove,onAdd:()=>h.add({text:"",d:"",isIgnored:!1}),placeholders:{text:"Idiom or phrase...",d:"Descriptive hint..."},showDescription:!0}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest",children:"Word Family"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ds,{title:"Nouns",items:(((D=o.wordFamily)==null?void 0:D.nouns)||[]).map(T=>({text:T.word,ipa:T.ipa,isIgnored:T.isIgnored})),onUpdate:(T,K,U)=>{(K==="text"||K==="ipa")&&m("nouns").update(T,K==="text"?"word":K,U)},onToggleIgnore:m("nouns").toggleIgnore,onRemove:m("nouns").remove,onAdd:m("nouns").add,placeholders:{text:"Noun form...",ipa:"/ipa/"},showIpa:!0}),s.jsx(ds,{title:"Verbs",items:(((F=o.wordFamily)==null?void 0:F.verbs)||[]).map(T=>({text:T.word,ipa:T.ipa,isIgnored:T.isIgnored})),onUpdate:(T,K,U)=>{(K==="text"||K==="ipa")&&m("verbs").update(T,K==="text"?"word":K,U)},onToggleIgnore:m("verbs").toggleIgnore,onRemove:m("verbs").remove,onAdd:m("verbs").add,placeholders:{text:"Verb form...",ipa:"/ipa/"},showIpa:!0}),s.jsx(ds,{title:"Adjectives",items:(((W=o.wordFamily)==null?void 0:W.adjs)||[]).map(T=>({text:T.word,ipa:T.ipa,isIgnored:T.isIgnored})),onUpdate:(T,K,U)=>{(K==="text"||K==="ipa")&&m("adjs").update(T,K==="text"?"word":K,U)},onToggleIgnore:m("adjs").toggleIgnore,onRemove:m("adjs").remove,onAdd:m("adjs").add,placeholders:{text:"Adjective form...",ipa:"/ipa/"},showIpa:!0}),s.jsx(ds,{title:"Adverbs",items:(((P=o.wordFamily)==null?void 0:P.advs)||[]).map(T=>({text:T.word,ipa:T.ipa,isIgnored:T.isIgnored})),onUpdate:(T,K,U)=>{(K==="text"||K==="ipa")&&m("advs").update(T,K==="text"?"word":K,U)},onToggleIgnore:m("advs").toggleIgnore,onRemove:m("advs").remove,onAdd:m("advs").add,placeholders:{text:"Adverb form...",ipa:"/ipa/"},showIpa:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest flex items-center gap-1",children:[s.jsx(xs,{size:10,className:"text-amber-500"})," Word Power & Variations"]}),s.jsxs("div",{className:"space-y-2 p-3 bg-white border border-neutral-200 rounded-2xl",children:[(o.paraphrases||[]).map((T,K)=>s.jsxs("div",{className:`grid grid-cols-[1fr,auto,1fr,auto,auto] items-center gap-2 transition-opacity ${T.isIgnored?"opacity-40":""}`,children:[s.jsx("input",{type:"text",value:T.word,onChange:U=>S.update(K,{word:U.target.value}),placeholder:"Variation...",className:"px-3 py-2 bg-neutral-50 border border-neutral-200 rounded-lg text-xs font-bold focus:bg-white focus:ring-1 focus:ring-neutral-900 outline-none"}),s.jsx("select",{value:T.tone,onChange:U=>S.update(K,{tone:U.target.value}),className:"px-3 py-2 bg-neutral-50 border border-neutral-200 rounded-lg text-xs font-bold focus:bg-white focus:ring-1 focus:ring-neutral-900 outline-none appearance-none",children:X.map(U=>s.jsx("option",{value:U,children:U.charAt(0).toUpperCase()+U.slice(1)},U))}),s.jsx("input",{type:"text",value:T.context,onChange:U=>S.update(K,{context:U.target.value}),placeholder:"Context...",className:"px-3 py-2 bg-neutral-50 border border-neutral-200 rounded-lg text-xs font-medium focus:bg-white focus:ring-1 focus:ring-neutral-900 outline-none"}),s.jsx("button",{type:"button",onClick:()=>S.toggleIgnore(K),className:"p-2 text-neutral-400 hover:text-neutral-700 rounded-lg hover:bg-neutral-100",children:T.isIgnored?s.jsx(Iu,{size:14}):s.jsx(vi,{size:14})}),s.jsx("button",{type:"button",onClick:()=>S.remove(K),className:"p-2 text-neutral-400 hover:text-red-500 rounded-lg hover:bg-red-50",children:s.jsx(vt,{size:14})})]},K)),s.jsxs("button",{type:"button",onClick:()=>S.add({word:"",context:"",tone:"synonym",isIgnored:!1}),className:"w-full text-center py-2 bg-neutral-50 hover:bg-neutral-100 text-neutral-400 hover:text-neutral-700 rounded-lg text-xs font-bold transition-colors flex items-center justify-center gap-1.5 border border-neutral-200 shadow-sm",children:[s.jsx(mn,{size:12})," Add Variation"]})]})]})]})]})})]})})};async function Y1(l){if(navigator.clipboard&&navigator.clipboard.writeText)try{return await navigator.clipboard.writeText(l),!0}catch{console.warn("Clipboard API failed, trying fallback strategy")}try{const c=document.createElement("textarea");c.value=l,c.style.position="fixed",c.style.left="-9999px",c.style.top="0",document.body.appendChild(c),c.focus(),c.select();const u=document.execCommand("copy");return document.body.removeChild(c),u}catch(c){return console.error("Copy failed",c),!1}}const X1=l=>l?l.split(/[;\n\r\t,]+/).map(c=>c.trim()).filter(Boolean):[],w2=l=>{const c=new Map;return l&&X1(l).forEach(o=>{const f=o.split(":").map(x=>x.trim()),d=f[0],m=f.length>1?f[1]:f[0];if(d&&m){const x=d.toLowerCase(),g=m.toLowerCase();c.set(x,g),c.has(g)||c.set(g,g)}}),c},N2=l=>{const c=Array.from(l.keys()).sort((o,f)=>f.length-o.length);if(c.length===0)return null;const u=c.map(o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));return new RegExp(`\\b(${u.join("|")})\\b`,"gi")},Im=({isOpen:l,onClose:c,type:u,title:o,description:f,initialData:d,onGeneratePrompt:m,onJsonReceived:x,actionLabel:g="Apply",hidePrimaryInput:h=!1,closeOnSuccess:S=!1})=>{const[y,w]=_.useState(""),[j,O]=_.useState(""),[N,L]=_.useState(""),[I,Q]=_.useState(""),[B,X]=_.useState("CASUAL"),[D,F]=_.useState(""),[W,P]=_.useState(Mu.VARIETY),[T,K]=_.useState(""),[U,G]=_.useState(""),[ne,se]=_.useState("English"),[fe,E]=_.useState("friendly_elementary"),[ee,oe]=_.useState(""),[pe,de]=_.useState(null),[b,C]=_.useState(!1),[M,$]=_.useState(!1),[re,V]=_.useState(!1),[Z,le]=_.useState(""),te=_.useRef(null),xe=_.useRef(void 0);if(_.useEffect(()=>{if(l&&!xe.current){if(w(""),O(""),L(""),Q(""),X("CASUAL"),F(""),P(Mu.VARIETY),u==="REFINE_WORDS"&&(d!=null&&d.words)){const R=d.words.replace(/\n/g,"; ");w(R)}else u==="GENERATE_LESSON"&&(K(""),G((d==null?void 0:d.targetAudience)||""),se((d==null?void 0:d.language)||"English"),E((d==null?void 0:d.tone)||"friendly_elementary"));oe(""),de(null),V(!1),C(!1),$(!1)}xe.current=l},[l,u,d]),_.useEffect(()=>{let R={};u==="REFINE_WORDS"?R={words:h?d==null?void 0:d.words:y}:u==="REFINE_UNIT"?R={request:j}:u==="GENERATE_CHAPTER"?R={request:N}:u==="GENERATE_SEGMENT"?R={request:I}:u==="GENERATE_PARAPHRASE"?R={tone:B,context:D,mode:W}:u==="EVALUATE_PARAPHRASE"?R=d:u==="GENERATE_LESSON"?R={topic:T,language:ne,targetAudience:U,tone:fe}:u==="GENERATE_UNIT"&&(R={request:j}),le(m(R))},[u,y,j,N,I,B,D,W,d,h,T,U,ne,fe]),!l)return null;const ce=async()=>{await Y1(Z),V(!0),setTimeout(()=>V(!1),2e3),setTimeout(()=>{var R;return(R=te.current)==null?void 0:R.focus()},100)},me=async()=>{b||!ee.trim()||(de(null),C(!0),setTimeout(async()=>{try{let R=ee.trim();R=R.replace(/^```json\s*/,"").replace(/^```\s*/,"").replace(/\s*```$/,"");let Se;try{Se=JSON.parse(R)}catch{try{R=R.replace(/,\s*([}\]])/g,"$1"),Se=JSON.parse(R)}catch{throw new Error("Cannot read AI response. Please ensure you copied the full code.")}}u==="GENERATE_LESSON"?await x({result:Se,preferences:{language:ne,targetAudience:U,tone:fe}}):await x(Se),S?c():(C(!1),$(!0))}catch(R){console.error(R),C(!1),de(R.message||"Failed to process.")}},50))},be=()=>{$(!1),oe(""),de(null),setTimeout(()=>{var R;return(R=te.current)==null?void 0:R.focus()},50)},Ne=R=>{R.key==="Enter"&&(R.metaKey||R.ctrlKey)&&(R.preventDefault(),me())},ke=()=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Vocabulary List"}),s.jsx("textarea",{value:y,onChange:R=>w(R.target.value),disabled:b||M,className:"w-full h-32 p-4 bg-neutral-50/50 border border-neutral-200 rounded-2xl text-sm font-medium focus:ring-2 focus:ring-neutral-900 outline-none resize-none shadow-inner leading-relaxed transition-all focus:bg-white disabled:opacity-50",placeholder:"word1; word2; word3..."}),s.jsx("p",{className:"text-[9px] text-neutral-400 px-2 text-right",children:"Edit freely. Separated by semicolon (;) or newline."})]}),we=()=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Chapter Requirements"}),s.jsx("textarea",{value:N,onChange:R=>L(R.target.value),disabled:b||M,placeholder:'e.g., "A chapter about Travel and Tourism"',className:"w-full h-32 p-4 bg-neutral-50/50 border border-neutral-200 rounded-2xl text-sm font-medium focus:ring-2 focus:ring-neutral-900 outline-none resize-none shadow-inner transition-all focus:bg-white disabled:opacity-50"})]}),at=()=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Sub-topic Requirements"}),s.jsx("textarea",{value:I,onChange:R=>Q(R.target.value),disabled:b||M,placeholder:'e.g., "A sub-topic about AI Ethics"',className:"w-full h-32 p-4 bg-neutral-50/50 border border-neutral-200 rounded-2xl text-sm font-medium focus:ring-2 focus:ring-neutral-900 outline-none resize-none shadow-inner transition-all focus:bg-white disabled:opacity-50"})]}),St=()=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Your Instructions"}),s.jsx("textarea",{value:j,onChange:R=>O(R.target.value),disabled:b||M,placeholder:'e.g., "Add 5 environment words and make the essay more formal."',className:"w-full h-32 p-4 bg-neutral-50/50 border border-neutral-200 rounded-2xl text-sm font-medium focus:ring-2 focus:ring-neutral-900 outline-none resize-none shadow-inner transition-all focus:bg-white disabled:opacity-50"})]}),rt=()=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Topic or Request"}),s.jsx("input",{value:j,onChange:R=>O(R.target.value),disabled:b||M,placeholder:'e.g., "Trees", "Technology", "The Ocean"',className:"w-full px-4 py-3 bg-neutral-50/50 border border-neutral-200 rounded-xl text-sm font-bold focus:ring-2 focus:ring-neutral-900 outline-none"})]}),nt=()=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Context & Tone"}),s.jsxs("div",{className:`flex flex-col gap-3 p-3 bg-neutral-50 border border-neutral-200 rounded-2xl transition-all focus-within:bg-white focus-within:ring-2 focus-within:ring-neutral-900 focus-within:border-transparent ${b?"opacity-50 pointer-events-none":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[9px] font-bold text-neutral-400 uppercase tracking-wider pl-1",children:"Style"}),s.jsx("div",{className:"flex bg-white shadow-sm border border-neutral-100 p-1 rounded-xl shrink-0",children:["CASUAL","ACADEMIC"].map(R=>s.jsx("button",{onClick:()=>X(R),className:`px-3 py-1 text-[9px] font-black uppercase rounded-lg transition-all ${B===R?"bg-neutral-900 text-white shadow-sm":"text-neutral-400 hover:text-neutral-600"}`,children:R},R))})]}),s.jsx("textarea",{rows:3,value:D,onChange:R=>F(R.target.value),placeholder:"Describe the context (e.g., 'Writing to a professor about a missed deadline')...",className:"w-full bg-transparent border-none text-xs font-bold placeholder:text-neutral-300 focus:ring-0 outline-none resize-none leading-relaxed"})]})]}),jt=()=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest px-1",children:"Your Draft (Read-Only)"}),s.jsx("div",{className:"p-4 bg-neutral-50 border border-neutral-200 rounded-2xl max-h-32 overflow-y-auto",children:s.jsx("p",{className:"text-xs font-medium text-neutral-600 leading-relaxed whitespace-pre-wrap",children:(d==null?void 0:d.draft)||"No draft content found."})}),s.jsx("p",{className:"text-[9px] text-neutral-400 px-2 italic text-right",children:"This content will be evaluated by AI."})]}),Mt=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest px-1 flex items-center gap-1",children:[s.jsx(Sl,{size:10})," Topic"]}),s.jsx("input",{value:T,onChange:R=>K(R.target.value),placeholder:"e.g. Present Perfect Tense, Space Travel",className:"w-full px-4 py-2 bg-neutral-50/50 border border-neutral-200 rounded-xl text-sm font-bold focus:ring-2 focus:ring-neutral-900 outline-none"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest px-1 flex items-center gap-1",children:[s.jsx(ib,{size:10})," Target Audience"]}),s.jsx("input",{value:U,onChange:R=>G(R.target.value),placeholder:"e.g. IELTS Beginners, Primary Students",className:"w-full px-4 py-2 bg-neutral-50/50 border border-neutral-200 rounded-xl text-sm font-medium focus:ring-2 focus:ring-neutral-900 outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest px-1 flex items-center gap-1",children:[s.jsx(Km,{size:10})," Language"]}),s.jsxs("select",{value:ne,onChange:R=>se(R.target.value),className:"w-full px-4 py-2 bg-white border border-neutral-200 rounded-xl text-xs font-bold focus:ring-2 focus:ring-neutral-900 outline-none appearance-none cursor-pointer",children:[s.jsx("option",{value:"English",children:"English"}),s.jsx("option",{value:"Vietnamese",children:"Vietnamese"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[9px] font-black text-neutral-400 uppercase tracking-widest px-1 flex items-center gap-1",children:[s.jsx(Fy,{size:10})," Persona"]}),s.jsxs("select",{value:fe,onChange:R=>E(R.target.value),className:"w-full px-4 py-2 bg-white border border-neutral-200 rounded-xl text-xs font-bold focus:ring-2 focus:ring-neutral-900 outline-none appearance-none cursor-pointer",children:[s.jsx("option",{value:"friendly_elementary",children:"Friendly Teacher"}),s.jsx("option",{value:"professional_professor",children:"Professional Prof."})]})]})]})]});return s.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-white/10 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[2rem] shadow-2xl flex flex-col overflow-hidden border border-neutral-200 relative ring-4 ring-neutral-100",children:[s.jsx("button",{onClick:c,disabled:b,className:"absolute top-4 right-4 p-2 text-neutral-300 hover:text-neutral-900 hover:bg-neutral-50 rounded-full transition-all z-10 disabled:opacity-0",children:s.jsx(vt,{size:18})}),s.jsxs("div",{className:"p-6 md:p-8 flex flex-col gap-6",children:[s.jsxs("div",{className:"space-y-1 pr-8",children:[s.jsxs("div",{className:"flex items-center gap-2 text-neutral-900",children:[s.jsx("div",{className:"p-1.5 bg-neutral-900 rounded-lg text-white",children:s.jsx(wi,{size:14})}),s.jsx("h3",{className:"font-black text-lg tracking-tight",children:o})]}),s.jsx("p",{className:"text-xs font-medium text-neutral-400 pl-9",children:f})]}),s.jsxs("div",{className:"py-2",children:[!h&&u==="REFINE_WORDS"&&ke(),u==="REFINE_UNIT"&&St(),u==="GENERATE_CHAPTER"&&we(),u==="GENERATE_SEGMENT"&&at(),u==="GENERATE_PARAPHRASE"&&nt(),u==="EVALUATE_PARAPHRASE"&&jt(),u==="GENERATE_LESSON"&&Mt(),u==="GENERATE_UNIT"&&rt()]}),s.jsxs("div",{className:"space-y-3 pt-4 border-t border-neutral-100",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:ce,disabled:b||M,className:`w-full py-3 px-4 rounded-xl font-bold text-xs flex items-center justify-between transition-all group ${re?"bg-green-50 text-green-700 border border-green-200":"bg-neutral-50 text-neutral-600 border border-neutral-200 hover:border-neutral-300 hover:bg-white"} disabled:opacity-50`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-1.5 rounded-md ${re?"bg-green-200 text-green-800":"bg-white text-neutral-400 shadow-sm"}`,children:re?s.jsx(Jn,{size:14}):s.jsx(Dy,{size:14})}),s.jsx("span",{className:"uppercase tracking-widest text-[10px]",children:re?"Command Copied":"Step 1: Copy Command"})]}),!re&&s.jsx("span",{className:"text-[10px] text-neutral-400 opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to copy"})]}),!b&&!M&&s.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-[9px] text-neutral-400 font-medium",children:[s.jsx(Xy,{size:10}),s.jsxs("span",{children:["Tip: Use a ",s.jsx("strong",{children:"temporary chat"})," to keep your AI history clean."]})]})]}),s.jsxs("div",{className:`relative flex items-start gap-2 p-1.5 rounded-2xl border-2 transition-all ${pe?"border-red-100 bg-red-50/30":M?"border-green-200 bg-green-50":"border-neutral-100 bg-white focus-within:border-neutral-900 focus-within:shadow-md"}`,children:[s.jsx("div",{className:"pl-3 py-3 shrink-0",children:M?s.jsx(Jn,{size:18,className:"text-green-600"}):s.jsx(My,{size:18,className:pe?"text-red-400":"text-neutral-400"})}),s.jsx("textarea",{ref:te,value:M?"Data applied! Click '+' to add more.":ee,onChange:R=>{oe(R.target.value),de(null)},onKeyDown:Ne,disabled:b||M,placeholder:b?"Processing data...":"Step 2: Paste AI response (or next part)...",className:`w-full bg-transparent border-none text-xs font-medium placeholder:text-neutral-400 focus:ring-0 outline-none resize-none min-h-[70px] p-2 ${M?"text-green-700 font-bold":"text-neutral-800"}`,rows:3,autoComplete:"off"}),M?s.jsx("button",{onClick:be,className:"p-2.5 rounded-xl transition-all shadow-md active:scale-90 flex items-center justify-center w-10 h-10 self-end bg-green-500 text-white hover:bg-green-600",title:"Add more data",children:s.jsx(mn,{size:16})}):s.jsx("button",{onClick:me,disabled:!ee.trim()||b,className:"p-2.5 rounded-xl transition-all shadow-md active:scale-90 flex items-center justify-center w-10 h-10 self-end bg-neutral-900 text-white hover:bg-neutral-800 disabled:opacity-20 disabled:scale-95",title:"Process (Cmd/Ctrl + Enter)",children:b?s.jsx(na,{size:16,className:"animate-spin"}):s.jsx(By,{size:16})})]}),pe?s.jsxs("div",{className:"flex items-center gap-2 px-2 text-red-500 animate-in slide-in-from-top-1",children:[s.jsx(Ha,{size:12}),s.jsx("span",{className:"text-[10px] font-bold",children:pe})]}):s.jsxs("div",{className:"flex items-center justify-end gap-1.5 text-[9px] text-neutral-400 font-medium px-2",children:[s.jsx("span",{children:"Press"}),s.jsx("kbd",{className:"px-1.5 py-0.5 text-[8px] font-sans font-bold text-neutral-500 bg-neutral-100 border border-neutral-200 rounded",children:"Cmd/Ctrl"}),"+",s.jsx("kbd",{className:"px-1.5 py-0.5 text-[8px] font-sans font-bold text-neutral-500 bg-neutral-100 border border-neutral-200 rounded",children:"Enter"}),s.jsx("span",{children:"to process"})]})]})]})]})})},Gr=({title:l,icon:c,suggestions:u})=>!u||u.length===0?null:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-xs font-black uppercase tracking-widest text-neutral-500 flex items-center gap-2 border-b border-neutral-200 pb-2",children:[c,l]}),s.jsx("ul",{className:"space-y-3",children:u.map((o,f)=>s.jsxs("li",{className:"flex items-start gap-3",children:[o.suggestion==="learn"?s.jsx(Jn,{size:16,className:"text-green-500 shrink-0 mt-0.5"}):s.jsx(Zm,{size:16,className:"text-neutral-400 shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:`font-bold text-sm ${o.suggestion==="ignore"?"text-neutral-500":"text-neutral-900"}`,children:o.item}),s.jsxs("p",{className:"text-xs text-neutral-600 italic",children:['"',o.reason,'"']})]})]},f))})]}),W1=({isOpen:l,onClose:c,suggestions:u})=>!l||!u?null:s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[2.5rem] shadow-2xl border border-neutral-200 flex flex-col max-h-[90vh]",children:[s.jsxs("header",{className:"px-8 py-6 border-b border-neutral-100 flex justify-between items-start shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-black text-neutral-900 flex items-center gap-2",children:[s.jsx($r,{size:20,className:"text-amber-500"})," Learning Suggestions"]}),s.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:u.overall_summary})]}),s.jsx("button",{type:"button",onClick:c,className:"p-2 -mr-2 text-neutral-400 hover:bg-neutral-100 rounded-full",children:s.jsx(vt,{size:20})})]}),s.jsxs("main",{className:"p-8 overflow-y-auto space-y-6",children:[s.jsx(Gr,{title:"Word Family",icon:s.jsx(Sl,{size:14}),suggestions:u.wordFamily}),s.jsx(Gr,{title:"Collocations",icon:s.jsx(bi,{size:14}),suggestions:u.collocations}),s.jsx(Gr,{title:"Idioms",icon:s.jsx(Si,{size:14}),suggestions:u.idioms}),s.jsx(Gr,{title:"Paraphrases (Word Power)",icon:s.jsx(xs,{size:14}),suggestions:u.paraphrases})]})]})});function Mm(l,c){var u,o,f;switch(c.type){case"REINITIALIZE":const d=c.payload;return{...d,register:d.register||"raw",tagsString:((u=d.tags)==null?void 0:u.join(", "))||"",groupsString:((o=d.groups)==null?void 0:o.join(", "))||"",v2v3:[d.v2,d.v3].filter(Boolean).join(", "),studiedStatus:d.lastReview&&d.lastGrade||"NEW",collocationsArray:d.collocationsArray||(d.collocations?d.collocations.split(`
`).map(h=>({text:h.trim(),isIgnored:!1})):[]),idiomsList:d.idiomsList||(d.idioms?d.idioms.split(`
`).map(h=>({text:h.trim(),isIgnored:!1})):[]),prepositionsList:d.prepositions||[],wordFamily:d.wordFamily||{nouns:[],verbs:[],adjs:[],advs:[]},paraphrases:d.paraphrases||[]};case"SET_FIELD":return{...l,[c.payload.field]:c.payload.value};case"SET_FLAG":const{flag:m}=c.payload,x={...l,[m]:!l[m]};return["isIdiom","isPhrasalVerb","isCollocation","isStandardPhrase"].includes(m)&&x[m]&&(m!=="isIdiom"&&(x.isIdiom=!1),m!=="isPhrasalVerb"&&(x.isPhrasalVerb=!1),m!=="isCollocation"&&(x.isCollocation=!1),m!=="isStandardPhrase"&&(x.isStandardPhrase=!1)),x;case"SET_LIST_ITEM":return{...l,[c.payload.list]:c.payload.data};case"APPLY_AI_MERGE":const g=Q1(l,c.payload);return{...l,...g,register:g.register,tagsString:((f=g.tags)==null?void 0:f.join(", "))||"",v2v3:[g.v2,g.v3].filter(Boolean).join(", "),prepositionsList:g.prepositions||[]};default:return l}}const eg=({word:l,user:c,onSave:u,onClose:o,onSwitchToView:f})=>{const{showToast:d}=el(),[m,x]=_.useReducer(Mm,l,G=>Mm({},{type:"REINITIALIZE",payload:G})),[g,h]=_.useState(!1),[S,y]=_.useState(null),[w,j]=_.useState(!1),[O,N]=_.useState(!1);_.useEffect(()=>{x({type:"REINITIALIZE",payload:l}),y(null)},[l]);const L=G=>H1(G.words.split(/[,\n]+/).map(ne=>ne.trim()).filter(Boolean),c.nativeLanguage||"Vietnamese"),I=G=>{const ne=Array.isArray(G)?G[0]:G;ne&&(x({type:"APPLY_AI_MERGE",payload:ne}),h(!1))},Q=()=>{S?j(!0):N(!0)},B=G=>G1(m,c),X=G=>{G&&G.overall_summary?(y(G),N(!1),j(!0)):d("Invalid suggestion format from AI.","error")},D=G=>{G&&G.preventDefault();const{tagsString:ne,groupsString:se,v2v3:fe,studiedStatus:E,collocationsArray:ee,idiomsList:oe,prepositionsList:pe,...de}=m;let b=de.wordFamily;if(b){const ce={};let me=!1;["nouns","verbs","adjs","advs"].forEach(be=>{var ke;const Ne=((ke=b[be])==null?void 0:ke.filter(we=>we.word.trim()))||[];Ne.length>0&&(ce[be]=Ne,me=!0)}),b=me?ce:void 0}const C=fe.split(/[,\s]+/).filter(Boolean);let M={...de,v2:C[0]||"",v3:C[1]||"",wordFamily:b,prepositions:pe.filter(ce=>ce.prep.trim()).length>0?pe.filter(ce=>ce.prep.trim()):void 0,collocationsArray:ee.filter(ce=>ce.text.trim()),collocations:ee.filter(ce=>ce.text.trim()).map(ce=>ce.text).join(`
`),idiomsList:oe.filter(ce=>ce.text.trim()),idioms:oe.filter(ce=>ce.text.trim()).map(ce=>ce.text).join(`
`),tags:ne.split(",").map(ce=>ce.trim()).filter(Boolean),groups:se.split(",").map(ce=>ce.trim()).filter(Boolean),updatedAt:Date.now()};const $={...M.lastTestResults||{}},re=new Set((M.collocationsArray||[]).filter(ce=>!ce.isIgnored).map(ce=>ce.text.toLowerCase())),V=new Set((M.idiomsList||[]).filter(ce=>!ce.isIgnored).map(ce=>ce.text.toLowerCase())),Z=new Set((M.prepositions||[]).filter(ce=>!ce.isIgnored).map(ce=>ce.prep.toLowerCase())),le=new Set((M.paraphrases||[]).filter(ce=>!ce.isIgnored).map(ce=>ce.word.toLowerCase())),te=new Set;M.wordFamily&&["nouns","verbs","adjs","advs"].forEach(ce=>{(M.wordFamily[ce]||[]).forEach(me=>{!me.isIgnored&&me.word.trim()&&te.add(me.word.trim().toLowerCase())})});for(const ce in $){const me=ce.split(":"),be=me[0],Ne=me.slice(1).join(":").toLowerCase();let ke=!1;switch(be){case"COLLOCATION_QUIZ":re.has(Ne)||(ke=!0);break;case"IDIOM_QUIZ":V.has(Ne)||(ke=!0);break;case"PREPOSITION_QUIZ":Z.has(Ne)||(ke=!0);break;case"PARAPHRASE_QUIZ":le.has(Ne)||(ke=!0);break;case"WORD_FAMILY":te.has(Ne)||(ke=!0);break}ke&&delete $[ce]}M.lastTestResults=$;const xe=l.lastReview&&l.lastGrade||"NEW";E!==xe?E==="NEW"?M=Hh(M):M=gi(M,E):(M.complexity=Qa(M),M.masteryScore=Ot(M),M.gameEligibility=qa(M)),u(M),d("Word saved successfully!","success")},F=G=>{const ne=m[G]||[];return{update:(se,fe)=>x({type:"SET_LIST_ITEM",payload:{list:G,data:[...ne].map((E,ee)=>ee===se?{...E,...fe}:E)}}),toggleIgnore:se=>x({type:"SET_LIST_ITEM",payload:{list:G,data:[...ne].map((fe,E)=>E===se?{...fe,isIgnored:!fe.isIgnored}:fe)}}),remove:se=>x({type:"SET_LIST_ITEM",payload:{list:G,data:ne.filter((fe,E)=>E!==se)}}),add:se=>x({type:"SET_LIST_ITEM",payload:{list:G,data:[...ne,se]}})}},W=G=>{const ne=m.wordFamily||{nouns:[],verbs:[],adjs:[],advs:[]},se=fe=>x({type:"SET_LIST_ITEM",payload:{list:"wordFamily",data:{...ne,...fe}}});return{update:(fe,E,ee)=>{const oe=[...ne[G]||[]];oe[fe]={...oe[fe],[E]:ee},se({[G]:oe})},toggleIgnore:fe=>{const E=[...ne[G]||[]];E[fe]={...E[fe],isIgnored:!E[fe].isIgnored},se({[G]:E})},remove:fe=>{se({[G]:(ne[G]||[]).filter((E,ee)=>ee!==fe)})},add:()=>{const fe={word:"",ipa:"",isIgnored:G==="advs"};se({[G]:[...ne[G]||[],fe]})}}},P=F("prepositionsList"),T=F("collocationsArray"),K=F("idiomsList"),U=F("paraphrases");return s.jsxs(s.Fragment,{children:[s.jsx(Z1,{onClose:o,onSwitchToView:()=>f(l),formData:m,setFormData:(G,ne)=>x({type:"SET_FIELD",payload:{field:G,value:ne}}),setFlag:G=>x({type:"SET_FLAG",payload:{flag:G}}),familyHandler:W,prepList:P,collocList:T,idiomList:K,paraList:U,handleSubmit:D,onOpenAiRefine:()=>h(!0),onSuggestLearn:Q,hasSuggestions:!!S}),s.jsx(W1,{isOpen:w,onClose:()=>j(!1),suggestions:S}),g&&s.jsx(Im,{isOpen:g,onClose:()=>h(!1),type:"REFINE_WORDS",title:"Manual AI Refinement",description:`Refining details for "${m.word}"`,initialData:{words:m.word},user:c,onGeneratePrompt:L,onJsonReceived:I,actionLabel:"Apply to Word",hidePrimaryInput:!0}),O&&s.jsx(Im,{isOpen:O,onClose:()=>N(!1),type:"REFINE_WORDS",title:"Get Learning Suggestions",description:"AI will suggest what to focus on based on your profile.",initialData:{words:l.word},user:c,onGeneratePrompt:B,onJsonReceived:X,hidePrimaryInput:!0})]})},K1=1500;let yl=[],mi=null,Bu=!1,bl=null;const j2=()=>{bl=null,console.log("[Audio] Connection cache cleared.")},tg=async l=>{if(l)return bl=l.replace(/\/$/,""),bl;if(bl)return bl;const c=La();return bl=Ei(c),bl};function F1(){if(typeof window>"u"||!window.speechSynthesis)return;const l=()=>{const c=window.speechSynthesis.getVoices();c&&c.length>0&&(yl=Array.from(c))};l(),window.speechSynthesis.onvoiceschanged!==void 0&&(window.speechSynthesis.onvoiceschanged=l)}F1();const E2=()=>new Promise(l=>{const c=window.speechSynthesis.getVoices();if(c.length>0)yl=Array.from(c),l(yl);else{const u=()=>{const o=window.speechSynthesis.getVoices();o.length>0&&(yl=Array.from(o),l(yl),window.speechSynthesis.onvoiceschanged=null)};window.speechSynthesis.onvoiceschanged=u,setTimeout(()=>{const o=window.speechSynthesis.getVoices();yl=Array.from(o),l(yl)},1e3)}}),A2=async l=>{try{const u=`${await tg(l)}/voices`,o=await fetch(u,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(2e3)});if(!o.ok)throw new Error(`HTTP ${o.status}`);return await o.json()}catch(c){return console.warn(`[Audio] Failed to fetch voices from ${l||"config"}:`,c.message),null}},pn=l=>{Bu=l,window.dispatchEvent(new CustomEvent("audio-status-changed",{detail:{isSpeaking:Bu}}))},fd=()=>{mi&&(mi.pause(),mi.src="",mi=null),typeof window<"u"&&window.speechSynthesis&&window.speechSynthesis.cancel(),pn(!1)},$1=()=>Bu,J1=async(l,c,u,o,f)=>{fd(),pn(!0);try{const m=`${await tg(f)}/speak`,g=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:l,language:c,accent:u,voice:o}),signal:AbortSignal.timeout(2e4)});if(!g.ok)throw new Error("Server unreachable");const h=g.headers.get("Content-Type");if(h&&h.includes("audio")){const S=await g.blob(),y=URL.createObjectURL(S),w=new Audio(y);return mi=w,new Promise((j,O)=>{w.play().then(()=>{w.onended=()=>{URL.revokeObjectURL(y),pn(!1),j(!0)}}).catch(N=>{URL.revokeObjectURL(y),pn(!1),O(N)})})}else return pn(!1),!0}catch(d){throw pn(!1),d}},P1=(l,c,u="en")=>{if(typeof window>"u"||!window.speechSynthesis)return;fd(),pn(!0);const o=new SpeechSynthesisUtterance(l);o.lang=u==="vi"?"vi-VN":"en-US";const f=window.speechSynthesis.getVoices(),d=c&&f.find(m=>m.name===c)||f.find(m=>m.lang.startsWith(u))||f.find(m=>m.name.includes("Samantha"));d&&(o.voice=d),o.rate=.95,o.onend=()=>pn(!1),o.onerror=()=>pn(!1),window.speechSynthesis.speak(o)},ev=l=>/[]/i.test(l)?"vi":"en",tv=l=>l?l.substring(0,K1).replace(/\*+/g,"").replace(//g,", ").replace(/[^a-zA-Z0-9.,!?%'\-\s\u00C0-\u024F\u1E00-\u1EFF]/g,"").trim():"",Ut=async(l,c=!1,u,o,f)=>{if(typeof window>"u"||!l)return;const d=tv(l);if(!d)return;const m=La(),x=m.audioCoach.activeCoach,g=m.audioCoach.coaches[x],h=Ei(m),S=u||ev(d),y=o!==void 0?o:S==="vi"?g.viVoice:g.enVoice,w=f!==void 0?f:S==="vi"?g.viAccent:g.enAccent;try{await J1(d,S,w,y,h);return}catch{c||P1(d,y,S)}};let ba=null,Hu=[];const av=async()=>{const l=await navigator.mediaDevices.getUserMedia({audio:!0}),c=["audio/webm;codecs=opus","audio/webm","audio/mp4"].find(u=>MediaRecorder.isTypeSupported(u));ba=new MediaRecorder(l,c?{mimeType:c}:void 0),Hu=[],ba.ondataavailable=u=>{u.data.size>0&&Hu.push(u.data)},ba.start()},nv=()=>new Promise(l=>{if(!ba)return l(null);const c=ba.mimeType||"audio/webm";ba.onstop=()=>{const u=new Blob(Hu,{type:c}),o=new FileReader;o.readAsDataURL(u),o.onloadend=()=>{const d=o.result.split(",")[1]||"";l({base64:d,mimeType:c})},ba==null||ba.stream.getTracks().forEach(f=>f.stop()),ba=null},ba.state!=="inactive"?ba.stop():l(null)}),lv=({title:l,type:c,currentStep:u,totalSteps:o,onClose:f,onFinish:d,label:m="Challenge",isQuickFire:x,elapsedTime:g})=>s.jsxs("div",{className:"px-6 py-5 border-b border-neutral-100 flex items-center justify-between bg-neutral-50/50 shrink-0",children:[s.jsx("button",{onClick:f,className:"p-2 -ml-2 text-neutral-400 hover:text-neutral-900 transition-colors",title:x?"Exit to Dashboard":"Close",children:s.jsx(vt,{size:20})}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest",children:[m," ",u," of ",o]}),g&&s.jsxs("div",{className:"flex items-center gap-1 bg-neutral-200/50 px-1.5 py-0.5 rounded-md",children:[s.jsx(Ym,{size:10,className:"text-neutral-500"}),s.jsx("span",{className:"text-[10px] font-mono font-bold text-neutral-600",children:g})]})]}),s.jsx("span",{className:"text-xs font-black text-neutral-900",children:l})]}),s.jsx("button",{onClick:()=>d(x),className:"p-2 -mr-2 text-amber-500 hover:text-amber-700 transition-colors",title:x?"Finish Session & See Results":"Finish & Save",children:s.jsx(Xm,{size:20,className:x?"fill-amber-500":""})})]});class pd{constructor(){this.recognition=null,this.finalTranscript="",this.onResultCallback=null,this.onEndCallback=null,this.initBrowserRecognition()}initBrowserRecognition(){const c=window.SpeechRecognition||window.webkitSpeechRecognition;c&&(this.recognition=new c,this.recognition.continuous=!0,this.recognition.interimResults=!0,this.recognition.lang="en-US",this.recognition.onresult=u=>{let o="",f="";for(let d=u.resultIndex;d<u.results.length;++d)u.results[d].isFinal?f+=u.results[d][0].transcript:o+=u.results[d][0].transcript;this.finalTranscript+=f,this.onResultCallback&&this.onResultCallback(this.finalTranscript,o)},this.recognition.onend=()=>{this.onEndCallback&&this.onEndCallback(this.finalTranscript)},this.recognition.onerror=u=>{console.error("Speech Recognition Error:",u.error),this.stop()})}async start(c,u){if(this.onResultCallback=c,this.onEndCallback=u,this.finalTranscript="",!this.recognition){console.error("Speech Recognition not supported in this browser.");return}try{this.recognition.start()}catch(o){console.error("Speech Recognition start failed:",o)}}stop(){if(this.recognition)try{this.recognition.stop()}catch{}}}const eo=({isListening:l,onClick:c,disabled:u,className:o})=>s.jsx("button",{onClick:c,disabled:u,className:`p-2.5 rounded-xl transition-all shadow-sm flex items-center justify-center
            ${l?"bg-red-500 text-white animate-pulse ring-2 ring-red-200 border-transparent":"bg-white border border-neutral-200 text-neutral-400 hover:text-indigo-600 hover:border-indigo-300"} ${o}`,title:l?"Stop Recording":"Use Voice Input",tabIndex:-1,children:l?s.jsx(Wu,{size:18,fill:"currentColor"}):s.jsx(vs,{size:18})}),to=()=>{const[l,c]=_.useState({});return{validationState:l,clearValidation:m=>{c(x=>{if(!x[m])return x;const g={...x};return delete g[m],g})},getValidationClass:m=>{const x=l[m];return x==="correct"?"!border-green-500 !ring-2 !ring-green-100 !bg-green-50 text-green-900":x==="incorrect"?"!border-red-500 !ring-2 !ring-red-100 !bg-red-50 text-red-900":""},handleSmartChange:(m,x,g)=>{const h=m.target.value;if(h===" ")x(g);else if(h.endsWith("  ")){const S=h.substring(0,h.length-2),y=S.length>0?" ":"";x(S+y+g)}else x(h)},handleValidationKeyDown:(m,x,g)=>{if(m.key==="Escape"){m.preventDefault(),m.stopPropagation();const h=m.currentTarget.value,S=w=>w.trim().toLowerCase().replace(/[^a-z0-9]/g,"");let y=!1;if(Array.isArray(g)){const w=h.split(",").map(S).filter(Boolean);if(w.length===0){c(O=>({...O,[x]:null}));return}const j=new Set(g.map(S));y=w.every(O=>j.has(O))}else{const w=S(h);if(!w){c(j=>({...j,[x]:null}));return}y=S(g)===w}c(w=>({...w,[x]:y?"correct":"incorrect"}))}}}},sv=({group:l,userAnswers:c,results:u,onAnswerChange:o,isFinishing:f,showHint:d,toggleListening:m,listeningId:x,containerRef:g})=>{const{clearValidation:h,handleSmartChange:S,handleValidationKeyDown:y,getValidationClass:w}=to();return s.jsxs("div",{ref:g,className:"flex flex-col animate-in fade-in duration-300",children:[s.jsxs("div",{className:"text-center space-y-2 mb-6",children:[s.jsx("h3",{className:"text-lg font-black text-neutral-900",children:"Preposition Drill"}),s.jsx("p",{className:"text-xs text-neutral-500 font-medium max-w-xs mx-auto",children:"Complete the collocations. Type the missing preposition(s)."})]}),s.jsx("div",{className:"space-y-4",children:l.map(j=>{var W,P;const O=c[j.index]||"",N=u?u[j.index]:null,L=typeof N=="boolean"?N:N&&typeof N=="object"?N.correct:!1,I=N!==null&&!L,Q=j.challenge.example.split("___"),B=(W=Q[0])==null?void 0:W.trim(),X=(P=Q[1])==null?void 0:P.trim(),D=`prep-${j.index}`,F=x===D;return s.jsxs("div",{className:"w-full bg-neutral-50 border-2 border-neutral-100 rounded-2xl p-5 flex flex-wrap items-center justify-center gap-x-2 gap-y-3 shadow-sm transition-all focus-within:border-neutral-300 focus-within:shadow-md focus-within:bg-white",children:[B&&s.jsx("span",{className:"text-lg font-medium text-neutral-600 text-right",children:B}),s.jsxs("div",{className:"relative mx-1 flex items-center gap-2",children:[s.jsx("input",{type:"text",value:O,onChange:T=>{h(D),S(T,K=>o(j.index,K),j.challenge.answer)},onKeyDown:T=>{y(T,D,j.challenge.answer)},disabled:f,className:`h-10 min-w-[80px] max-w-[160px] w-[12ch] text-center text-lg font-bold rounded-lg border-b-2 outline-none transition-colors ${f?L?"bg-green-50 border-green-500 text-green-700":"bg-red-50 border-red-500 text-red-700 decoration-red-500 line-through decoration-2":`bg-white border-neutral-300 text-neutral-900 focus:border-neutral-900 focus:bg-neutral-50 ${w(D)}`}`,placeholder:"?",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off"}),!f&&s.jsx(eo,{isListening:F,onClick:()=>m(D,T=>o(j.index,T)),disabled:f}),(f&&I||d)&&s.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 top-full mt-2 z-10",children:[s.jsxs("div",{className:"bg-neutral-900 text-white text-xs font-bold py-1 px-3 rounded-lg shadow-lg whitespace-nowrap flex items-center gap-1 animate-in zoom-in-95",children:[s.jsx(ps,{size:10,className:"text-green-400"})," ",j.challenge.answer]}),s.jsx("div",{className:"w-2 h-2 bg-neutral-900 rotate-45 absolute left-1/2 -translate-x-1/2 -top-1"})]})]}),X&&s.jsx("span",{className:"text-lg font-medium text-neutral-800 text-left",children:X})]},j.index)})})]})},Eu=({challenge:l,answer:c,onAnswer:u,isFinishing:o,result:f,showHint:d,itemLabel:m,instructionText:x,containerRef:g})=>{const[h,S]=_.useState(l.contexts.map(X=>({...X}))),[y,w]=_.useState(l.items.map(X=>({...X}))),[j,O]=_.useState(null),N=(X,D)=>{const F=new Map(c);if(D===null)F.delete(X);else{for(const[W,P]of F.entries())P===D&&F.delete(W);F.set(X,D)}u(F)};_.useEffect(()=>{const X=l.contexts.map(F=>({...F})),D=l.items.map(F=>({...F}));if(c)for(const[F,W]of c.entries()){const P=X.findIndex(T=>T.id===F);P!==-1&&(X[P].matchId=W)}S(X),w(D)},[c,l]);const L=X=>{o||O(D=>D===X?null:X)},I=X=>{o||!j||(N(X,j),O(null))},Q=f&&typeof f=="object"&&"details"in f?f.details:{},B=()=>{o||u(new Map)};return s.jsxs("div",{ref:g,className:"flex flex-col gap-4 animate-in fade-in duration-300",children:[s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-xs text-neutral-500 font-medium",children:x})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{className:"space-y-3",children:h.map(X=>{var K;const D=o&&Q[X.id]===!0,F=o&&Q[X.id]===!1,W=l.items.find(U=>U.id===X.matchId),P=(K=l.items.find(U=>U.pairId===X.pairId))==null?void 0:K.text;let T="border-neutral-200";return o?(D&&(T="border-green-400 bg-green-50"),F&&(T="border-red-400 bg-red-50")):d?T="border-yellow-400 bg-yellow-50":X.matchId&&(T="border-neutral-400 bg-neutral-50"),s.jsxs("button",{onClick:()=>I(X.id),disabled:o||!j,className:`relative w-full p-3 rounded-xl border-2 text-left transition-all duration-200 ${T} disabled:cursor-not-allowed`,children:[m(X),s.jsx("p",{className:"font-medium text-xs leading-snug text-neutral-600",children:X.text}),X.matchId&&!o&&!d&&s.jsx("p",{className:"font-bold text-xs mt-2 pt-2 border-t border-neutral-200",children:W==null?void 0:W.text}),d&&!o&&s.jsxs("div",{className:"mt-2 pt-2 border-t flex items-center gap-2 text-yellow-700 animate-in fade-in",children:[s.jsx(Jn,{size:14,className:"text-yellow-600"}),s.jsx("p",{className:"font-bold text-xs",children:P})]}),o&&s.jsxs("div",{className:"mt-2 pt-2 border-t flex items-center gap-2",children:[D?s.jsx(Jn,{size:14,className:"text-green-500"}):s.jsx(vt,{size:14,className:"text-red-500"}),s.jsx("p",{className:`font-bold text-xs ${F?"text-red-700":"text-green-700"}`,children:(W==null?void 0:W.text)||"No selection"})]}),o&&F&&s.jsxs("p",{className:"text-[10px] text-green-700 font-bold mt-1",children:["Correct: ",P]})]},X.id)})}),s.jsx("div",{className:"space-y-3",children:y.map(X=>{var P;const D=j===X.id,F=c==null?void 0:c.has(((P=h.find(T=>T.matchId===X.id))==null?void 0:P.id)||"");let W="bg-white border-neutral-200 text-neutral-800 hover:border-neutral-900";return o&&F?W="bg-neutral-100 border-neutral-200 text-neutral-400 opacity-60":D?W="bg-indigo-600 border-indigo-600 text-white ring-4 ring-indigo-100":F&&(W="bg-neutral-100 border-neutral-200 text-neutral-400 opacity-60"),s.jsx("button",{onClick:()=>L(X.id),disabled:o||F,className:`w-full p-3 rounded-xl border-2 text-left transition-all duration-200 disabled:cursor-not-allowed ${W}`,children:s.jsx("p",{className:"font-bold text-sm leading-snug",children:X.text})},X.id)})})]}),c&&c.size>0&&!o&&s.jsx("div",{className:"flex justify-center pt-2",children:s.jsxs("button",{onClick:B,className:"flex items-center gap-1.5 text-xs font-bold text-neutral-500 hover:text-neutral-900 transition-colors",children:[s.jsx(eh,{size:12})," Reset"]})})]})},iv=({challenge:l,onAnswer:c,isFinishing:u,result:o,containerRef:f})=>{const[d,m]=_.useState(!1),[x,g]=_.useState(""),h=_.useRef(null);_.useEffect(()=>{try{h.current=new pd}catch(O){console.error("Speech Recognition not supported",O)}return()=>{var O;(O=h.current)==null||O.stop()}},[]);const S=()=>{h.current&&(g(""),m(!0),h.current.start((O,N)=>g(O+N),O=>{m(!1),c(O)}))},y=()=>{var O;(O=h.current)==null||O.stop()},w=()=>{d?y():S()},j=o===!0;return s.jsxs("div",{ref:f,className:"text-center space-y-8 animate-in fade-in duration-300 flex flex-col items-center",children:[s.jsx("p",{className:"text-sm font-bold text-neutral-500",children:"Press the button and pronounce the word below."}),s.jsx("h2",{className:"text-4xl font-black text-neutral-900 tracking-tight",children:l.word.word}),s.jsx("button",{onClick:w,disabled:u,className:`w-24 h-24 rounded-full flex items-center justify-center shadow-lg transition-all active:scale-95 disabled:opacity-50
                    ${d?"bg-neutral-900 text-white animate-pulse":"bg-red-600 text-white hover:scale-105 shadow-red-500/30"}`,children:d?s.jsx(Wu,{size:32,fill:"white"}):s.jsx(vs,{size:32})}),s.jsx("div",{className:"w-full max-w-sm min-h-[6rem] p-4 bg-neutral-50 border border-neutral-200 rounded-xl text-lg font-medium text-neutral-600 italic",children:x||"..."}),u&&s.jsxs("div",{className:`flex items-center gap-2 font-bold text-lg animate-in fade-in slide-in-from-bottom-2 ${j?"text-green-600":"text-red-600"}`,children:[j?s.jsx(zy,{size:20}):s.jsx(Uy,{size:20}),s.jsx("span",{children:j?"Correct!":`Not quite. The word was "${l.word.word}".`})]})]})},Au=({word:l,title:c,cue:u,options:o,answer:f,selected:d,onAnswer:m,isFinishing:x,showHint:g,containerRef:h})=>s.jsxs("div",{ref:h,className:"text-center space-y-6 animate-in fade-in duration-300 flex flex-col",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-[10px] font-black uppercase text-neutral-400 tracking-widest",children:c}),s.jsx("h2",{className:"text-3xl font-black text-neutral-900",children:l.word}),u&&s.jsx("div",{className:"inline-flex items-center gap-2 bg-neutral-100 px-3 py-1.5 rounded-lg border border-neutral-200 max-w-sm mx-auto mt-2",children:s.jsx("span",{className:"text-xs font-bold text-neutral-700 italic",children:u})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.map((S,y)=>{let w="bg-white border-neutral-200 hover:border-neutral-400 text-neutral-700";return x?S===f?w="bg-green-50 border-green-500 text-green-700 shadow-md ring-1 ring-green-500":S===d&&S!==f?w="bg-red-50 border-red-500 text-red-700 opacity-60":w="bg-neutral-50 border-neutral-100 text-neutral-400 opacity-40":g&&S===f?w="bg-yellow-50 border-yellow-400 text-yellow-800 shadow-md ring-1 ring-yellow-400":d===S&&(w="bg-neutral-900 border-neutral-900 text-white shadow-lg"),s.jsx("button",{disabled:x,onClick:()=>m(S),className:`p-4 rounded-2xl border-2 text-sm font-medium transition-all duration-200 text-left leading-snug active:scale-[0.98] ${w}`,children:S},y)})})]}),Tu=({word:l,title:c,cue:u,contextTag:o,answer:f,userAnswer:d,onAnswer:m,isFinishing:x,result:g,showHint:h,containerRef:S,toggleListening:y,listeningId:w})=>{const{clearValidation:j,handleSmartChange:O,handleValidationKeyDown:N,getValidationClass:L}=to(),I=g===!0,Q=g===!1,B="main",X=w===B;return s.jsxs("div",{ref:S,className:"text-center space-y-8 animate-in fade-in duration-300 flex flex-col items-center",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-[10px] font-black uppercase text-neutral-400 tracking-widest",children:c}),s.jsx("h2",{className:"text-3xl font-black text-neutral-900",children:l.word}),(u||o)&&s.jsxs("div",{className:"inline-flex items-center gap-2 bg-neutral-100 px-3 py-1.5 rounded-lg border border-neutral-200 max-w-sm",children:[o&&s.jsx("span",{className:"text-[9px] font-black uppercase bg-white px-1.5 py-0.5 rounded border border-neutral-200 text-neutral-500",children:o}),u&&s.jsx("span",{className:"text-xs font-bold text-neutral-700 italic",children:u})]})]}),s.jsxs("div",{className:"w-full max-w-md flex flex-col items-center gap-3",children:[s.jsxs("div",{className:"relative w-full",children:[s.jsx("input",{type:"text",autoFocus:!0,value:d||"",onChange:D=>{j(B),O(D,m,l.word)},onKeyDown:D=>{N(D,B,f)},disabled:x,className:`w-full text-center py-4 pl-12 pr-12 rounded-2xl border-2 text-xl font-bold focus:outline-none placeholder:text-neutral-200 transition-colors duration-200 ${x?I?"bg-green-50 border-green-500 text-green-600":"bg-red-50 border-red-500 text-red-600":`bg-neutral-50 border-transparent focus:bg-white focus:border-neutral-900 text-neutral-900 shadow-sm ${L(B)}`}`,placeholder:"Type answer...",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off"}),!x&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(eo,{isListening:X,onClick:()=>y(B,m),disabled:x})})]}),(x&&Q||h)&&s.jsx("div",{className:"text-green-600 font-bold text-lg animate-in slide-in-from-top-2 bg-green-50 px-3 py-1 rounded-lg border border-green-100 inline-block",children:f})]})]})},rv=({word:l,userAnswer:c,onAnswer:u,isFinishing:o,resultDetails:f,showHint:d,containerRef:m,toggleListening:x,listeningId:g})=>{const{clearValidation:h,handleSmartChange:S,handleValidationKeyDown:y,getValidationClass:w}=to(),j=l.wordFamily,O=c||{},N=(L,I)=>{u({...O,[L]:I})};return s.jsxs("div",{ref:m,className:"space-y-6 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"text-center space-y-1",children:[s.jsx("p",{className:"text-[10px] font-black uppercase text-neutral-400 tracking-widest",children:"Word Family"}),s.jsx("h2",{className:"text-3xl font-black text-neutral-900",children:l.word}),s.jsx("p",{className:"text-xs font-bold text-neutral-500",children:"Fill related forms"})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:["nouns","verbs","adjs","advs"].map(L=>{const I=((j==null?void 0:j[L])||[]).filter(P=>!P.isIgnored).map(P=>P.word);if(I.length===0)return null;const Q={nouns:"Noun",verbs:"Verb",adjs:"Adjective",advs:"Adverb"}[L],B=O[L]||"",X=f[L],D=o,F=`fam-${L}`,W=g===F;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"w-20 text-[10px] font-black uppercase text-neutral-400 text-right",children:Q}),s.jsxs("div",{className:"flex-1 relative flex items-center gap-2",children:[s.jsx("input",{type:"text",value:B,onChange:P=>{h(F),S(P,T=>N(L,T),l.word)},onKeyDown:P=>{y(P,F,I)},disabled:o,className:`w-full px-4 py-2 bg-neutral-50 border-2 rounded-xl text-sm font-bold outline-none transition-all ${D?X?"border-green-500 bg-green-50 text-green-800":"border-red-500 bg-red-50 text-red-800":`border-neutral-100 focus:border-neutral-900 focus:bg-white ${w(F)}`}`,placeholder:"..."}),!o&&s.jsx(eo,{isListening:W,onClick:()=>x(F,P=>N(L,P)),disabled:o}),(D&&!X||d)&&s.jsx("div",{className:"text-[10px] font-bold text-green-600 mt-1 pl-1",children:((j==null?void 0:j[L])||[]).filter(P=>!P.isIgnored).map(P=>P.word).join(", ")})]})]},L)})})]})},ov=({word:l,original:c,shuffled:u,userAnswer:o,onAnswer:f,isFinishing:d,isCorrect:m,showHint:x,containerRef:g})=>{const h=o||[],S=new Set;h.forEach(j=>{const O=u.findIndex((N,L)=>N===j&&!S.has(L));O!==-1&&S.add(O)});const y=j=>{d||f([...h,j])},w=j=>{if(d)return;const O=[...h];O.splice(j,1),f(O)};return s.jsxs("div",{ref:g,className:"flex flex-col space-y-6 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"text-center space-y-1",children:[s.jsx("p",{className:"text-[10px] font-black uppercase text-neutral-400 tracking-widest",children:"Sentence Builder"}),s.jsxs("p",{className:"text-xs text-neutral-500 font-medium",children:['Reconstruct the example sentence for "',l.word,'".']})]}),s.jsxs("div",{className:`min-h-[120px] p-6 rounded-[2rem] border-2 border-dashed flex flex-wrap gap-2 items-center justify-center transition-all ${d?m?"bg-green-50 border-green-200":"bg-red-50 border-red-200":"bg-neutral-50 border-neutral-200"}`,children:[h.length===0&&!d&&s.jsx("span",{className:"text-sm font-bold text-neutral-300 italic",children:"Click words below to build sentence..."}),h.map((j,O)=>s.jsxs("button",{onClick:()=>w(O),disabled:d,className:`px-3 py-2 rounded-xl text-sm font-bold shadow-sm transition-all active:scale-95 ${d?m?"bg-green-50 text-white":"bg-red-500 text-white":"bg-white text-neutral-900 border border-neutral-100 hover:border-neutral-300"}`,children:[j," ",s.jsx(vt,{size:14,className:"inline-block ml-1"})]},O))]}),(d||x)&&s.jsxs("div",{className:"p-4 bg-yellow-50 rounded-2xl border border-yellow-100 animate-in slide-in-from-top-2",children:[s.jsx("p",{className:"text-xs font-black text-yellow-600 uppercase tracking-widest mb-1",children:"Correct Sentence"}),s.jsx("p",{className:"text-sm font-bold text-yellow-900 leading-relaxed",children:c})]}),s.jsx("div",{className:"flex flex-wrap gap-2 justify-center pt-4",children:u.map((j,O)=>{const N=S.has(O);return s.jsx("button",{onClick:()=>y(j),disabled:N||d,className:`px-4 py-2.5 rounded-xl text-sm font-bold transition-all active:scale-95 ${N?"bg-neutral-100 text-neutral-300 border-transparent cursor-default":"bg-white border-2 border-neutral-100 text-neutral-700 hover:border-neutral-900 hover:text-neutral-900 shadow-sm"}`,children:j},O)})}),!d&&h.length>0&&s.jsxs("button",{onClick:()=>f([]),className:"mx-auto flex items-center space-x-1.5 text-[10px] font-black uppercase text-neutral-400 hover:text-neutral-600 transition-colors",children:[s.jsx(vt,{size:12}),s.jsx("span",{children:"Reset"})]})]})},cv=({word:l,forms:c,ipaOptions:u,userAnswer:o,onAnswer:f,isFinishing:d,result:m,showHint:x,containerRef:g})=>{const h=o||{},S=(y,w)=>{f({...h,[y]:w})};return s.jsxs("div",{ref:g,className:"text-center space-y-6 animate-in fade-in duration-300",children:[s.jsxs("p",{className:"text-sm font-bold text-neutral-500",children:["The word ",s.jsxs("span",{className:"font-black text-neutral-900",children:['"',l.word,'"']})," has different pronunciations. Match the IPA to the part of speech."]}),s.jsx("div",{className:"space-y-6",children:c.map(y=>{const w=h[y.pos];return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-black text-neutral-900 uppercase tracking-widest bg-neutral-100 py-1 rounded-md",children:["As a ",y.pos]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.map(j=>{let O="bg-white border-neutral-200 hover:border-neutral-400 text-neutral-600";return d?j===y.ipa?O="bg-green-50 border-green-500 text-green-700 shadow-md":j===w?O="bg-red-50 border-red-500 text-red-700 opacity-60":O="bg-neutral-50 border-neutral-100 text-neutral-400 opacity-50":w===j&&(O="bg-neutral-900 border-neutral-900 text-white shadow-lg"),s.jsx("button",{disabled:d,onClick:()=>S(y.pos,j),className:`p-3 rounded-xl border-2 font-mono text-base font-medium transition-all duration-200 ${O}`,children:j},j)})})]},y.pos)})}),d&&m===!1&&!x&&s.jsx("div",{className:"text-center text-rose-600 font-bold text-sm",children:"One or more selections were incorrect."})]})},uv=({word:l,userAnswer:c,onAnswer:u,isFinishing:o,result:f,showHint:d,containerRef:m,toggleListening:x,listeningId:g})=>{const{clearValidation:h,handleSmartChange:S,handleValidationKeyDown:y,getValidationClass:w}=to(),j=f===!0,O=f===!1,N="main",L=g===N;return s.jsxs("div",{ref:m,className:"text-center space-y-8 animate-in fade-in duration-300",children:[s.jsx("p",{className:"text-sm font-bold text-neutral-500",children:"Listen carefully and type the word."}),s.jsxs("div",{className:"space-y-6 flex flex-col items-center",children:[s.jsx("button",{onClick:()=>Ut(l.word),className:"p-6 bg-neutral-50 hover:bg-neutral-100 text-neutral-900 rounded-full shadow-sm transition-all active:scale-95",children:s.jsx(va,{size:32})}),s.jsxs("div",{className:"w-full max-w-sm flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"relative w-full",children:[s.jsx("input",{type:"text",autoFocus:!0,value:c||"",onChange:I=>{h(N),S(I,u,l.word)},onKeyDown:I=>{y(I,N,l.word)},disabled:o,className:`w-full text-center py-4 pl-12 pr-12 rounded-2xl border-2 text-3xl font-bold focus:outline-none tracking-[0.1em] placeholder:text-neutral-200 transition-colors duration-200 ${o?j?"bg-green-50 border-green-500 text-green-600":"bg-red-50 border-red-500 text-red-600":`bg-neutral-50 border-transparent focus:bg-white focus:border-neutral-900 text-neutral-900 shadow-sm ${w(N)}`}`,placeholder:"TYPE HERE",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),!o&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(eo,{isListening:L,onClick:()=>x(N,u),disabled:o})})]}),(o&&O||d)&&s.jsx("div",{className:"text-xl font-black text-yellow-500 animate-in fade-in slide-in-from-bottom-2",children:l.word})]})]})]})},dv=({word:l,currentChallenge:c,currentChallengeIndex:u,userAnswers:o,handleAnswerChange:f,results:d,isFinishing:m,currentPrepositionGroup:x,showHint:g,onEnterPress:h})=>{const S=_.useRef(null),[y,w]=_.useState(null),j=_.useRef(null);_.useEffect(()=>{try{j.current=new pd}catch{}return()=>{var N;(N=j.current)==null||N.stop()}},[]),_.useEffect(()=>{var N;(N=j.current)==null||N.stop(),w(null)},[u,x]);const O=(N,L)=>{j.current&&(y===N?(j.current.stop(),w(null)):(y&&j.current.stop(),L(""),w(N),j.current.start((I,Q)=>{const B=I+(Q?(I?" ":"")+Q:"");L(B)},I=>{const Q=I.trim().replace(/[.]/g,"");L(Q),w(null)})))};if(_.useEffect(()=>{const N=()=>{var Q,B;const I=(Q=S.current)==null?void 0:Q.querySelector('input[type="text"]:not([disabled]), textarea:not([disabled])');I&&!((B=S.current)!=null&&B.contains(document.activeElement))&&I.focus()};setTimeout(N,50);const L=I=>{var Q;if(!(I.metaKey||I.ctrlKey||I.altKey)){if(I.key==="Enter"){const B=document.activeElement;if(B&&B.tagName==="TEXTAREA"&&I.shiftKey)return;I.preventDefault(),h();return}if(I.key.length===1){const B=document.activeElement;((Q=S.current)==null?void 0:Q.contains(B))||N()}}};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[u,h]),x)return s.jsx(sv,{containerRef:S,group:x.group,userAnswers:o,results:d,onAnswerChange:f,isFinishing:m,showHint:g,toggleListening:O,listeningId:y});switch(c.type){case"PARAPHRASE_CONTEXT_QUIZ":{const N=c;return s.jsx(Eu,{containerRef:S,challenge:{contexts:N.contexts,items:N.paraphrases},answer:o[u],onAnswer:L=>f(u,L),isFinishing:m,result:d?d[u]:null,showHint:g,itemLabel:L=>L.tone&&s.jsx("span",{className:"inline-block text-[9px] font-black uppercase bg-neutral-100 text-neutral-500 px-1.5 py-0.5 rounded border border-neutral-200 mb-1",children:L.tone}),instructionText:"Match each phrase on the right to its correct context on the left."})}case"COLLOCATION_CONTEXT_QUIZ":{const N=c;return s.jsx(Eu,{containerRef:S,challenge:{contexts:N.contexts,items:N.collocations},answer:o[u],onAnswer:L=>f(u,L),isFinishing:m,result:d?d[u]:null,showHint:g,itemLabel:()=>null,instructionText:"Match each collocation on the right to its correct definition/cue."})}case"IDIOM_CONTEXT_QUIZ":{const N=c;return s.jsx(Eu,{containerRef:S,challenge:{contexts:N.contexts,items:N.idioms},answer:o[u],onAnswer:L=>f(u,L),isFinishing:m,result:d?d[u]:null,showHint:g,itemLabel:()=>null,instructionText:"Match each idiom on the right to its correct definition/cue."})}case"COLLOCATION_MULTICHOICE_QUIZ":{const N=c;return s.jsx(Au,{containerRef:S,word:l,title:"Select Collocation",cue:N.cue,options:N.options,answer:N.answer,selected:o[u],onAnswer:L=>f(u,L),isFinishing:m,showHint:g})}case"COLLOCATION_QUIZ":{const N=c,L=d?d[u]:null,I=typeof L=="boolean"?L:L&&typeof L=="object"?L.correct:null;return s.jsx(Tu,{containerRef:S,word:l,title:"Fill Collocation",cue:N.cue,answer:N.answer,userAnswer:o[u],onAnswer:Q=>f(u,Q),isFinishing:m,result:I,showHint:g,toggleListening:O,listeningId:y})}case"IDIOM_QUIZ":{const N=c,L=d?d[u]:null,I=typeof L=="boolean"?L:L&&typeof L=="object"?L.correct:null;return s.jsx(Tu,{containerRef:S,word:l,title:"Fill Idiom",cue:N.cue,answer:N.answer,userAnswer:o[u],onAnswer:Q=>f(u,Q),isFinishing:m,result:I,showHint:g,toggleListening:O,listeningId:y})}case"PRONUNCIATION":return s.jsx(iv,{containerRef:S,challenge:c,onAnswer:N=>f(u,N),isFinishing:m,result:d?d[u]:null});case"HETERONYM_QUIZ":{const N=c,L=d?d[u]:null,I=typeof L=="boolean"?L:null;return s.jsx(cv,{containerRef:S,word:l,forms:N.forms,ipaOptions:N.ipaOptions,userAnswer:o[u],onAnswer:Q=>f(u,Q),isFinishing:m,result:I,showHint:g})}case"SENTENCE_SCRAMBLE":{const N=c,L=d?d[u]:null,I=typeof L=="boolean"?L:null;return s.jsx(ov,{containerRef:S,word:l,original:N.original,shuffled:N.shuffled||[],userAnswer:o[u],onAnswer:Q=>f(u,Q),isFinishing:m,isCorrect:I,showHint:g})}case"SPELLING":{const N=d?d[u]:null,L=typeof N=="boolean"?N:null;return s.jsx(uv,{containerRef:S,word:l,userAnswer:o[u],onAnswer:I=>f(u,I),isFinishing:m,result:L,showHint:g,toggleListening:O,listeningId:y})}case"IPA_QUIZ":{const N=c;return s.jsx(Au,{containerRef:S,word:l,title:"Select Pronunciation",options:N.options,answer:N.answer,selected:o[u],onAnswer:L=>f(u,L),isFinishing:m,showHint:g})}case"MEANING_QUIZ":{const N=c;return s.jsx(Au,{containerRef:S,word:l,title:"Select Definition",options:N.options,answer:N.answer,selected:o[u],onAnswer:L=>f(u,L),isFinishing:m,showHint:g})}case"PARAPHRASE_QUIZ":{const N=c,L=d?d[u]:null,I=typeof L=="boolean"?L:null;return s.jsx(Tu,{containerRef:S,word:l,title:"Fill Paraphrase",contextTag:N.tone,cue:N.context,answer:N.answer,userAnswer:o[u],onAnswer:Q=>f(u,Q),isFinishing:m,result:I,showHint:g,toggleListening:O,listeningId:y})}case"WORD_FAMILY":{const N=d?d[u]:null,L=N&&typeof N=="object"&&"details"in N?N.details:{};return s.jsx(rv,{containerRef:S,word:l,userAnswer:o[u],onAnswer:I=>f(u,I),isFinishing:m,resultDetails:L,showHint:g,toggleListening:O,listeningId:y})}default:return null}},fv=({onBack:l,onNext:c,onIgnore:u,onHint:o,showHint:f,isBackDisabled:d,isNextDisabled:m,isLastChallenge:x,nextLabel:g,disableHints:h})=>{const S=x&&!g;return s.jsxs("div",{className:"p-4 bg-white border-t border-neutral-100 flex items-center justify-between gap-3 shrink-0",children:[s.jsx("button",{onClick:l,disabled:d,className:"p-4 rounded-2xl bg-neutral-50 text-neutral-400 hover:bg-neutral-100 hover:text-neutral-900 disabled:opacity-30 disabled:hover:bg-neutral-50 disabled:hover:text-neutral-400 transition-all",title:"Previous Question",children:s.jsx(Vu,{size:20})}),!x&&!m&&s.jsx("button",{onClick:u,className:"px-4 py-4 rounded-2xl text-neutral-400 hover:text-neutral-600 font-bold text-xs uppercase tracking-wider hover:bg-neutral-50 transition-colors",children:"Ignore"}),!m&&!h&&s.jsx("button",{onClick:o,className:`p-4 rounded-2xl transition-colors ${f?"text-yellow-500 bg-yellow-50 hover:bg-yellow-100":"text-neutral-400 hover:text-yellow-500 hover:bg-neutral-50"}`,title:"Show Hint",children:s.jsx($r,{size:20,className:f?"fill-yellow-500":""})}),s.jsxs("button",{onClick:c,disabled:m,className:"flex-1 py-4 rounded-2xl font-black text-xs uppercase tracking-widest flex items-center justify-center gap-2 shadow-lg transition-all active:scale-95 bg-neutral-900 text-white hover:bg-neutral-800",children:[s.jsx("span",{children:g||(x?"Finish":"Next")}),S?s.jsx(Ga,{size:16}):s.jsx(ps,{size:16})]})]})},Lm=[{id:"core",title:"Core Skills",description:"Essential accuracy",color:"text-blue-700",bg:"bg-blue-50/60",border:"border-blue-100",areas:[{id:"spelling",label:"Spelling",icon:lb,types:["SPELLING"]},{id:"sound",label:"Sound",icon:va,types:["PRONUNCIATION","IPA_QUIZ","HETERONYM_QUIZ"]},{id:"meaning",label:"Meaning",icon:Sl,types:["MEANING_QUIZ"]},{id:"preposition",label:"Prep.",icon:qu,types:["PREPOSITION_QUIZ"]}]},{id:"advanced",title:"Advanced Usage",description:"Fluency & range",color:"text-purple-700",bg:"bg-purple-50/60",border:"border-purple-100",areas:[{id:"family",label:"Word Family",icon:Jm,types:["WORD_FAMILY"]},{id:"collocation",label:"Collocation",icon:bi,types:["COLLOCATION_CONTEXT_QUIZ","COLLOCATION_MULTICHOICE_QUIZ","COLLOCATION_QUIZ"]},{id:"paraphrase",label:"Paraphrase",icon:xs,types:["PARAPHRASE_CONTEXT_QUIZ","PARAPHRASE_QUIZ"]}]},{id:"bonus",title:"Good to Have",description:"Context & Flair",color:"text-amber-700",bg:"bg-amber-50/60",border:"border-amber-100",areas:[{id:"idiom",label:"Idiom",icon:Si,types:["IDIOM_CONTEXT_QUIZ","IDIOM_QUIZ"]},{id:"example",label:"Example",icon:Py,types:["SENTENCE_SCRAMBLE"]}]}],_u={MEANING_QUIZ:"Select",COLLOCATION_CONTEXT_QUIZ:"Match",COLLOCATION_MULTICHOICE_QUIZ:"Multi",COLLOCATION_QUIZ:"Fill",PARAPHRASE_CONTEXT_QUIZ:"Match",PARAPHRASE_QUIZ:"Fill",PREPOSITION_QUIZ:"Fill",IDIOM_QUIZ:"Fill",IDIOM_CONTEXT_QUIZ:"Match",PRONUNCIATION:"Speak",IPA_QUIZ:"IPA",HETERONYM_QUIZ:"Match",SPELLING:"Dictation",SENTENCE_SCRAMBLE:"Build",WORD_FAMILY:"Fill"},pv=[{label:"Dictation",desc:"Listen to the word and type the exact spelling."},{label:"Speak",desc:"Pronounce the word clearly into your microphone."},{label:"IPA",desc:"Identify the correct phonetic transcription."},{label:"Select",desc:"Choose the correct meaning from options."},{label:"Fill",desc:"Type missing parts (Prepositions, Idioms, Families)."},{label:"Match",desc:"Connect related items (Collocations, Idioms, Contexts)."},{label:"Build",desc:"Reorder scrambled words to form a valid sentence."},{label:"Multi",desc:"Multiple choice for collocations."}],mv=(l,c)=>{if(c===0)return{label:"N/A",color:"bg-neutral-50 text-neutral-400 border-neutral-100"};const u=l/c*100;let o="bg-neutral-50 text-neutral-400 border-neutral-100";return u===100?o="bg-green-50 text-green-700 border-green-100":l>0?o="bg-yellow-50 text-yellow-700 border-yellow-100":o="bg-red-50 text-red-600 border-red-100",{label:`${l}/${c}`,color:o}},zm=l=>{switch(l){case"NEW":return"bg-blue-100 text-blue-700 border-blue-200";case"LEARNED":return"bg-cyan-100 text-cyan-700 border-cyan-200";case"EASY":return"bg-green-100 text-green-700 border-green-200";case"HARD":return"bg-orange-100 text-orange-700 border-orange-200";case"FORGOT":return"bg-red-100 text-red-700 border-red-200";default:return"bg-neutral-100 text-neutral-600 border-neutral-200"}},hv=({isModal:l=!0,word:c,onClose:u,isSetupMode:o,isPreparing:f,availableChallenges:d,selectedChallengeTypes:m,onSetSelection:x,onStartTest:g,challengeStats:h,challenges:S,currentChallenge:y,currentChallengeIndex:w,userAnswers:j,handleAnswerChange:O,results:N,isFinishing:L,currentPrepositionGroup:I,isLastChallenge:Q,handleNextClick:B,handleBackClick:X,handleIgnore:D,handleFinishEarly:F,showHint:W,onToggleHint:P,disableHints:T,sessionPosition:K,elapsedTime:U,onSelectQuick:G,onSelectPreferred:ne,onSelectZeroScore:se,onSelectPartialScore:fe,recapData:E,onRecalculateFinish:ee,isMastered:oe})=>{const pe=_.useRef(null),[de,b]=_.useState(!1),[C,M]=_.useState(!1);_.useEffect(()=>{pe.current&&(pe.current.scrollTop=0)},[w,c]);const $=_.useMemo(()=>new Set(d.map(te=>te.type)),[d]),re=(te,xe)=>{const ce=new Set(m);te.forEach(me=>ce.delete(me)),xe!=="none"&&ce.add(xe),x(ce)},V=()=>Lm.flatMap(te=>te.areas),Z=()=>{const te=new Set;V().forEach(xe=>{const ce=xe.types.find(me=>$.has(me));ce&&te.add(ce)}),x(te)};let le;if(E){const te=Math.max(0,E.newMastery-E.oldMastery),xe=Object.values(E.results.reduce((ce,me)=>{if(!ce[me.type]){let be=_u[me.type]||me.type;const Ne=V().find(ke=>ke.types.includes(me.type));Ne&&(be=`${Ne.label} ${_u[me.type]||""}`),ce[me.type]={type:me.type,label:be.trim(),passed:0,total:0}}return ce[me.type].total++,me.passed&&ce[me.type].passed++,ce},{}));le=s.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-500",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-8 text-center space-y-6 custom-scrollbar",children:[s.jsx("div",{className:"inline-flex p-4 bg-green-50 rounded-full text-green-600 mb-2 shadow-inner",children:s.jsx(Ga,{size:48})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-3xl font-black text-neutral-900 tracking-tight",children:"Session Complete!"}),s.jsx("p",{className:"text-sm text-neutral-500 font-medium",children:"Here's how you improved."})]}),s.jsxs("div",{className:"bg-neutral-50 rounded-3xl p-6 border border-neutral-100 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-end px-1",children:[s.jsx("span",{className:"text-[10px] font-black uppercase text-neutral-400 tracking-widest",children:"Mastery Score"}),s.jsxs("span",{className:"text-sm font-black text-neutral-900 flex items-center gap-1",children:[E.oldMastery,"%",s.jsx(ps,{size:14,className:"text-neutral-300"}),s.jsxs("span",{className:"text-green-600",children:[E.newMastery,"%"]}),te>0&&s.jsxs("span",{className:"text-[10px] bg-green-100 text-green-700 px-1.5 rounded-full ml-1",children:["+",te]})]})]}),s.jsxs("div",{className:"h-3 w-full bg-neutral-200 rounded-full overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 left-0 h-full bg-neutral-400",style:{width:`${E.oldMastery}%`}}),s.jsx("div",{className:"absolute top-0 h-full bg-green-500 animate-pulse",style:{left:`${E.oldMastery}%`,width:`${te}%`}})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-xl text-xs font-black uppercase border ${zm(E.oldStatus)}`,children:E.oldStatus}),s.jsx(ps,{size:16,className:"text-neutral-300"}),s.jsx("span",{className:`px-3 py-1 rounded-xl text-xs font-black uppercase border ${zm(E.newStatus)}`,children:E.newStatus})]})]}),s.jsxs("div",{className:"space-y-2 text-left",children:[s.jsx("h4",{className:"text-[10px] font-black uppercase text-neutral-400 tracking-widest px-2",children:"Challenge Summary"}),s.jsx("div",{className:"flex flex-col gap-2",children:xe.map((ce,me)=>{const be=ce.passed===ce.total,Ne=ce.passed===0;let ke="bg-white border-neutral-100",we="text-neutral-700",at=null;return be?(ke="bg-green-50 border-green-100",we="text-green-800",at=s.jsx(Jn,{size:14,className:"text-green-600"})):Ne?(ke="bg-red-50 border-red-100",we="text-red-800",at=s.jsx(vt,{size:14,className:"text-red-600"})):(ke="bg-orange-50 border-orange-100",we="text-orange-800",at=s.jsxs("div",{className:"text-[10px] font-black text-orange-600",children:[Math.round(ce.passed/ce.total*100),"%"]})),s.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-xl shadow-sm ${ke}`,children:[s.jsx("span",{className:`text-xs font-bold ${we}`,children:ce.label}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:`text-[10px] font-black uppercase tracking-wider ${we}`,children:[ce.passed," / ",ce.total]}),s.jsx("div",{className:"p-1 rounded-full bg-white/50",children:at})]})]},me)})})]})]}),s.jsx("div",{className:"p-6 bg-white border-t border-neutral-100 shrink-0",children:s.jsxs("button",{onClick:ee,className:"w-full py-4 bg-neutral-900 text-white rounded-2xl font-black text-sm uppercase tracking-widest shadow-xl hover:bg-neutral-800 transition-all active:scale-95 flex items-center justify-center gap-2",children:[s.jsx("span",{children:"Continue"}),s.jsx(ps,{size:18})]})})]})}else if(o){const te=m.size===0;let xe=0,ce=0;h.forEach(we=>{xe+=we.score,ce+=we.total});const me=ce>0?xe/ce*100:0,be=60,Ne=2*Math.PI*be,ke=Ne-me/100*Ne;le=s.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col max-h-[95vh] animate-in fade-in zoom-in-95 duration-300",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-neutral-100 bg-white/80 backdrop-blur-sm flex justify-between items-center shrink-0 z-20 relative",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-neutral-900 text-white rounded-xl flex items-center justify-center shadow-lg shadow-neutral-900/20",children:s.jsx(qy,{size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-black text-neutral-900 leading-none tracking-tight",children:"Test Setup"}),s.jsxs("p",{className:"text-xs font-bold text-neutral-500 mt-1",children:["Target: ",s.jsx("span",{className:"text-neutral-900",children:c.word})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex flex-col items-end mr-2",children:[s.jsx("span",{className:"text-[9px] font-black uppercase text-neutral-400 tracking-widest",children:"Mastery"}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:`text-xl font-black leading-none ${xe===ce&&ce>0?"text-green-600":"text-neutral-900"}`,children:xe}),s.jsxs("span",{className:"text-sm font-bold text-neutral-400",children:["/",ce]})]})]}),s.jsx("button",{onClick:()=>M(!C),className:`p-2.5 rounded-xl transition-all ${C?"bg-neutral-900 text-white shadow-md":"bg-neutral-100 text-neutral-500 hover:bg-neutral-200"}`,title:"Configure Test",children:s.jsx(Jy,{size:20})}),s.jsx("button",{onClick:u,className:"p-2.5 text-neutral-400 hover:text-neutral-900 hover:bg-neutral-100 rounded-xl transition-colors",children:s.jsx(vt,{size:20})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative",children:C?s.jsxs("div",{className:"flex flex-col h-full animate-in slide-in-from-top-4 duration-300",children:[s.jsxs("div",{className:"px-5 py-3 bg-neutral-50 border-b border-neutral-100 flex flex-wrap gap-2 shrink-0 z-10 justify-center",children:[s.jsxs("button",{onClick:Z,className:"px-3 py-2 rounded-lg bg-white border border-neutral-200 text-neutral-600 font-bold text-[10px] uppercase tracking-wider hover:bg-neutral-50 transition-colors flex items-center gap-1.5 shadow-sm",children:[s.jsx(Yu,{size:12})," All"]}),s.jsxs("button",{onClick:()=>x(new Set),className:"px-3 py-2 rounded-lg bg-white border border-neutral-200 text-neutral-400 font-bold text-[10px] uppercase tracking-wider hover:bg-neutral-50 hover:text-neutral-600 transition-colors flex items-center gap-1.5 shadow-sm",children:[s.jsx(Gy,{size:12})," Clear"]}),s.jsxs("button",{onClick:()=>b(!de),className:"px-3 py-2 rounded-lg bg-white border border-neutral-200 text-neutral-500 font-bold text-[10px] uppercase tracking-wider hover:bg-neutral-50 hover:text-indigo-500 transition-colors flex items-center gap-1.5 shadow-sm ml-auto",children:[s.jsx(Qm,{size:12})," Guide"]})]}),de&&s.jsx("div",{className:"bg-neutral-50 border-b border-neutral-100 p-4 grid grid-cols-2 gap-2 animate-in fade-in slide-in-from-top-2",children:pv.map(we=>s.jsxs("div",{className:"text-[10px] text-neutral-500 leading-tight",children:[s.jsxs("span",{className:"font-black text-indigo-600 uppercase mr-1",children:[we.label,":"]}),we.desc]},we.label))}),s.jsx("div",{className:"p-4 space-y-3",children:Lm.map(we=>{const at=we.areas.filter(nt=>nt.types.some(jt=>$.has(jt)));if(at.length===0)return null;let St=0,rt=0;return at.forEach(nt=>{nt.types.forEach(jt=>{const Mt=h.get(jt);Mt&&(St+=Mt.score,rt+=Mt.total)})}),s.jsxs("div",{className:`rounded-2xl border ${we.border} ${we.bg} p-4`,children:[s.jsxs("div",{className:"flex items-baseline justify-between mb-3 border-b border-black/5 pb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:`text-xs font-black uppercase tracking-widest ${we.color}`,children:we.title}),s.jsxs("span",{className:"text-[10px] font-bold text-neutral-500 opacity-60 bg-white/50 px-1.5 py-0.5 rounded-md",children:["(",St,"/",rt,")"]})]}),s.jsx("span",{className:"text-[10px] font-bold text-neutral-500 opacity-60",children:we.description})]}),s.jsx("div",{className:"space-y-2",children:at.map(nt=>{const jt=nt.types.filter(Ie=>$.has(Ie));if(jt.length===0)return null;const Mt=nt.types.find(Ie=>m.has(Ie));let R=0,Se=0;nt.types.forEach(Ie=>{const Qe=h.get(Ie);Qe&&(R+=Qe.score,Se+=Qe.total)});const Te=mv(R,Se);return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-2 rounded-xl bg-white/40 hover:bg-white/70 transition-colors border border-transparent hover:border-black/5",children:[s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsx("div",{className:"p-1.5 bg-white rounded-lg shadow-sm text-neutral-600",children:s.jsx(nt.icon,{size:14})}),s.jsx("span",{className:`text-xs font-bold ${Mt?"text-neutral-900":"text-neutral-600"}`,children:nt.label}),s.jsx("span",{className:`text-[9px] font-black uppercase tracking-wider px-1.5 py-0.5 rounded-md border ${Te.color}`,children:Te.label})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 justify-end",children:jt.map(Ie=>{const Qe=Mt===Ie;return s.jsx("button",{onClick:()=>re(nt.types,Qe?"none":Ie),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold border transition-all ${Qe?"bg-neutral-900 border-neutral-900 text-white shadow-md transform scale-105":"bg-white border-neutral-200 text-neutral-500 hover:border-neutral-300 hover:text-neutral-700"}`,children:_u[Ie]||"Quiz"},Ie)})})]},nt.id)})})]},we.id)})})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 space-y-8 animate-in zoom-in-95 duration-500",children:[s.jsxs("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[s.jsxs("svg",{className:"absolute w-full h-full transform -rotate-90",children:[s.jsx("circle",{cx:"50%",cy:"50%",r:be,stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-neutral-100"}),s.jsx("circle",{cx:"50%",cy:"50%",r:be,stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:Ne,strokeDashoffset:ke,strokeLinecap:"round",className:`transition-all duration-1000 ease-out ${me===100?"text-green-500":"text-indigo-600"}`})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("span",{className:"text-4xl font-black text-neutral-900 tracking-tighter",children:[me.toFixed(0),"%"]}),s.jsx("span",{className:"text-xs font-bold text-neutral-400 uppercase tracking-widest mt-1",children:"Mastery"})]})]}),s.jsx("p",{className:"text-center text-sm font-medium text-neutral-500 max-w-xs leading-relaxed",children:xe===ce?"Incredible! You have mastered all challenges for this word. Keep practicing to maintain it.":"Ready to improve? Choose a quick mix or focus on what you haven't mastered yet."})]})}),s.jsx("div",{className:"px-6 py-5 bg-white border-t border-neutral-100 flex items-center justify-center shrink-0 z-20 gap-4",children:C?s.jsxs("button",{onClick:g,disabled:te||f,className:"w-full py-4 bg-neutral-900 text-white rounded-2xl font-black text-sm uppercase tracking-widest flex items-center justify-center gap-3 shadow-xl hover:bg-neutral-800 transition-all active:scale-95 disabled:opacity-50 disabled:active:scale-100 hover:shadow-2xl shadow-neutral-900/20",children:[f?s.jsx(na,{size:18,className:"animate-spin"}):s.jsx(Pm,{size:18,fill:"currentColor"}),s.jsx("span",{children:f?"Preparing...":"Start Custom Test"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:G,className:"flex-1 py-4 bg-white border-2 border-neutral-100 text-neutral-600 rounded-2xl font-black text-xs uppercase tracking-widest flex items-center justify-center gap-2 hover:border-amber-400 hover:text-amber-600 hover:bg-amber-50 transition-all active:scale-95 shadow-sm group",children:[s.jsx(Iy,{size:18,className:"text-neutral-400 group-hover:text-amber-500 transition-colors fill-neutral-200 group-hover:fill-amber-500"}),s.jsx("span",{children:"Quick Test"})]}),oe?s.jsxs("button",{onClick:fe,className:"flex-1 py-4 bg-red-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-red-700 transition-all active:scale-95 shadow-lg shadow-red-200",children:[s.jsx(tb,{size:18}),s.jsx("span",{children:"Challenge"})]}):s.jsxs("button",{onClick:se,className:"flex-1 py-4 bg-indigo-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-indigo-700 transition-all active:scale-95 shadow-lg shadow-indigo-200",children:[s.jsx(Fm,{size:18}),s.jsx("span",{children:"Master It"})]})]})})]})}else{let te;K&&(K.current<K.total?te="Next Item":te="Finalize"),le=s.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col max-h-[90vh] h-full",children:[s.jsx(lv,{title:y.title,type:y.type,currentStep:K?K.current:w+1,totalSteps:K?K.total:S.length,onClose:u,onFinish:F,label:K?"Item":"Challenge",isQuickFire:!!K,elapsedTime:U}),s.jsx("div",{ref:pe,className:"flex-1 p-8 overflow-y-auto no-scrollbar",children:s.jsx(dv,{word:c,currentChallenge:y,currentChallengeIndex:w,userAnswers:j,handleAnswerChange:O,results:N,isFinishing:L,currentPrepositionGroup:I,showHint:W,onEnterPress:B})}),s.jsx(fv,{onBack:X,onNext:B,onIgnore:D,onHint:P,showHint:W,isBackDisabled:K?K.current===1&&w===0:w===0,isNextDisabled:L,isLastChallenge:Q,nextLabel:te,disableHints:T})]})}return l?s.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:le}):le},Kn=l=>[...l].sort(()=>Math.random()-.5),gv=l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Rt=l=>l.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();function xv(l){const c=[];if(c.push({type:"SPELLING",title:"Spelling Fill",word:l}),c.push({type:"PRONUNCIATION",title:"Speak Out",word:l}),l.meaningVi&&l.meaningVi.length>0&&c.push({type:"MEANING_QUIZ",title:"Meaning Multi Choice",options:[],answer:l.meaningVi,word:l}),l.ipaMistakes&&l.ipaMistakes.length>0&&c.push({type:"IPA_QUIZ",title:"IPA Multi Choice",options:Kn([l.ipa,...l.ipaMistakes]),answer:l.ipa,word:l}),l.collocationsArray&&l.collocationsArray.length>0){const f=l.collocationsArray.filter(d=>!d.isIgnored&&d.d);f.forEach(d=>{c.push({type:"COLLOCATION_QUIZ",title:"Collocation Fill",word:l,fullText:d.text,cue:d.d,answer:d.text}),f.length>=4&&c.push({type:"COLLOCATION_MULTICHOICE_QUIZ",title:"Collocation Multi Choice",word:l,fullText:d.text,cue:d.d,answer:d.text,options:[]})}),f.length>=2&&c.push({type:"COLLOCATION_CONTEXT_QUIZ",title:"Collocation Match",word:l,contexts:[],collocations:[]})}if(l.idiomsList&&l.idiomsList.length>0){const f=l.idiomsList.filter(d=>!d.isIgnored&&d.d);f.forEach(d=>{c.push({type:"IDIOM_QUIZ",title:"Idiom Fill",word:l,fullText:d.text,cue:d.d,answer:d.text})}),f.length>=2&&c.push({type:"IDIOM_CONTEXT_QUIZ",title:"Idiom Match",word:l,contexts:[],idioms:[]})}if(l.prepositions&&l.prepositions.length>0&&l.prepositions.filter(d=>!d.isIgnored).forEach(d=>{let m="";const x=l.word,g=d.prep,h=d.usage;if(h&&h.toLowerCase().includes(x.toLowerCase())){const S=new RegExp(`\\b${gv(g)}\\b`,"i");S.test(h)?m=h.replace(S,"___"):m=`${h} [___]`}else h?m=`${x} ___ ${h}`:m=`${x} ___`;c.push({type:"PREPOSITION_QUIZ",title:"Preposition Fill",example:m,answer:g,word:l})}),l.example&&l.example.trim().length>5){const f=l.example.trim().split(`
`).flatMap(d=>d.split(new RegExp("(?<=[.?!])\\s+"))).map(d=>d.trim()).filter(d=>d.length>5);for(const d of f){const m=d.split(/\s+/).filter(Boolean);if(m.length>=3){let g;if(m.length>10){g=[];let h=0;for(;h<m.length;){const S=Math.min(3,m.length-h);let y=1;S>1&&Math.random()<.5&&(S===2?y=2:y=Math.random()<.5?2:3);const w=m.slice(h,h+y).join(" ");g.push(w),h+=y}}else g=m;c.push({type:"SENTENCE_SCRAMBLE",title:"Sentence Builder",original:d.trim(),shuffled:Kn(g),word:l})}}}l.wordFamily&&[...l.wordFamily.nouns||[],...l.wordFamily.verbs||[],...l.wordFamily.adjs||[],...l.wordFamily.advs||[]].filter(x=>!x.isIgnored&&x.word.trim()).some(x=>x.word.toLowerCase().trim()!==l.word.toLowerCase().trim())&&c.push({type:"WORD_FAMILY",title:"Word Family Fill",word:l});const u=[],o=new Set;return l.wordFamily&&["nouns","verbs","adjs","advs"].forEach(f=>{var d;(((d=l.wordFamily)==null?void 0:d[f])||[]).forEach(m=>{m.word.toLowerCase()===l.word.toLowerCase()&&m.ipa&&(o.has(m.ipa)||(u.push({pos:f.slice(0,-1),ipa:m.ipa}),o.add(m.ipa)))})}),u.length>=2&&c.push({type:"HETERONYM_QUIZ",title:"Heteronym Match",word:l,forms:u,ipaOptions:Kn(u.map(f=>f.ipa))}),l.paraphrases&&l.paraphrases.length>0&&l.paraphrases.filter(f=>!f.isIgnored).forEach(f=>{c.push({type:"PARAPHRASE_QUIZ",title:"Paraphrase Fill",tone:f.tone,context:f.context,answer:f.word,word:l})}),l.paraphrases&&l.paraphrases.filter(f=>!f.isIgnored&&f.context&&f.context.trim()).length>=2&&c.push({type:"PARAPHRASE_CONTEXT_QUIZ",title:"Paraphrase Match",word:l,contexts:[],paraphrases:[]}),c}async function Um(l,c){const u=[];for(const o of l)if(o.type==="MEANING_QUIZ"){const f=await ch(c.userId,3,c.id),d=Kn([c.meaningVi,...f]);u.push({...o,options:d})}else if(o.type==="COLLOCATION_MULTICHOICE_QUIZ"){const d=(c.collocationsArray||[]).filter(x=>!x.isIgnored&&x.text!==o.answer).map(x=>x.text),m=Kn([o.answer,...d]).slice(0,4);u.push({...o,options:m})}else if(o.type==="PARAPHRASE_CONTEXT_QUIZ"){const f=o.word,d=(f.paraphrases||[]).filter(m=>!m.isIgnored&&m.context&&m.context.trim()).sort(()=>Math.random()-.5).slice(0,5);if(d.length>=2){const m=[],x=[];d.forEach((g,h)=>{const S=`${f.id}-${h}`;m.push({id:`context-${S}`,text:g.context,pairId:S,tone:g.tone}),x.push({id:`word-${S}`,text:g.word,pairId:S})}),u.push({...o,contexts:m,paraphrases:Kn(x)})}}else if(o.type==="COLLOCATION_CONTEXT_QUIZ"){const f=o.word,d=(f.collocationsArray||[]).filter(m=>!m.isIgnored&&m.d&&m.d.trim()).sort(()=>Math.random()-.5).slice(0,5);if(d.length>=2){const m=[],x=[];d.forEach((g,h)=>{const S=`${f.id}-col-${h}`;m.push({id:`context-${S}`,text:g.d,pairId:S}),x.push({id:`col-${S}`,text:g.text,pairId:S})}),u.push({...o,contexts:m,collocations:Kn(x)})}}else if(o.type==="IDIOM_CONTEXT_QUIZ"){const f=o.word,d=(f.idiomsList||[]).filter(m=>!m.isIgnored&&m.d&&m.d.trim()).sort(()=>Math.random()-.5).slice(0,5);if(d.length>=2){const m=[],x=[];d.forEach((g,h)=>{const S=`${f.id}-idm-${h}`;m.push({id:`context-${S}`,text:g.d,pairId:S}),x.push({id:`idm-${S}`,text:g.text,pairId:S})}),u.push({...o,contexts:m,idioms:Kn(x)})}}else u.push(o);return u}function yv(l,c){switch(l.type){case"SPELLING":return Rt(c||"")===Rt(l.word.word);case"IPA_QUIZ":return c===l.answer;case"PREPOSITION_QUIZ":return Rt(c||"")===Rt(l.answer);case"MEANING_QUIZ":return c===l.answer;case"PARAPHRASE_QUIZ":return Rt(c||"")===Rt(l.answer);case"COLLOCATION_QUIZ":return Rt(c||"")===Rt(l.answer);case"COLLOCATION_MULTICHOICE_QUIZ":return c===l.answer;case"IDIOM_QUIZ":return Rt(c||"")===Rt(l.answer);case"SENTENCE_SCRAMBLE":const u=(c||[]).join(" ");return Rt(u)===Rt(l.original);case"PRONUNCIATION":return Rt(c||"")===Rt(l.word.word);case"HETERONYM_QUIZ":{if(!c)return!1;let o=!0;for(const f of l.forms)if(c[f.pos]!==f.ipa){o=!1;break}return o}case"WORD_FAMILY":{const o={};let f=!0,d=!1;const m={nouns:"n",verbs:"v",adjs:"j",advs:"d"};return["nouns","verbs","adjs","advs"].forEach(x=>{var h;const g=(((h=l.word.wordFamily)==null?void 0:h[x])||[]).filter(S=>!S.isIgnored).map(S=>S.word);if(g.length>0){d=!0;const y=((c==null?void 0:c[x])||"").split(",").filter(Boolean).map(j=>Rt(j)),w=m[x];g.forEach(j=>{const O=Rt(j),N=y.findIndex(I=>I===O),L=N!==-1;o[`${w}:${j}`]=L,L?y.splice(N,1):f=!1}),y.length>0&&(f=!1)}}),d?{correct:f,details:o}:!0}case"PARAPHRASE_CONTEXT_QUIZ":{const o=l;if(!(c instanceof Map)||c.size===0)return{correct:!1,details:{}};const f={};let d=0;return o.contexts.forEach(m=>{const x=c.get(m.id);if(x){const g=o.paraphrases.find(h=>h.id===x);g&&g.pairId===m.pairId?(f[m.id]=!0,d++):f[m.id]=!1}else f[m.id]=!1}),{correct:d===o.contexts.length,details:f}}case"COLLOCATION_CONTEXT_QUIZ":{const o=l;if(!(c instanceof Map)||c.size===0)return{correct:!1,details:{}};const f={};let d=0;return o.contexts.forEach(m=>{const x=c.get(m.id);if(x){const g=o.collocations.find(h=>h.id===x);g&&g.pairId===m.pairId?(f[m.id]=!0,d++):f[m.id]=!1}else f[m.id]=!1}),{correct:d===o.contexts.length,details:f}}case"IDIOM_CONTEXT_QUIZ":{const o=l;if(!(c instanceof Map)||c.size===0)return{correct:!1,details:{}};const f={};let d=0;return o.contexts.forEach(m=>{const x=c.get(m.id);if(x){const g=o.idioms.find(h=>h.id===x);g&&g.pairId===m.pairId?(f[m.id]=!0,d++):f[m.id]=!1}else f[m.id]=!1}),{correct:d===o.contexts.length,details:f}}default:return!1}}const bv=()=>{const[l,c]=_.useState([]),[u,o]=_.useState(0),[f,d]=_.useState([]),[m,x]=_.useState(null),[g,h]=_.useState(!1),[S,y]=_.useState(new Set),[w,j]=_.useState(0),[O,N]=_.useState(!1);_.useEffect(()=>{let K;return O&&!g&&(K=window.setInterval(()=>{j(U=>U+1)},1e3)),()=>clearInterval(K)},[O,g]);const L=K=>{c(K),d(new Array(K.length).fill(void 0)),o(0),x(null),h(!1),y(new Set),j(0),N(!0)},I=(K,U)=>{d(G=>{const ne=[...G];return ne[K]=U,ne})},Q=l[u],B=_.useMemo(()=>{if((Q==null?void 0:Q.type)!=="PREPOSITION_QUIZ")return null;const K=[];let U=u;for(;U>0&&l[U-1].type==="PREPOSITION_QUIZ";)U--;for(let G=U;G<l.length&&l[G].type==="PREPOSITION_QUIZ";G++)K.push({challenge:l[G],index:G});return K.length===0?null:{startIndex:U,group:K}},[Q,u,l]),X=_.useMemo(()=>B?B.startIndex+B.group.length>=l.length:u>=l.length-1,[u,l,B]),D=()=>{X||o(B?B.startIndex+B.group.length:K=>K+1)},F=()=>{const K=B?B.startIndex-1:u-1;K>=0&&o(K)},W=()=>{y(K=>{const U=new Set(K);return B?B.group.forEach(G=>U.add(G.index)):U.add(u),U}),D()},P=()=>{const K=[];let U=0,G=0;const ne={},se=[];l.forEach((E,ee)=>{if(S.has(ee)){K[ee]=null;return}G++;const oe=yv(E,f[ee]);K[ee]=oe;const pe=typeof oe=="boolean"?oe:oe.correct;if(pe&&U++,se.push({type:E.type,passed:pe}),E.type==="WORD_FAMILY"&&typeof oe=="object"&&"details"in oe)Object.entries(oe.details).forEach(([de,b])=>{ne[`WORD_FAMILY:${de}`]=b});else if(E.type==="COLLOCATION_QUIZ")ne[`COLLOCATION_QUIZ:${E.fullText}`]=pe;else if(E.type==="COLLOCATION_MULTICHOICE_QUIZ")ne[`COLLOCATION_MULTICHOICE_QUIZ:${E.fullText}`]=pe;else if(E.type==="IDIOM_QUIZ")ne[`IDIOM_QUIZ:${E.fullText}`]=pe;else if(E.type==="PARAPHRASE_QUIZ")ne[`PARAPHRASE_QUIZ:${E.answer}`]=pe;else if(E.type==="PREPOSITION_QUIZ")ne[`PREPOSITION_QUIZ:${E.answer}`]=pe;else if(E.type==="PARAPHRASE_CONTEXT_QUIZ"){const de=E;typeof oe=="object"&&oe.details&&de.paraphrases.forEach(b=>{const C=de.contexts.find(M=>M.pairId===b.pairId);C&&oe.details[C.id]&&(ne[`PARAPHRASE_CONTEXT_QUIZ:${b.text}`]=!0)}),ne[E.type]=pe}else if(E.type==="COLLOCATION_CONTEXT_QUIZ"){const de=E;typeof oe=="object"&&oe.details&&de.collocations.forEach(b=>{const C=de.contexts.find(M=>M.pairId===b.pairId);C&&oe.details[C.id]&&(ne[`COLLOCATION_CONTEXT_QUIZ:${b.text}`]=!0)}),ne[E.type]=pe}else if(E.type==="IDIOM_CONTEXT_QUIZ"){const de=E;typeof oe=="object"&&oe.details&&de.idioms.forEach(b=>{const C=de.contexts.find(M=>M.pairId===b.pairId);C&&oe.details[C.id]&&(ne[`IDIOM_CONTEXT_QUIZ:${b.text}`]=!0)}),ne[E.type]=pe}else ne[E.type]=pe});let fe=_e.HARD;return G>0&&(U===G?fe=G>1?_e.EASY:_e.HARD:U<G/2&&(fe=_e.FORGOT)),{finalGrade:fe,resultHistory:ne,detailedResults:se,counts:{correct:U,tested:G},newResults:K}};return{challenges:l,currentChallengeIndex:u,currentChallenge:Q,userAnswers:f,results:m,isFinishing:g,elapsedSeconds:w,currentPrepositionGroup:B,isLastChallenge:X,startTest:L,setAnswer:I,handleNext:D,handleBack:F,handleIgnore:W,checkAnswers:P,finishTest:()=>{N(!1),h(!0);const{newResults:K}=P();x(K)}}},vv={SPELLING:"sp",IPA_QUIZ:"iq",PREPOSITION_QUIZ:"pq",WORD_FAMILY:"wf",MEANING_QUIZ:"mq",PARAPHRASE_QUIZ:"prq",SENTENCE_SCRAMBLE:"sc",HETERONYM_QUIZ:"hq",PRONUNCIATION:"p",COLLOCATION_QUIZ:"cq",IDIOM_QUIZ:"idq",PARAPHRASE_CONTEXT_QUIZ:"pcq",COLLOCATION_CONTEXT_QUIZ:"ccq",COLLOCATION_MULTICHOICE_QUIZ:"cmq",IDIOM_CONTEXT_QUIZ:"icq"},Sv=["PARAPHRASE_CONTEXT_QUIZ","COLLOCATION_CONTEXT_QUIZ","IDIOM_CONTEXT_QUIZ","COLLOCATION_MULTICHOICE_QUIZ","HETERONYM_QUIZ"],$n={collocation:{easy:["COLLOCATION_CONTEXT_QUIZ","COLLOCATION_MULTICHOICE_QUIZ","COLLOCATION_QUIZ"],hard:["COLLOCATION_QUIZ","COLLOCATION_CONTEXT_QUIZ","COLLOCATION_MULTICHOICE_QUIZ"]},paraphrase:{easy:["PARAPHRASE_CONTEXT_QUIZ","PARAPHRASE_QUIZ"],hard:["PARAPHRASE_QUIZ","PARAPHRASE_CONTEXT_QUIZ"]},idiom:{easy:["IDIOM_CONTEXT_QUIZ","IDIOM_QUIZ"],hard:["IDIOM_QUIZ","IDIOM_CONTEXT_QUIZ"]}},wv=new Set([...$n.collocation.easy,...$n.paraphrase.easy,...$n.idiom.easy]),Vr=(l,c)=>{const u=new Set;return Object.keys($n).forEach(o=>{const f=$n[o][c];for(const d of f){const m=d;if(l.has(m)){u.add(m);break}}}),l.forEach(o=>{wv.has(o)||u.add(o)}),u},ag=({word:l,onClose:c,onComplete:u,isQuickFire:o=!1,isModal:f=!0,sessionPosition:d,onPrevWord:m,disableHints:x=!1,forceShowHint:g=!1,skipSetup:h=!1,challengeFilter:S,skipRecap:y=!1})=>{const[w,j]=_.useState(!o&&!h),[O,N]=_.useState(new Set),[L,I]=_.useState(!1),[Q,B]=_.useState(!1),[X,D]=_.useState(g),[F,W]=_.useState(null),P=bv();_.useEffect(()=>{D(g)},[P.currentChallengeIndex,g]);const T=_.useMemo(()=>{try{return xv(l)}catch(b){return console.error("[TestModal] Error generating challenges:",b),[]}},[l]),K=_.useMemo(()=>{const b=l.lastTestResults||{},C=new Map,M=Array.from(new Set(T.map(re=>re.type))),$=(re,V)=>{if(b[re]!==void 0)return b[re];const Z=vv[V];if(Z){const le=re.startsWith(V)?re.substring(V.length):"",te=Z+le;return b[te]}};return M.forEach(re=>{const V=T.filter(le=>le.type===re);if(re==="WORD_FAMILY"){const le=["nouns","verbs","adjs","advs"],te={nouns:"n",verbs:"v",adjs:"j",advs:"d"};let xe=0;const ce=le.flatMap(me=>{var be;return(((be=l.wordFamily)==null?void 0:be[me])||[]).map(Ne=>({...Ne,typeKey:me}))}).filter(me=>!me.isIgnored&&me.word);ce.length>0&&ce.forEach(me=>{const be=te[me.typeKey];(b[`WORD_FAMILY:${be}:${me.word}`]??b[`wf:${be}:${me.word}`]??b[`WORD_FAMILY_${me.typeKey.toUpperCase()}`])===!0&&xe++}),C.set(re,{score:xe,total:ce.length});return}if(re==="SENTENCE_SCRAMBLE"){const le=Object.keys(b).some(te=>(te.startsWith("SENTENCE_SCRAMBLE")||te.startsWith("sc"))&&b[te]===!0);C.set(re,{score:le?1:0,total:1});return}let Z=0;V.forEach(le=>{let te=!1,xe="";if(le.type==="COLLOCATION_QUIZ"?xe=`COLLOCATION_QUIZ:${le.fullText}`:le.type==="COLLOCATION_MULTICHOICE_QUIZ"?xe=`COLLOCATION_MULTICHOICE_QUIZ:${le.fullText}`:le.type==="IDIOM_QUIZ"?xe=`IDIOM_QUIZ:${le.fullText}`:le.type==="PREPOSITION_QUIZ"?xe=`PREPOSITION_QUIZ:${le.answer}`:le.type==="PARAPHRASE_QUIZ"?xe=`PARAPHRASE_QUIZ:${le.answer}`:le.type==="PARAPHRASE_CONTEXT_QUIZ"?xe="PARAPHRASE_CONTEXT_QUIZ":le.type==="COLLOCATION_CONTEXT_QUIZ"?xe="COLLOCATION_CONTEXT_QUIZ":le.type==="IDIOM_CONTEXT_QUIZ"?xe="IDIOM_CONTEXT_QUIZ":xe=le.type,$(xe,re)===!0&&(te=!0),!te){if(le.type==="PARAPHRASE_QUIZ"){const ce=le.answer;b[`PARAPHRASE_CONTEXT_QUIZ:${ce}`]===!0&&(te=!0)}else if(le.type==="COLLOCATION_QUIZ"){const ce=le.fullText;b[`COLLOCATION_CONTEXT_QUIZ:${ce}`]===!0&&(te=!0),$(`COLLOCATION_MULTICHOICE_QUIZ:${ce}`,"COLLOCATION_MULTICHOICE_QUIZ")===!0&&(te=!0)}else if(le.type==="IDIOM_QUIZ"){const ce=le.fullText;b[`IDIOM_CONTEXT_QUIZ:${ce}`]===!0&&(te=!0)}}te&&Z++}),C.set(re,{score:Z,total:V.length})}),C},[l,T]);_.useEffect(()=>{if(o&&!L&&P.challenges.length===0){if(T.length===0){setTimeout(c,100);return}(async()=>{I(!0);let C=T;S&&(C=T.filter(S)),C.length===0&&(C=T.filter($=>$.type!=="SPELLING")),C.length===0&&(C=T);const M=C[Math.floor(Math.random()*C.length)];if(!M){I(!1),setTimeout(c,500);return}try{const $=await Um([M],l);$.length>0?(P.startTest($),j(!1)):setTimeout(c,500)}catch{setTimeout(c,500)}finally{I(!1)}})()}},[o,T,l,S]),_.useEffect(()=>{h&&!o&&T.length>0&&P.challenges.length===0&&!L&&ne()},[h,o,T.length,P.challenges.length,L]),_.useEffect(()=>{if(o||T.length===0)return;const b=Object.keys(l.lastTestResults||{}).length>0,C=new Set;!b&&!h?(B(!1),T.forEach(M=>C.add(M.type))):(B(!0),["MEANING_QUIZ","PREPOSITION_QUIZ","COLLOCATION_CONTEXT_QUIZ"].forEach(M=>{T.some($=>$.type===M)&&C.add(M)})),N(C)},[T,l,o,h]);const U=b=>{B(!1),N(C=>{const M=new Set(C);return M.has(b)?M.delete(b):M.add(b),M})},G=async b=>{const C=b||O;let M=T.filter(V=>C.has(V.type));if(C.has("SENTENCE_SCRAMBLE")){const V=M.filter(Z=>Z.type==="SENTENCE_SCRAMBLE");if(V.length>1){const Z=V[Math.floor(Math.random()*V.length)];M=M.filter(le=>le.type!=="SENTENCE_SCRAMBLE"),M.push(Z)}}if(M.length===0)return;I(!0);const re=(await Um(M,l)).sort(()=>Math.random()-.5);P.startTest(re),I(!1),j(!1)},ne=async()=>{const b=new Set(T.map($=>$.type)),C=new Set;b.has("MEANING_QUIZ")&&C.add("MEANING_QUIZ");for(const $ of $n.collocation.easy)if(b.has($)){C.add($);break}for(const $ of $n.paraphrase.easy)if(b.has($)){C.add($);break}const M=[];b.has("IPA_QUIZ")&&M.push("IPA_QUIZ"),b.has("PREPOSITION_QUIZ")&&M.push("PREPOSITION_QUIZ"),b.has("WORD_FAMILY")&&M.push("WORD_FAMILY");for(const $ of $n.idiom.easy)if(b.has($)){M.push($);break}if(M.length>0){const $=M[Math.floor(Math.random()*M.length)];C.add($)}if(C.size===0){const $=Vr(b,"easy");if($.size>0){B(!0),G($);return}return}B(!0),G(C)},se=()=>{const b=new Set,C=Pr(l),M=l.lastTestResults||{},$=C.filter(V=>!V.testKeys.some(Z=>M[Z]===!0));if($.length===0){if(K.forEach((Z,le)=>{Z.score<Z.total&&b.add(le)}),b.size===0)return;const V=Vr(b,"easy");G(V);return}T.forEach(V=>{let Z=[];V.type==="COLLOCATION_QUIZ"?Z.push(`COLLOCATION_QUIZ:${V.fullText}`):V.type==="COLLOCATION_MULTICHOICE_QUIZ"?Z.push(`COLLOCATION_MULTICHOICE_QUIZ:${V.fullText}`):V.type==="COLLOCATION_CONTEXT_QUIZ"||(V.type==="PARAPHRASE_QUIZ"?Z.push(`PARAPHRASE_QUIZ:${V.answer}`):V.type==="PREPOSITION_QUIZ"?Z.push(`PREPOSITION_QUIZ:${V.answer}`):V.type==="SPELLING"?Z.push("SPELLING"):V.type==="PRONUNCIATION"?Z.push("PRONUNCIATION"):V.type==="MEANING_QUIZ"?Z.push("MEANING_QUIZ"):V.type==="IPA_QUIZ"?Z.push("IPA_QUIZ"):V.type==="WORD_FAMILY"?Z.push("WORD_FAMILY"):V.type==="SENTENCE_SCRAMBLE"&&Z.push("SENTENCE_SCRAMBLE")),Z.some(te=>$.some(xe=>xe.testKeys.includes(te)||xe.testKeys.some(ce=>ce.startsWith("WORD_FAMILY")&&te==="WORD_FAMILY")))&&b.add(V.type),V.type==="COLLOCATION_CONTEXT_QUIZ"&&$.filter(xe=>xe.key.startsWith("colloc:")).length>0&&b.add(V.type),V.type==="PARAPHRASE_CONTEXT_QUIZ"&&$.filter(xe=>xe.key.startsWith("para:")).length>0&&b.add(V.type),V.type==="IDIOM_CONTEXT_QUIZ"&&$.filter(xe=>xe.key.startsWith("idiom:")).length>0&&b.add(V.type)}),b.size===0&&K.forEach((V,Z)=>{V.score<V.total&&b.add(Z)});const re=Vr(b,"easy");B(!1),G(re)},fe=async()=>{const b=new Set(T.map(M=>M.type)),C=Vr(b,"hard");C.size!==0&&(B(!1),G(C))},E=(b=!1)=>{const{finalGrade:C,resultHistory:M,detailedResults:$,counts:re}=P.checkAnswers();if(P.finishTest(),y||o)setTimeout(()=>u(C,M,b,re),1e3);else{const V=l.masteryScore||0,Z=l.lastReview&&l.lastGrade||"NEW",le={...l,lastTestResults:{...l.lastTestResults||{},...M}},te=Ot(le);W({oldMastery:V,newMastery:te,oldStatus:Z,newStatus:C,results:$,finalGrade:C,resultHistory:M,counts:re})}},ee=()=>{P.isLastChallenge?E(!1):P.handleNext()},oe=b=>{const C=Math.floor(b/60),M=b%60;return`${C}:${M.toString().padStart(2,"0")}`},pe=_.useMemo(()=>{const b=new Map;return K.forEach((C,M)=>{Sv.includes(M)||b.set(M,C)}),b},[K]),de=_.useMemo(()=>Ot(l)===100,[l]);if(!w&&!L&&!P.currentChallenge)return f?s.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl text-center space-y-4",children:[s.jsx("p",{className:"text-red-500 font-bold",children:"Failed to load challenge."}),s.jsx("button",{onClick:c,className:"px-4 py-2 bg-neutral-100 rounded-lg text-sm font-bold",children:"Close"})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center space-y-4",children:[s.jsx(na,{className:"animate-spin text-neutral-400",size:32}),s.jsx("p",{className:"text-red-500 font-bold",children:"Error loading."}),s.jsx("button",{onClick:c,className:"text-xs underline text-neutral-500",children:"Return"})]});if((o||h)&&(L||!P.currentChallenge)){const b=s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-8 text-center space-y-4",children:[s.jsx(na,{className:"animate-spin text-neutral-400",size:32}),s.jsx("p",{className:"text-xs font-black text-neutral-500 uppercase tracking-widest",children:"Preparing..."})]});return f?s.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:s.jsx("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col h-[500px]",children:b})}):b}return s.jsx(hv,{isModal:f,word:l,onClose:c,isSetupMode:w,isPreparing:L,availableChallenges:T,selectedChallengeTypes:O,onToggleChallenge:U,onSetSelection:b=>{N(b),B(!1)},onStartTest:()=>G(),challenges:P.challenges,currentChallenge:P.currentChallenge,currentChallengeIndex:P.currentChallengeIndex,userAnswers:P.userAnswers,handleAnswerChange:P.setAnswer,results:P.results,isFinishing:P.isFinishing,currentPrepositionGroup:P.currentPrepositionGroup,isLastChallenge:P.isLastChallenge,handleNextClick:ee,handleBackClick:P.handleBack,handleIgnore:P.handleIgnore,handleFinishEarly:E,showHint:X,onToggleHint:()=>D(!X),sessionPosition:d,challengeStats:pe,disableHints:x,onSelectQuick:ne,onSelectPreferred:se,onSelectZeroScore:se,onSelectPartialScore:fe,isQuickMode:Q,elapsedTime:oe(P.elapsedSeconds),recapData:F,onRecalculateFinish:()=>F&&u(F.finalGrade,F.resultHistory,!1,F.counts),isMastered:de})},Nv=(l,c,u)=>{if(u)return l?l==="GAVE_UP"?s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[9px] font-black uppercase bg-amber-100 text-amber-700",children:[s.jsx(Xm,{size:10})," Gave Up"]}):l==="PASS"||l===_e.EASY?s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[9px] font-black uppercase bg-green-100 text-green-700",children:[s.jsx(Ga,{size:10})," Pass"]}):s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[9px] font-black uppercase bg-rose-100 text-rose-600",children:[s.jsx(vt,{size:10})," Fail"]}):s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[9px] font-black uppercase bg-neutral-100 text-neutral-400",children:[s.jsx(Zm,{size:10})," No Answer"]});if(!l)return s.jsx("span",{className:"px-2 py-0.5 rounded text-[9px] font-black uppercase bg-neutral-100 text-neutral-400",children:"Skipped"});if(c&&(l===_e.EASY||l===_e.LEARNED))return s.jsx("span",{className:"px-2 py-0.5 rounded text-[9px] font-black uppercase bg-cyan-100 text-cyan-700",children:"Learned"});switch(l){case _e.FORGOT:return s.jsx("span",{className:"px-2 py-0.5 rounded text-[9px] font-black uppercase bg-rose-100 text-rose-600",children:"Forgot"});case _e.HARD:return s.jsx("span",{className:"px-2 py-0.5 rounded text-[9px] font-black uppercase bg-orange-100 text-orange-600",children:"Hard"});case _e.EASY:return s.jsx("span",{className:"px-2 py-0.5 rounded text-[9px] font-black uppercase bg-green-100 text-green-600",children:"Easy"});default:return null}},jv=({score:l})=>{const f=2*Math.PI*16,d=f-l/100*f;let m="text-neutral-400";return l>=80?m="text-green-500":l>=50?m="text-yellow-500":l>0&&(m="text-orange-500"),s.jsxs("div",{className:"relative flex items-center justify-center",style:{width:36,height:36},children:[s.jsxs("svg",{className:"absolute",width:36,height:36,children:[s.jsx("circle",{className:"text-neutral-100",stroke:"currentColor",strokeWidth:4,fill:"transparent",r:16,cx:36/2,cy:36/2}),s.jsx("circle",{className:m,stroke:"currentColor",strokeWidth:4,fill:"transparent",r:16,cx:36/2,cy:36/2,strokeDasharray:f,strokeDashoffset:d,strokeLinecap:"round",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"stroke-dashoffset 0.5s ease-out"}})]}),s.jsx("span",{className:`text-[10px] font-black ${m}`,children:l})]})},Ev=({word:l})=>{const c=l.masteryScore??0;return s.jsxs("div",{className:"relative group/score",children:[s.jsx(jv,{score:c}),s.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-max px-3 py-1.5 bg-neutral-800 text-white text-[10px] font-black rounded-lg opacity-0 group-hover/score:opacity-100 transition-opacity pointer-events-none z-10 uppercase tracking-wider",children:["Mastery Score",s.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 w-2 h-2 bg-neutral-800 rotate-45"})]})]})},Av=({complexity:l})=>s.jsxs("div",{className:"relative group/complexity",children:[s.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-amber-50 border border-amber-200 rounded-xl text-amber-700 transition-all hover:bg-amber-100 shadow-sm",children:[s.jsx("span",{className:"text-[9px] font-black opacity-50",children:"CX"}),s.jsx("span",{className:"text-xs font-black",children:l})]}),s.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-max px-3 py-1.5 bg-neutral-800 text-white text-[10px] font-black rounded-lg opacity-0 group-hover/complexity:opacity-100 transition-opacity pointer-events-none z-10 uppercase tracking-wider",children:["Complexity Level",s.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 w-2 h-2 bg-neutral-800 rotate-45"})]})]}),Tv=l=>{const{user:c,initialWords:u,sessionWords:o,sessionType:f,newWordIds:d,progress:m,setProgress:x,sessionOutcomes:g,sessionFinished:h,wordInModal:S,setWordInModal:y,editingWordInModal:w,setEditingWordInModal:j,isTesting:O,setIsTesting:N,currentWord:L,isNewWord:I,onUpdate:Q,onComplete:B,nextItem:X,handleReview:D,handleTestComplete:F,handleRetry:W,handleEndSession:P,handleQuickReview:T,handleManualPractice:K,isQuickReviewMode:U}=l,{current:G,max:ne}=m,se=f==="random_test",fe=b=>{y(null),j(b)},E=b=>{Q(b),j(null)};if(u.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 py-20 text-center animate-in fade-in duration-500",children:[s.jsx("div",{className:"w-16 h-16 bg-green-50 text-green-600 rounded-full flex items-center justify-center shadow-inner",children:s.jsx(Jn,{size:32})}),s.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"All clear!"}),s.jsx("button",{onClick:B,className:"px-6 py-2.5 bg-neutral-900 text-white rounded-xl font-semibold text-sm hover:bg-neutral-800 transition-colors",children:"Back to Dashboard"})]});if(h){if(f==="new"||f==="due"||f==="new_study"||f==="custom"||se){const b=Object.values(g).filter(C=>C==="PASS"||C===_e.EASY||C===_e.LEARNED).length;return s.jsxs("div",{className:"max-w-2xl mx-auto py-10 text-center animate-in zoom-in-95 duration-500",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:`mx-auto w-20 h-20 rounded-full flex items-center justify-center mb-4 ${se?"bg-amber-100 text-amber-600":"bg-neutral-100 text-neutral-900"}`,children:se?s.jsx(xs,{size:40,fill:"currentColor"}):s.jsx(qm,{size:40})}),s.jsx("h2",{className:"text-3xl font-black text-neutral-900",children:se?"Test Result":"Session Recap"}),se&&s.jsxs("p",{className:"text-xs font-black text-neutral-400 uppercase tracking-[0.2em] mt-2",children:["Score: ",b," / ",o.length]}),s.jsx("p",{className:"text-neutral-500 mt-2 font-medium",children:"You've completed this focused session."})]}),s.jsx("div",{className:"bg-white p-4 rounded-[2rem] border border-neutral-200 shadow-sm mb-8 overflow-hidden",children:s.jsx("div",{className:"max-h-[40vh] overflow-y-auto pr-2 custom-scrollbar grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 p-2",children:o.map(C=>s.jsxs("div",{className:"flex justify-between items-center bg-neutral-50/70 p-2.5 rounded-xl border border-neutral-100",children:[s.jsx("span",{className:"font-bold text-neutral-800 text-xs truncate pr-2",children:C.word}),Nv(g[C.id],d.has(C.id),se)]},C.id))})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx("button",{onClick:B,className:"px-6 py-4 bg-white border border-neutral-200 text-neutral-500 rounded-2xl font-bold text-xs hover:bg-neutral-50 hover:border-neutral-900 transition-all active:scale-95 uppercase tracking-widest",children:"Finish Session"}),s.jsxs("button",{onClick:W,className:"px-6 py-4 bg-neutral-900 text-white rounded-2xl font-black text-xs flex items-center justify-center space-x-2 shadow-lg hover:bg-neutral-800 transition-all active:scale-95 uppercase tracking-widest",children:[s.jsx(Xu,{size:14}),s.jsx("span",{children:"Retry This Session"})]})]})]})}return s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center animate-in zoom-in-95 duration-500",children:[s.jsx(nb,{size:64,className:"text-yellow-500 mb-4 animate-bounce"}),s.jsx("h2",{className:"text-3xl font-black text-neutral-900",children:"Session Complete!"}),s.jsx("p",{className:"text-neutral-500 mt-2 font-medium",children:"You have finished this review session."}),s.jsx("button",{onClick:B,className:"mt-8 px-10 py-3.5 bg-neutral-900 text-white rounded-2xl font-bold shadow-xl hover:scale-105 transition-all text-sm",children:"Return to Dashboard"})]})}if(!L)return null;const ee=I?$r:Sl,oe=I?"text-blue-500":"text-neutral-500",pe=L.ipa||L.word,de=!!L.ipa;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"max-w-3xl mx-auto h-[calc(100vh-100px)] flex flex-col animate-in fade-in duration-300",children:[s.jsxs("div",{className:"px-6 shrink-0 pb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"w-24"})," ",s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{size:14,className:oe}),s.jsxs("span",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest",children:[G+1," / ",o.length]})]}),s.jsx("div",{className:"w-24 text-right",children:s.jsx("button",{onClick:P,className:"px-3 py-1.5 rounded-lg text-[10px] font-bold uppercase tracking-wider text-neutral-500 hover:bg-neutral-100 transition-colors",children:"End Session"})})]}),s.jsx("div",{className:"h-1 w-full bg-neutral-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-neutral-900 transition-all duration-300 ease-in-out",style:{width:`${(G+1)/o.length*100}%`}})})]}),s.jsxs("div",{className:"flex-1 flex items-center justify-center relative gap-4",children:[s.jsx("button",{onClick:()=>x(b=>({...b,current:(b.current-1+o.length)%o.length})),className:"p-4 rounded-full text-neutral-300 hover:text-neutral-900 transition-all","aria-label":"Previous word",children:s.jsx(Vu,{size:28})}),s.jsx("div",{className:"w-full max-w-xl h-full bg-white rounded-[2.5rem] border border-neutral-200 shadow-sm flex flex-col relative overflow-hidden group select-none",children:se?s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 sm:p-12 w-full text-center space-y-4",children:[s.jsx(na,{className:"animate-spin text-neutral-200",size:32}),s.jsx("p",{className:"text-xs font-black text-neutral-400 uppercase tracking-widest",children:"Loading Next Test..."})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 sm:p-12 w-full text-center space-y-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h2",{className:`font-black text-neutral-900 tracking-tight text-4xl ${de?"font-serif":""}`,children:pe}),I?s.jsx(Av,{complexity:L.complexity??0}):s.jsx(Ev,{word:L}),s.jsx("button",{onClick:b=>{b.stopPropagation(),Ut(L.word)},className:"p-3 text-neutral-400 bg-neutral-50 hover:bg-neutral-100 hover:text-neutral-900 rounded-full transition-colors",title:"Pronounce",children:s.jsx(va,{size:22})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>y(L),className:"flex items-center gap-2 px-6 py-3 bg-white border border-neutral-200 text-neutral-600 rounded-xl font-black text-[10px] hover:bg-neutral-50 transition-all active:scale-95 uppercase tracking-widest shadow-sm",children:[s.jsx(vi,{size:14}),s.jsx("span",{children:"View Details"})]}),s.jsxs("button",{onClick:K,className:"flex items-center gap-2 px-6 py-3 bg-amber-500 text-white rounded-xl font-black text-[10px] hover:bg-amber-600 transition-all active:scale-95 uppercase tracking-widest shadow-lg shadow-amber-500/20",children:[s.jsx(Qu,{size:14}),s.jsx("span",{children:"Practice"})]})]})]})}),s.jsx("button",{onClick:()=>x(b=>({...b,current:(b.current+1)%o.length})),className:"p-4 rounded-full text-neutral-300 hover:text-neutral-900 transition-all","aria-label":"Next word",children:s.jsx(ps,{size:28})})]}),s.jsx("div",{className:"shrink-0 pt-6 pb-2 mt-auto",children:I?s.jsxs("div",{className:"max-w-lg mx-auto grid grid-cols-3 items-stretch gap-4",children:[s.jsx("div",{})," ",s.jsxs("button",{onClick:()=>D(_e.LEARNED),className:"py-5 bg-green-500 text-white rounded-2xl flex flex-col items-center justify-center space-y-1.5 shadow-lg shadow-green-500/20 hover:bg-green-600 transition-all active:scale-95",children:[s.jsx(Ga,{size:20}),s.jsx("span",{className:"text-[9px] font-black uppercase",children:"LEARNED"})]}),s.jsx("div",{})," "]}):!se&&s.jsxs("div",{className:"max-w-xl mx-auto grid grid-cols-4 items-stretch gap-3",children:[s.jsxs("button",{onClick:()=>D(_e.FORGOT),className:"py-5 bg-white border border-neutral-100 text-neutral-500 hover:text-red-600 hover:bg-red-50 rounded-2xl flex flex-col items-center justify-center space-y-1.5 transition-all",children:[s.jsx(vt,{size:20}),s.jsx("span",{className:"text-[9px] font-black uppercase",children:"FORGOT"})]}),s.jsxs("button",{onClick:()=>D(_e.HARD),className:"py-5 bg-white border border-neutral-100 text-neutral-500 hover:text-orange-600 hover:bg-orange-50 rounded-2xl flex flex-col items-center justify-center space-y-1.5 transition-all",children:[s.jsx(Qm,{size:20}),s.jsx("span",{className:"text-[9px] font-black uppercase",children:"Hard"})]}),s.jsxs("button",{onClick:()=>D(_e.EASY),className:"py-5 bg-white border border-neutral-100 text-neutral-500 hover:text-green-600 hover:bg-green-50 rounded-2xl flex flex-col items-center justify-center space-y-1.5 transition-all",children:[s.jsx(Jn,{size:20}),s.jsx("span",{className:"text-[9px] font-black uppercase",children:"Easy"})]}),s.jsxs("button",{onClick:T,className:"py-5 bg-indigo-600 text-white rounded-2xl flex flex-col items-center justify-center space-y-1.5 transition-all hover:bg-indigo-700 shadow-md shadow-indigo-200",children:[s.jsx(xs,{size:20,fill:"currentColor"}),s.jsx("span",{className:"text-[9px] font-black uppercase",children:"Quick Review"})]})]})})]}),S&&s.jsx(lg,{word:S,onUpdate:Q,onClose:()=>y(null),onNavigateToWord:y,onEditRequest:fe,onGainXp:async()=>0,isViewOnly:!0}),w&&s.jsx(eg,{user:c,word:w,onSave:E,onClose:()=>j(null),onSwitchToView:()=>{j(null),y(w)}}),O&&L&&s.jsx(ag,{word:L,isQuickFire:se,sessionPosition:se?{current:G+1,total:o.length}:void 0,onPrevWord:()=>x(b=>({...b,current:Math.max(0,b.current-1)})),onClose:()=>{se?B():N(!1)},onComplete:F,skipSetup:U})]})},gs=(l,c,u)=>{console.group(`[SRS DEBUG] Grading "${c.word}" as ${l}`),console.log("Word BEFORE update:",{interval:c.interval,consecutiveCorrect:c.consecutiveCorrect,nextReview:new Date(c.nextReview).toLocaleString(),lastGrade:c.lastGrade}),console.log("Word AFTER update:",{interval:u.interval,consecutiveCorrect:u.consecutiveCorrect,nextReview:new Date(u.nextReview).toLocaleString(),lastGrade:u.lastGrade}),console.groupEnd()},_v=({user:l,sessionWords:c,sessionFocus:u,sessionType:o,onUpdate:f,onBulkUpdate:d,onComplete:m,onRetry:x})=>{const{showToast:g}=el(),h=c,S=_.useRef(null),[y,w]=_.useState(new Set),[j,O]=_.useState(()=>{const Z=bs("vocab_pro_session_progress",null);return Z&&typeof Z.current=="number"&&typeof Z.max=="number"&&Z.current<=Z.max&&Z.max<c.length?Z:{current:0,max:0}}),[N,L]=_.useState(()=>bs("vocab_pro_session_outcomes",{})),[I,Q]=_.useState(new Map),{current:B,max:X}=j,[D,F]=_.useState(!1),[W,P]=_.useState(null),[T,K]=_.useState(null),[U,G]=_.useState(o==="random_test"),[ne,se]=_.useState(!1),fe=h[B],E=_.useMemo(()=>!(fe!=null&&fe.lastReview),[fe]),ee=_.useRef(I);_.useEffect(()=>{ee.current=I},[I]);const oe=_.useRef(D);_.useEffect(()=>{oe.current=D},[D]),_.useEffect(()=>{const Z=c.map(le=>le.id).sort().join(",");(S.current===null||S.current!==Z)&&(S.current=Z,w(new Set(c.filter(le=>!le.lastReview).map(le=>le.id))),O({current:0,max:0}),L({}),F(!1),Q(new Map),sessionStorage.removeItem("vocab_pro_session_progress"),sessionStorage.removeItem("vocab_pro_session_outcomes"))},[c]),_.useEffect(()=>{sessionStorage.setItem("vocab_pro_session_progress",JSON.stringify(j))},[j]),_.useEffect(()=>{sessionStorage.setItem("vocab_pro_session_outcomes",JSON.stringify(N))},[N]),_.useEffect(()=>{P(null),K(null),G(o==="random_test"),se(!1)},[B,o]);const pe=_.useCallback(async()=>{const Z=Array.from(ee.current.values());Z.length!==0&&(await d(Z),Q(new Map))},[d]);_.useEffect(()=>()=>{!oe.current&&ee.current.size>0&&pe()},[pe]),_.useEffect(()=>{D&&I.size>0&&pe()},[D,pe,I.size]);const de=()=>{if(B<h.length-1){const Z=B+1;O(le=>({current:Z,max:Math.max(le.max,Z)}))}else F(!0)},b=async Z=>{if(!fe)return;L(te=>({...te,[fe.id]:Z}));const le=gi(fe,Z);gs(Z,fe,le),Q(te=>new Map(te).set(le.id,le)),de()},C=()=>{se(!0),G(!0)},M=()=>{se(!1),G(!0)},$=async(Z,le,te=!1,xe)=>{if(G(!1),!fe)return;let ce={...fe};if(le){const me=le.PRONUNCIATION===!1,be=le.IPA_QUIZ===!1;(me||be)&&!ce.needsPronunciationFocus&&(ce.needsPronunciationFocus=!0,g(`"${ce.word}" marked for pronunciation focus.`,"info"))}if(ne&&xe){const me=xe.tested-xe.correct;let be=_e.FORGOT;me===0?be=_e.EASY:me===1&&(be=_e.HARD),L(ke=>({...ke,[fe.id]:be}));const Ne=gi(ce,be);gs(be,fe,Ne),le&&(Ne.lastTestResults={...Ne.lastTestResults||{},...le}),Ne.masteryScore=Ot(Ne),Q(ke=>new Map(ke).set(Ne.id,Ne)),se(!1),de();return}if(o==="random_test"){let me=te?"GAVE_UP":Z===_e.EASY?"PASS":"FAIL";L(Ne=>({...Ne,[fe.id]:me}));const be=gi(ce,Z);gs(Z,fe,be),le&&(be.lastTestResults={...be.lastTestResults||{},...le}),be.masteryScore=Ot(be),Q(Ne=>new Map(Ne).set(be.id,be)),te?F(!0):de()}else{const me={...ce};le&&(me.lastTestResults={...me.lastTestResults||{},...le}),me.masteryScore=Ot(me),await f(me)}},re=()=>{S.current=null,x()},V=()=>{F(!0)};return s.jsx(Tv,{user:l,initialWords:c,sessionWords:h,sessionType:o,newWordIds:y,progress:j,setProgress:O,sessionOutcomes:N,sessionFinished:D,wordInModal:W,setWordInModal:P,editingWordInModal:T,setEditingWordInModal:K,isTesting:U,setIsTesting:G,currentWord:fe,isNewWord:E,onUpdate:f,onComplete:m,nextItem:de,handleReview:b,handleTestComplete:$,handleRetry:re,handleEndSession:V,handleQuickReview:C,handleManualPractice:M,isQuickReviewMode:ne})},Cv=Object.freeze(Object.defineProperty({__proto__:null,default:_v,logSrsUpdate:gs},Symbol.toStringTag,{value:"Module"})),Ov=({score:l})=>{const f=2*Math.PI*16,d=f-l/100*f;let m="text-neutral-400";return l>=80?m="text-green-500":l>=50?m="text-yellow-500":l>0&&(m="text-orange-500"),s.jsxs("div",{className:"relative flex items-center justify-center",style:{width:36,height:36},children:[s.jsxs("svg",{className:"absolute",width:36,height:36,children:[s.jsx("circle",{className:"text-neutral-100",stroke:"currentColor",strokeWidth:4,fill:"transparent",r:16,cx:36/2,cy:36/2}),s.jsx("circle",{className:m,stroke:"currentColor",strokeWidth:4,fill:"transparent",r:16,cx:36/2,cy:36/2,strokeDasharray:f,strokeDashoffset:d,strokeLinecap:"round",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"stroke-dashoffset 0.5s ease-out"}})]}),s.jsx("span",{className:`text-[10px] font-black ${m}`,children:l})]})},kv=({word:l})=>{const c=l.masteryScore??0;return s.jsxs("div",{className:"relative group/score",children:[s.jsx(Ov,{score:c}),s.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-max px-3 py-1.5 bg-neutral-800 text-white text-[10px] font-black rounded-lg opacity-0 group-hover/score:opacity-100 transition-opacity pointer-events-none z-10 uppercase tracking-wider",children:["Mastery Score",s.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 w-2 h-2 bg-neutral-800 rotate-45"})]})]})},Rv=({register:l})=>{if(!l||l==="neutral"||l==="raw")return null;const c={academic:"bg-purple-100 text-purple-800 border-purple-200",casual:"bg-sky-100 text-sky-800 border-sky-200"},u={academic:"ACADEMIC",casual:"CASUAL"};return s.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase border ${c[l]}`,children:u[l]})},Dm=({label:l,options:c,selectedId:u,onSelect:o,buttonClass:f,disabled:d=!1})=>{const[m,x]=_.useState(!1),g=_.useRef(null),h=c.find(S=>S.id===u)||c[0];return _.useEffect(()=>{const S=y=>{g.current&&!g.current.contains(y.target)&&x(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),s.jsxs("div",{className:"relative",ref:g,children:[s.jsxs("button",{onClick:()=>x(!m),className:f,disabled:d,children:[l&&s.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-neutral-400",children:l}),h.icon,s.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:h.label}),s.jsx(yi,{size:14,className:`transition-transform duration-200 ${m?"rotate-180":""}`})]}),m&&!d&&s.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-2xl shadow-xl border border-neutral-100 z-50 p-2 overflow-hidden animate-in fade-in zoom-in-95 flex flex-col gap-1",children:c.map(S=>s.jsxs("button",{type:"button",onClick:()=>{o(S.id),x(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-xs font-bold transition-colors ${u===S.id?"bg-neutral-100 text-neutral-900":"text-neutral-600 hover:bg-neutral-50 hover:text-neutral-900"}`,children:[S.icon,s.jsx("span",{children:S.label})]},S.id))})]})},Iv=l=>{const c={academic:"bg-purple-100 text-purple-700 border-purple-200",intensified:"bg-rose-100 text-rose-700 border-rose-200",softened:"bg-sky-100 text-sky-700 border-sky-200",casual:"bg-blue-100 text-blue-700 border-blue-200",synonym:"bg-teal-100 text-teal-700 border-teal-200",default:"bg-neutral-100 text-neutral-600 border-neutral-200"},u=c[l]||c.default;return s.jsx("span",{className:`px-1.5 py-0.5 rounded text-[8px] font-black uppercase border ${u}`,children:l})},Cu=({label:l,checked:c,onChange:u})=>s.jsxs("button",{onClick:u,className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-neutral-50 text-xs font-bold text-neutral-700 transition-colors",children:[s.jsx("span",{className:"flex items-center gap-2",children:l}),c?s.jsx(Ga,{size:14,className:"text-green-500"}):s.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-neutral-200"})]}),Ou=({title:l,count:c,children:u,icon:o})=>{const[f,d]=_.useState(!1);return c===0?s.jsxs("div",{className:"flex items-center justify-between text-left p-3 bg-neutral-50/30 border border-neutral-100 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[o,s.jsx("p",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest",children:l})]}),s.jsx("span",{className:"text-[9px] font-bold text-neutral-400 italic",children:"None"})]}):s.jsxs("div",{className:"bg-white border border-neutral-100 rounded-xl transition-all shadow-sm",children:[s.jsxs("button",{onClick:()=>d(!f),className:"w-full flex items-center justify-between text-left p-3 hover:bg-neutral-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[o,s.jsx("p",{className:"text-[10px] font-black text-neutral-500 uppercase tracking-widest",children:l}),s.jsx("span",{className:"text-[9px] font-bold text-neutral-500 bg-neutral-100 px-1.5 py-0.5 rounded-full border border-neutral-200",children:c})]}),f?s.jsx(yi,{size:14,className:"text-neutral-400"}):s.jsx(Yr,{size:14,className:"text-neutral-400"})]}),f&&s.jsx("div",{className:"p-3 pt-2 mt-2 border-t border-neutral-100 animate-in fade-in zoom-in-95",children:u})]})},Mv=({word:l,onClose:c,onChallengeRequest:u,onMimicRequest:o,onEditRequest:f,onUpdate:d,linkedUnits:m,relatedWords:x,relatedByGroup:g,onNavigateToWord:h,onAddVariantToLibrary:S,addingVariant:y,existingVariants:w,isViewOnly:j=!1,appliedAccent:O})=>{var xe,ce,me,be,Ne,ke,we,at,St,rt,nt,jt,Mt;const[N,L]=_.useState(()=>bs("ielts_pro_word_view_settings",{showHidden:!1,highlightFailed:!0,isLearnView:!0})),[I,Q]=_.useState(!1),[B,X]=_.useState(new Set),[D,F]=_.useState(new Set),W=_.useRef(null),P=({title:R,icon:Se,children:Te,className:Ie})=>s.jsxs("div",{className:`space-y-2 ${Ie||""}`,children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-black uppercase tracking-widest text-neutral-400 border-b border-neutral-100 pb-1 mb-2",children:[s.jsx(Se,{size:12}),s.jsx("span",{children:R})]}),Te]});_.useEffect(()=>{Ph("ielts_pro_word_view_settings",N)},[N]);const T=(R,Se)=>L(Te=>({...Te,[R]:Se}));_.useEffect(()=>{const R=Se=>{W.current&&!W.current.contains(Se.target)&&Q(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const K=R=>{X(Se=>{const Te=new Set(Se);return Te.has(R)?Te.delete(R):Te.add(R),Te})},U=R=>{F(Se=>{const Te=new Set(Se);return Te.has(R)?Te.delete(R):Te.add(R),Te})},G=[{id:"NEW",label:"New",icon:s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"})},{id:_e.LEARNED,label:"Learned",icon:s.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"})},{id:_e.FORGOT,label:"Forgot",icon:s.jsx("div",{className:"w-3 h-3 rounded-full bg-rose-500"})},{id:_e.HARD,label:"Hard",icon:s.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})},{id:_e.EASY,label:"Easy",icon:s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})}],ne=l.lastReview&&l.lastGrade||"NEW",se=R=>{if(!j)if(R==="NEW"){const Se=Hh(l);gs("RESET",l,Se),d(Se)}else{const Se=gi(l,R);gs(R,l,Se),d(Se)}},fe=[{id:Xe.RAW,label:"Raw",icon:s.jsx(Wm,{size:14,className:"text-neutral-400"})},{id:Xe.REFINED,label:"Needs Review",icon:s.jsx(ih,{size:14,className:"text-indigo-500"})},{id:Xe.VERIFIED,label:"Verified",icon:s.jsx(th,{size:14,className:"text-emerald-500"})},{id:Xe.FAILED,label:"Incorrect",icon:s.jsx(ah,{size:14,className:"text-rose-500"})}],E=R=>{d({...l,quality:R})},ee=(R,Se,Te,Ie)=>{const Qe=Array.isArray(Se)?Se.filter(Me=>N.showHidden||!Me.isIgnored):[];return Qe.length===0?null:s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:`text-[8px] font-black uppercase text-${Te}-600 tracking-widest ml-1`,children:R}),s.jsx("div",{className:"flex flex-col gap-1",children:Qe.map((Me,ht)=>{var lt,Lt;const gt=w.has(Me.word.toLowerCase()),Bt=`WORD_FAMILY:${Ie}:${Me.word.toLowerCase().trim()}`,wa=l.lastTestResults&&Bt in l.lastTestResults,wn=wa?l.lastTestResults[Bt]:void 0;let xt=!1;if(wa)xt=wn===!1;else{const yt=`WORD_FAMILY_${Ie.toUpperCase()}`,Na=(lt=l.lastTestResults)==null?void 0:lt[yt];(Na===!1||Na===void 0&&((Lt=l.lastTestResults)==null?void 0:Lt.WORD_FAMILY)===!1)&&(xt=!0)}const je=N.highlightFailed&&xt&&!Me.isIgnored,He=Me.isIgnored;let ut="bg-white border-neutral-100 hover:border-neutral-300";return je?ut="bg-red-50 border-red-200 hover:border-red-300":He&&(ut="bg-neutral-50/50 border-neutral-100 opacity-60"),s.jsxs("div",{className:`flex items-center justify-between px-2 py-1.5 rounded-lg border group transition-colors ${ut}`,children:[s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:`text-[10px] font-bold truncate ${je?"text-red-700":"text-neutral-900"} ${He?"line-through decoration-neutral-400":""}`,children:Me.word}),s.jsx("button",{onClick:yt=>{yt.stopPropagation(),Ut(Me.word)},className:"text-neutral-300 hover:text-indigo-500 transition-colors p-0.5",children:s.jsx(va,{size:10})}),je&&s.jsx(Ha,{size:10,className:"text-red-500 fill-red-100 shrink-0"})]}),s.jsx("span",{className:`text-[8px] font-mono ${je?"text-red-400":"text-neutral-400"}`,children:Me.ipa})]}),s.jsx("button",{type:"button",disabled:y===Me.word||gt,onClick:()=>S(Me,"family"),className:`p-1 rounded-md transition-all ${gt?"text-green-500 cursor-default":"text-neutral-300 hover:text-neutral-900 hover:bg-neutral-100"}`,children:y===Me.word?s.jsx(na,{size:10,className:"animate-spin"}):gt?s.jsx(Ga,{size:10}):s.jsx(mn,{size:10})})]},ht)})})]})},oe=c1(l.nextReview),pe=!!(l.wordFamily&&((xe=l.wordFamily.nouns)!=null&&xe.length||(ce=l.wordFamily.verbs)!=null&&ce.length||(me=l.wordFamily.adjs)!=null&&me.length||(be=l.wordFamily.advs)!=null&&be.length)),de=(l.prepositions||[]).filter(R=>N.showHidden||!R.isIgnored),b=(l.collocationsArray||[]).filter(R=>N.showHidden||!R.isIgnored),C=(l.idiomsList||[]).filter(R=>N.showHidden||!R.isIgnored),M=(l.paraphrases||[]).filter(R=>N.showHidden||!R.isIgnored),$=N.highlightFailed&&((Ne=l.lastTestResults)==null?void 0:Ne.SPELLING)===!1,re=N.highlightFailed&&(((ke=l.lastTestResults)==null?void 0:ke.IPA_QUIZ)===!1||((we=l.lastTestResults)==null?void 0:we.PRONUNCIATION)===!1),V=[l.isIdiom,l.isCollocation,l.isPhrasalVerb,l.isIrregular].filter(Boolean).length,Z=(((at=l.tags)==null?void 0:at.length)||0)+V,le=((St=l.groups)==null?void 0:St.length)||0,te=O||"US";return s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[s.jsxs("header",{className:"px-8 py-4 border-b border-neutral-100 bg-neutral-50/30 flex flex-col gap-1 shrink-0",children:[s.jsxs("div",{className:"flex justify-between items-start w-full gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:`text-2xl font-black tracking-tight leading-none ${$?"text-red-600":"text-neutral-900"}`,children:l.word}),$&&s.jsx(Ha,{size:16,className:"text-red-500 fill-red-100"}),!l.isPassive&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:R=>{R.stopPropagation(),Ut(l.word)},className:"p-2 text-neutral-400 hover:bg-neutral-100 hover:text-neutral-900 rounded-full transition-colors",title:"Pronounce",children:s.jsx(va,{size:18})}),s.jsx("button",{onClick:R=>{R.stopPropagation(),o()},className:"p-2 text-neutral-400 hover:bg-neutral-100 hover:text-neutral-900 rounded-full transition-colors",title:"Mimic",children:s.jsx(vs,{size:18})})]}),s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 text-neutral-400 hover:bg-neutral-100 hover:text-neutral-900 rounded-full transition-colors",title:"Show meaning",children:s.jsx(Sl,{size:18})}),s.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-max max-w-xs px-3 py-2 bg-neutral-800 text-white text-xs font-bold rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:[l.meaningVi,s.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 w-2 h-2 bg-neutral-800 rotate-45"})]})]}),s.jsx(kv,{word:l}),s.jsxs("div",{className:"flex items-center gap-2.5 text-neutral-400",children:[l.isIdiom&&s.jsxs("div",{className:"relative group flex items-center",children:[s.jsx(Si,{size:18,className:"cursor-help"}),s.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-max px-3 py-1.5 bg-neutral-800 text-white text-[10px] font-black rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 uppercase tracking-wider",children:["Idiom",s.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 w-2 h-2 bg-neutral-800 rotate-45"})]})]}),l.isPhrasalVerb&&s.jsxs("div",{className:"relative group flex items-center",children:[s.jsx(Yu,{size:18,className:"cursor-help"}),s.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-max px-3 py-1.5 bg-neutral-800 text-white text-[10px] font-black rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 uppercase tracking-wider",children:["Phrasal Verb",s.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 w-2 h-2 bg-neutral-800 rotate-45"})]})]}),l.isCollocation&&s.jsxs("div",{className:"relative group flex items-center",children:[s.jsx(bi,{size:18,className:"cursor-help"}),s.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-max px-3 py-1.5 bg-neutral-800 text-white text-[10px] font-black rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 uppercase tracking-wider",children:["Collocation",s.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 w-2 h-2 bg-neutral-800 rotate-45"})]})]}),l.isStandardPhrase&&s.jsxs("div",{className:"relative group flex items-center",children:[s.jsx(Xr,{size:18,className:"cursor-help"}),s.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-max px-3 py-1.5 bg-neutral-800 text-white text-[10px] font-black rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 uppercase tracking-wider",children:["Phrase",s.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 w-2 h-2 bg-neutral-800 rotate-45"})]})]})]})]})}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(Dm,{options:G,selectedId:ne,onSelect:se,buttonClass:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg hover:bg-neutral-100 transition-colors shadow-sm border border-neutral-200",disabled:j}),s.jsxs("div",{className:"relative",ref:W,children:[s.jsx("button",{onClick:()=>Q(!I),className:`p-2 rounded-lg transition-colors ${I?"bg-neutral-900 text-white shadow-sm":"bg-white border border-neutral-200 text-neutral-400 hover:text-neutral-900"}`,title:"View Options",children:s.jsx(vi,{size:16})}),I&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-2xl shadow-xl border border-neutral-100 z-50 p-2 overflow-hidden animate-in fade-in zoom-in-95 flex flex-col gap-1",children:[s.jsx("div",{className:"px-3 py-2 text-[9px] font-black text-neutral-400 uppercase tracking-widest border-b border-neutral-50",children:"View Options"}),s.jsx(Cu,{label:"Learn View",checked:N.isLearnView,onChange:()=>T("isLearnView",!N.isLearnView)}),s.jsx(Cu,{label:"Show Ignored Items",checked:N.showHidden,onChange:()=>T("showHidden",!N.showHidden)}),s.jsx(Cu,{label:"Highlight Failed",checked:N.highlightFailed,onChange:()=>T("highlightFailed",!N.highlightFailed)})]})]}),!j&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:u,className:"p-2 bg-amber-100 text-amber-600 hover:text-amber-900 rounded-lg hover:bg-amber-200 transition-colors",title:"Practice",children:s.jsx(Qu,{size:16})}),s.jsx("button",{onClick:f,className:"p-2 bg-neutral-100 text-neutral-600 hover:text-neutral-900 rounded-lg hover:bg-neutral-200 transition-colors",children:s.jsx(Ky,{size:16})})]}),s.jsx("button",{onClick:c,className:"p-2 bg-white border border-neutral-200 text-neutral-400 hover:text-neutral-900 rounded-lg transition-colors",children:s.jsx(vt,{size:16})})]})]}),s.jsxs("div",{className:"flex justify-between items-end w-full gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("p",{className:`text-sm font-mono font-medium ${re?"text-red-500":"text-neutral-500"}`,children:l.ipa||"/?/"}),l.pronSim&&l.pronSim!=="same"&&s.jsxs(s.Fragment,{children:[te==="US"&&l.ipaUk&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-mono text-neutral-400",children:["(UK: ",l.ipaUk,")"]}),s.jsx("span",{className:`text-[9px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded-md border ${l.pronSim==="near"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:l.pronSim==="near"?"Near Sound":"Different Sound"})]}),te==="UK"&&l.ipaUs&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-mono text-neutral-400",children:["(US: ",l.ipaUs,")"]}),s.jsx("span",{className:`text-[9px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded-md border ${l.pronSim==="near"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:l.pronSim==="near"?"Near Sound":"Different Sound"})]})]}),s.jsx(Rv,{register:l.register})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Dm,{options:fe,selectedId:l.quality,onSelect:R=>E(R),buttonClass:"flex items-center gap-2 p-1 hover:bg-neutral-100 rounded-lg transition-colors",disabled:j}),!l.isPassive&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-neutral-500",title:`Next Review: ${oe.label}`,children:[s.jsx(Ym,{size:14}),s.jsx("span",{className:`text-[11px] font-black uppercase ${oe.urgency==="due"?"text-rose-500":"text-green-600"}`,children:oe.label})]}),l.isPassive&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[8px] font-black uppercase bg-neutral-100 text-neutral-500 tracking-wider",children:"Archived"})]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar px-6 pt-4 pb-8",children:[l.quality!==Xe.VERIFIED&&s.jsxs("div",{className:"mb-6 p-4 rounded-2xl bg-indigo-50/50 border border-indigo-100 text-indigo-700 text-xs font-medium flex items-start gap-3",children:[s.jsx(Zu,{size:16,className:"shrink-0 mt-0.5"}),s.jsx("p",{children:'This word is currently hidden from study sessions and games. Set status to "Verified" to begin practice.'})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.note&&s.jsx("div",{className:"md:col-span-4",children:s.jsx("p",{className:"text-sm text-neutral-700 bg-yellow-50/50 p-4 rounded-xl border border-yellow-100 italic leading-relaxed whitespace-pre-wrap",children:l.note})}),s.jsxs("div",{className:"space-y-1 md:col-span-4",children:[s.jsxs("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest flex items-center gap-1",children:[s.jsx(Sl,{size:10})," Definition"]}),s.jsx("div",{className:"p-4 bg-white rounded-xl border border-neutral-100",children:s.jsx("p",{className:"text-sm font-medium text-neutral-700 leading-relaxed",children:l.meaningVi})})]}),s.jsx(P,{title:"Examples",icon:Si,className:"md:col-span-4",children:l.example?s.jsx("div",{className:"flex flex-col gap-2",children:l.example.split(`
`).filter(R=>R.trim()!=="").map((R,Se)=>s.jsxs("div",{className:"flex items-start gap-2 px-3 py-2 bg-neutral-50 border border-neutral-100 rounded-xl group hover:border-neutral-200 transition-all",children:[s.jsx("span",{className:"text-sm font-medium text-neutral-700 leading-relaxed flex-1 select-text cursor-text",children:R}),s.jsx("button",{onClick:Te=>{Te.stopPropagation(),Ut(R)},className:"p-1.5 text-neutral-400 hover:text-indigo-500 hover:bg-white rounded-lg transition-all shrink-0",title:"Listen",children:s.jsx(va,{size:14})})]},Se))}):s.jsx("div",{className:"text-[10px] text-neutral-300 italic px-1",children:"No examples added."})}),s.jsxs("div",{className:"space-y-1 md:col-span-1",children:[s.jsxs("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest flex items-center gap-1",children:[s.jsx(qu,{size:10})," Prepositions"]}),de.length>0?s.jsx("div",{className:"bg-white border border-neutral-100 p-3 rounded-xl grid grid-cols-1 gap-y-1",children:de.map((R,Se)=>{var Me,ht;const Te=`PREPOSITION_QUIZ:${R.prep}`,Ie=(Me=l.lastTestResults)==null?void 0:Me[Te],Qe=N.highlightFailed&&(Ie===!1||Ie===void 0&&((ht=l.lastTestResults)==null?void 0:ht.PREPOSITION_QUIZ)===!1)&&!R.isIgnored;return s.jsxs("div",{className:`text-xs flex items-center gap-2 ${R.isIgnored?"opacity-50":""}`,children:[Qe&&s.jsx(Ha,{size:10,className:"text-red-500"}),s.jsx("span",{className:`font-bold ${Qe?"text-red-700":"text-neutral-900"} ${R.isIgnored?"line-through":""}`,children:R.prep}),s.jsx("span",{className:`font-medium ${Qe?"text-red-400":"text-neutral-500"}`,children:R.usage}),R.usage&&s.jsx("button",{onClick:gt=>{gt.stopPropagation(),Ut(R.usage)},className:"text-neutral-300 hover:text-indigo-500 transition-colors p-0.5",children:s.jsx(va,{size:10})})]},Se)})}):s.jsx("div",{className:"text-[10px] text-neutral-300 italic px-1",children:"No prepositions."})]}),s.jsxs("div",{className:"space-y-1 md:col-span-3",children:[s.jsxs("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest flex items-center gap-1",children:[s.jsx(Jm,{size:10})," Word Family"]}),s.jsx("div",{className:"p-3 bg-neutral-50 rounded-xl border border-neutral-100",children:pe?s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:[ee("Nouns",(rt=l.wordFamily)==null?void 0:rt.nouns,"blue","nouns"),ee("Verbs",(nt=l.wordFamily)==null?void 0:nt.verbs,"green","verbs"),ee("Adjectives",(jt=l.wordFamily)==null?void 0:jt.adjs,"orange","adjs"),ee("Adverbs",(Mt=l.wordFamily)==null?void 0:Mt.advs,"purple","advs")]}):s.jsx("span",{className:"text-[10px] text-neutral-300 italic",children:"No family data available."})})]}),s.jsxs("div",{className:"space-y-1 md:col-span-4",children:[s.jsxs("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest flex items-center gap-1",children:[s.jsx(bi,{size:10})," Collocations"]}),b.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 bg-white border border-neutral-100 p-3 rounded-xl",children:b.map((R,Se)=>{var gt,Bt;const Te=w.has(R.text.toLowerCase()),Ie=`COLLOCATION_QUIZ:${R.text}`,Qe=(gt=l.lastTestResults)==null?void 0:gt[Ie];let Me=!1;N.highlightFailed&&!R.isIgnored&&(Qe===!1||Qe===void 0&&((Bt=l.lastTestResults)==null?void 0:Bt.COLLOCATION_QUIZ)===!1)&&(Me=!0);let ht="bg-indigo-50/50 border-indigo-100 text-indigo-900";return Me?ht="bg-red-50 border-red-200 text-red-700":R.isIgnored&&(ht="bg-neutral-50 border-neutral-100 text-neutral-400"),s.jsxs("div",{className:`flex items-start justify-between gap-2 px-3 py-2 rounded-lg border text-xs font-bold transition-colors ${ht}`,children:[s.jsxs("div",{className:"flex-1 overflow-hidden",children:[Me&&s.jsx(Ha,{size:12,className:"text-red-500 shrink-0"}),s.jsx("span",{className:`truncate ${R.isIgnored?"line-through":""}`,title:R.text,children:R.text}),R.d&&!R.isIgnored&&s.jsx("div",{className:"text-[10px] italic text-neutral-400 mt-0.5 normal-case font-medium",children:R.d})]}),s.jsx("button",{onClick:wa=>{wa.stopPropagation(),Ut(R.text)},className:"text-neutral-300 hover:text-indigo-500 transition-colors p-0.5",children:s.jsx(va,{size:10})}),s.jsx("button",{type:"button",disabled:y===R.text||Te||R.isIgnored,onClick:()=>S({word:R.text,ipa:""},"collocation"),className:`p-1 rounded-md transition-all shrink-0 ${Te?"text-green-500 cursor-default":R.isIgnored?"text-neutral-300 cursor-not-allowed":"text-neutral-400 hover:text-neutral-900 hover:bg-white/50"}`,title:Te?"Already in library":"Add to library",children:y===R.text?s.jsx(na,{size:12,className:"animate-spin"}):Te?s.jsx(Ga,{size:12}):s.jsx(mn,{size:12})})]},Se)})}):s.jsx("div",{className:"text-[10px] text-neutral-300 italic px-1",children:"No collocations."})]}),s.jsxs("div",{className:"space-y-1 md:col-span-4",children:[s.jsxs("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest flex items-center gap-1",children:[s.jsx(xs,{size:10,className:"text-amber-500"})," Word Power & Variations"]}),M.length>0?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:M.map((R,Se)=>{var gt,Bt;const Te=w.has(R.word.toLowerCase()),Ie=`PARAPHRASE_QUIZ:${R.word}`,Qe=(gt=l.lastTestResults)==null?void 0:gt[Ie],Me=N.highlightFailed&&(Qe===!1||Qe===void 0&&((Bt=l.lastTestResults)==null?void 0:Bt.PARAPHRASE_QUIZ)===!1)&&!R.isIgnored,ht=R.isIgnored;return s.jsxs("div",{className:`flex items-start justify-between gap-2 border px-3 py-2 rounded-xl shadow-sm ${Me?"bg-red-50 border-red-200":ht?"bg-neutral-50 border-neutral-100 opacity-60":"bg-white border-neutral-100"}`,children:[s.jsxs("div",{className:"flex-1 overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[Iv(R.tone),Me&&s.jsx(Ha,{size:12,className:"text-red-500 fill-red-100"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:`text-xs font-bold ${Me?"text-red-800":"text-neutral-800"} ${ht?"line-through":""}`,children:R.word}),s.jsx("button",{onClick:wa=>{wa.stopPropagation(),Ut(R.word)},className:"text-neutral-300 hover:text-indigo-500 transition-colors p-0.5",children:s.jsx(va,{size:10})})]}),s.jsx("div",{className:`text-[10px] italic truncate ${Me?"text-red-400":"text-neutral-400"}`,title:R.context,children:R.context})]}),s.jsx("button",{type:"button",disabled:y===R.word||Te,onClick:()=>S({word:R.word,ipa:""},"paraphrase"),className:`p-1 rounded-md transition-all mt-1 shrink-0 ${Te?"text-green-500 cursor-default":"text-neutral-300 hover:text-neutral-900 hover:bg-neutral-100"}`,children:y===R.word?s.jsx(na,{size:10,className:"animate-spin"}):Te?s.jsx(Ga,{size:10}):s.jsx(mn,{size:10})})]},Se)})}):s.jsx("div",{className:"text-[10px] text-neutral-300 italic",children:"No variations available."})]}),s.jsxs("div",{className:"space-y-1 md:col-span-4",children:[s.jsxs("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest flex items-center gap-1",children:[s.jsx(Xr,{size:10})," Related Idioms"]}),C.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 bg-white border border-neutral-100 p-3 rounded-xl",children:C.map((R,Se)=>{var gt,Bt;const Te=w.has(R.text.toLowerCase()),Ie=`IDIOM_QUIZ:${R.text}`,Qe=(gt=l.lastTestResults)==null?void 0:gt[Ie];let Me=!1;N.highlightFailed&&!R.isIgnored&&(Qe===!1||Qe===void 0&&((Bt=l.lastTestResults)==null?void 0:Bt.IDIOM_QUIZ)===!1)&&(Me=!0);let ht="bg-amber-50/50 border-amber-100 text-amber-900";return Me?ht="bg-red-50 border-red-200 text-red-700":R.isIgnored&&(ht="bg-neutral-50 border-neutral-100 text-neutral-400"),s.jsxs("div",{className:`flex items-start justify-between gap-2 px-3 py-2 rounded-lg border text-xs font-bold transition-colors ${ht}`,children:[s.jsxs("div",{className:"flex-1 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[Me&&s.jsx(Ha,{size:12,className:"text-red-500 shrink-0"}),s.jsx("span",{className:`truncate ${R.isIgnored?"line-through":""}`,title:R.text,children:R.text}),s.jsx("button",{onClick:wa=>{wa.stopPropagation(),Ut(R.text)},className:"text-neutral-300 hover:text-indigo-500 transition-colors p-0.5",children:s.jsx(va,{size:10})})]}),R.d&&!R.isIgnored&&s.jsx("div",{className:"text-[10px] italic text-neutral-400 mt-0.5 normal-case font-medium",children:R.d})]}),s.jsx("button",{type:"button",disabled:y===R.text||Te||R.isIgnored,onClick:()=>S({word:R.text,ipa:""},"idiom"),className:`p-1 rounded-md transition-all shrink-0 ${Te?"text-green-500 cursor-default":R.isIgnored?"text-neutral-300 cursor-not-allowed":"text-neutral-400 hover:text-neutral-900 hover:bg-white/50"}`,title:Te?"Already in library":"Add to library",children:y===R.text?s.jsx(na,{size:12,className:"animate-spin"}):Te?s.jsx(Ga,{size:12}):s.jsx(mn,{size:12})})]},Se)})}):s.jsx("div",{className:"text-[10px] text-neutral-300 italic px-1",children:"No related idioms found."})]}),!N.isLearnView&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"pt-8 space-y-4 md:col-span-4",children:[s.jsx(Ou,{title:"Tags & Flags",count:Z,icon:s.jsx(nh,{size:12,className:"text-neutral-400"}),children:s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[l.isIdiom&&s.jsx("span",{className:"px-2 py-1 rounded-md bg-amber-50 text-amber-700 text-[9px] font-black border border-amber-100",children:"Idiom"}),l.isCollocation&&s.jsx("span",{className:"px-2 py-1 rounded-md bg-indigo-50 text-indigo-700 text-[9px] font-black border border-indigo-100",children:"Colloc."}),l.isPhrasalVerb&&s.jsx("span",{className:"px-2 py-1 rounded-md bg-blue-50 text-blue-700 text-[9px] font-black border border-blue-100",children:"Phrasal"}),l.isIrregular&&s.jsx("span",{className:"px-2 py-1 rounded-md bg-orange-50 text-orange-700 text-[9px] font-black border border-orange-100",children:"Irreg."}),l.tags&&l.tags.length>0&&l.tags.map(R=>s.jsxs("span",{className:"px-2 py-1 rounded-md bg-neutral-100 text-neutral-600 text-[9px] font-bold border border-neutral-200",children:["#",R]},R))]})}),s.jsx(Ou,{title:"User Groups",count:le,icon:s.jsx(sh,{size:12,className:"text-neutral-400"}),children:s.jsx("div",{className:"flex flex-wrap gap-1.5",children:l.groups&&l.groups.length>0&&l.groups.map(R=>s.jsx("span",{className:"px-2 py-1 rounded-md bg-blue-50 text-blue-700 text-[9px] font-bold border border-blue-200",children:R},R))})}),s.jsx(Ou,{title:"Linked Units",count:m.length,icon:s.jsx($m,{size:12,className:"text-neutral-400"}),children:s.jsx("div",{className:"flex flex-wrap gap-1.5",children:m.map(R=>s.jsx("span",{className:"px-2 py-1 bg-white border border-neutral-200 rounded-lg text-[9px] font-bold text-neutral-600 shadow-sm max-w-full truncate",children:R.name},R.id))})}),s.jsxs("div",{className:"space-y-2 pt-2 border-t border-neutral-100",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest flex items-center gap-1",children:"Related by Tag"}),Object.keys(x).length>0?s.jsx("div",{className:"space-y-2",children:Object.keys(x).map(R=>{const Se=x[R],Te=B.has(R);return s.jsxs("div",{className:"bg-neutral-50 border border-neutral-100 rounded-xl p-2 transition-all",children:[s.jsxs("button",{onClick:()=>K(R),className:"w-full flex items-center justify-between text-left",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"text-[9px] font-bold text-neutral-500 uppercase",children:["#",R]}),s.jsxs("span",{className:"text-[9px] font-bold text-neutral-400",children:["(",Se.length,")"]})]}),Te?s.jsx(yi,{size:14,className:"text-neutral-400"}):s.jsx(Yr,{size:14,className:"text-neutral-400"})]}),Te&&s.jsx("div",{className:"pt-2 mt-2 border-t border-neutral-200 animate-in fade-in zoom-in-95",children:s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[Se.slice(0,20).map(Ie=>s.jsx("button",{onClick:()=>h(Ie),className:"px-2 py-1 bg-white border border-neutral-200 rounded-md text-xs font-bold text-neutral-700 hover:bg-neutral-100 hover:border-neutral-300 transition-colors",children:Ie.word},Ie.id)),Se.length>20&&s.jsxs("span",{className:"px-2 py-1 text-xs font-bold text-neutral-400",children:["...and ",Se.length-20," more"]})]})})]},R)})}):s.jsx("span",{className:"text-[10px] text-neutral-300 italic px-1",children:"No related words found."})]}),s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx("label",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest flex items-center gap-1",children:"Related by Group"}),Object.keys(g).length>0?s.jsx("div",{className:"space-y-2",children:Object.keys(g).map(R=>{const Se=g[R],Te=D.has(R);return s.jsxs("div",{className:"bg-neutral-50 border border-neutral-100 rounded-xl p-2 transition-all",children:[s.jsxs("button",{onClick:()=>U(R),className:"w-full flex items-center justify-between text-left",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-[9px] font-bold text-blue-500",children:R}),s.jsxs("span",{className:"text-[9px] font-bold text-neutral-400",children:["(",Se.length,")"]})]}),Te?s.jsx(yi,{size:14,className:"text-neutral-400"}):s.jsx(Yr,{size:14,className:"text-neutral-400"})]}),Te&&s.jsx("div",{className:"pt-2 mt-2 border-t border-neutral-200 animate-in fade-in zoom-in-95",children:s.jsx("div",{className:"flex flex-wrap gap-1.5",children:Se.map(Ie=>s.jsx("button",{onClick:()=>h(Ie),className:"px-2 py-1 bg-white border border-neutral-200 rounded-md text-xs font-bold text-neutral-700 hover:bg-neutral-100 hover:border-neutral-300 transition-colors",children:Ie.word},Ie.id))})})]},R)})}):s.jsx("span",{className:"text-[10px] text-neutral-300 italic px-1",children:"No related words found."})]})]})})]})]})]})})},Bm=l=>l.toLowerCase().replace(/[.,!?;:]/g,"").trim();function Lv(l,c){const u=l.toLowerCase(),o=c.toLowerCase(),f=[];let d=0,m=0,x=0;const g=(u.length+o.length)*2+100;for(;(d<u.length||m<o.length)&&x<g;)if(x++,d<u.length&&m<o.length&&u[d]===o[m])f.push({char:u[d],status:"correct"}),d++,m++;else if(d<u.length&&(m>=o.length||u[d]!==o[m])){const h=o.indexOf(u[d],m);h!==-1&&h-m<3?(m=h,f.push({char:u[d],status:"correct"}),d++,m++):(f.push({char:u[d],status:"wrong"}),d++)}else m++;return f}function zv(l,c){const u=l.split(/\s+/).filter(Boolean),o=Bm(c).split(/\s+/).filter(Boolean);let f=0,d=0;const m=u.map(g=>{const h=Bm(g);f+=h.length;let S=-1;if(o.forEach((y,w)=>{S===-1&&y===h&&(S=w)}),S===-1&&o.forEach((y,w)=>{S===-1&&y.length>=2&&(y.startsWith(h.substring(0,2))||h.startsWith(y.substring(0,2)))&&(S=w)}),S!==-1){const y=o[S];o.splice(S,1);const w=Lv(g,y),j=w.filter(N=>N.status==="correct").length;d+=j;const O=j===h.length?"correct":"near";return{word:g,status:O,chars:w}}return{word:g,status:"missing",chars:g.split("").map(y=>({char:y,status:"missing"}))}});return{score:f>0?Math.round(d/f*100):0,words:m}}const qr=3e3,ng=({target:l,onClose:c})=>{const[u,o]=_.useState(!1),f=_.useRef(!1),[d,m]=_.useState(""),[x,g]=_.useState(null),[h,S]=_.useState(null),[y,w]=_.useState(qr),j=_.useRef(new pd),O=_.useRef(null),N=_.useRef(Date.now()),{showToast:L}=el(),I=_.useCallback(async W=>{O.current&&(clearInterval(O.current),O.current=null),j.current.stop();const P=await nv();P&&g(P),o(!1),f.current=!1,S(zv(l,W))},[l]),Q=_.useCallback(()=>{N.current=Date.now(),w(qr)},[]),B=_.useCallback(W=>{O.current&&clearInterval(O.current),N.current=Date.now(),w(qr),O.current=setInterval(()=>{const T=Date.now()-N.current,K=Math.max(0,qr-T);w(K),K<=0&&f.current&&I(W)},50)},[I]);_.useEffect(()=>()=>{O.current&&clearInterval(O.current),j.current.stop()},[]);const X=async()=>{if(u)await I(d);else{m(""),S(null),g(null);try{await av(),o(!0),f.current=!0,Q(),B(""),j.current.start((W,P)=>{const T=W+P;m(T),Q()},W=>{f.current&&(m(W),I(W))})}catch(W){console.error(W),o(!1),f.current=!1}}},D=()=>{x&&new Audio(`data:${x.mimeType};base64,${x.base64}`).play()},F=()=>{const W=bs("vocab_pro_mimic_practice_queue",[]);if(W.some(T=>T.text===l)){L("Already in Pronunciation Queue","info");return}const P={id:`quick-save-${Date.now()}`,text:l,sourceWord:l.length>30?l.substring(0,30)+"...":l,type:"Quick Practice"};Ph("vocab_pro_mimic_practice_queue",[...W,P]),L("Saved to Pronunciation Page","success")};return s.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl border border-neutral-200 p-8 flex flex-col items-center gap-6 relative",children:[s.jsx("button",{onClick:c,className:"absolute top-6 right-6 p-2 text-neutral-300 hover:text-neutral-900 hover:bg-neutral-100 rounded-full transition-all",children:s.jsx(vt,{size:20})}),s.jsxs("div",{className:"text-center space-y-1 mt-2",children:[s.jsx("span",{className:"text-[10px] font-black uppercase text-neutral-400 tracking-widest",children:"Mimic Practice"}),s.jsx("h3",{className:"text-xl font-bold text-neutral-900 leading-tight",children:"Practice Selected Phrase"})]}),s.jsx("div",{className:"w-full p-6 bg-neutral-50 rounded-[2rem] border border-neutral-200 flex flex-wrap justify-center gap-x-2 gap-y-1 min-h-[100px] items-center overflow-y-auto custom-scrollbar max-h-[30vh]",children:l.split(/\s+/).map((W,P)=>{const T=h==null?void 0:h.words[P];return s.jsx("span",{onClick:()=>Ut(W),className:"text-2xl font-black cursor-pointer hover:underline decoration-neutral-300 transition-all flex",children:T!=null&&T.chars?T.chars.map((K,U)=>s.jsx("span",{className:K.status==="correct"?"text-emerald-500":K.status==="wrong"?"text-rose-500":"text-neutral-300",children:K.char},U)):s.jsx("span",{className:"text-neutral-900",children:W})},P)})}),s.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[u?s.jsxs("div",{className:"flex items-center gap-2 text-rose-500 animate-pulse",children:[s.jsx(Sm,{size:20}),s.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Listening..."})]}):d&&s.jsxs("p",{className:"text-sm font-medium italic text-neutral-500 line-clamp-2",children:['"',d,'"']}),h&&s.jsxs("div",{className:"text-center animate-in zoom-in-95",children:[s.jsxs("div",{className:`text-4xl font-black ${h.score>80?"text-emerald-500":h.score>50?"text-amber-500":"text-rose-500"}`,children:[h.score,"%"]}),s.jsx("p",{className:"text-[9px] font-bold text-neutral-400 uppercase tracking-widest",children:"Accuracy"})]})]}),s.jsxs("div",{className:"flex items-center gap-6 pt-2",children:[s.jsx("button",{onClick:()=>Ut(l),className:"p-4 rounded-2xl bg-neutral-100 text-neutral-600 hover:text-neutral-900 transition-all",title:"Listen",children:s.jsx(va,{size:24})}),s.jsx("button",{onClick:X,className:`w-20 h-20 rounded-full flex items-center justify-center shadow-lg transition-all transform active:scale-95 ${u?"bg-rose-600 text-white scale-110 shadow-rose-500/50 ring-8 ring-rose-500/10":"bg-white border-4 border-neutral-100 text-neutral-900 hover:scale-105"}`,title:"Record",children:u?y<=1e3?s.jsx("span",{className:"text-2xl font-black tabular-nums animate-in fade-in duration-300",children:(y/1e3).toFixed(1)}):s.jsx(Sm,{size:28,className:"animate-pulse"}):s.jsx(vs,{size:28})}),s.jsx("button",{onClick:D,disabled:!x||u,className:`p-4 rounded-2xl transition-all ${x&&!u?"bg-indigo-100 text-indigo-600 hover:text-indigo-900":"bg-neutral-50 text-neutral-300 cursor-not-allowed"}`,title:"Play recording",children:s.jsx(Pm,{size:24,fill:x&&!u?"currentColor":"none"})}),s.jsx("button",{onClick:F,className:"p-4 rounded-2xl bg-neutral-100 text-neutral-600 hover:text-indigo-600 transition-all",title:"Save to Pronunciation Page",children:s.jsx(Zy,{size:24})})]})]})})},lg=({word:l,onClose:c,onNavigateToWord:u,onEditRequest:o,onUpdate:f,onGainXp:d,isViewOnly:m=!1})=>{const[x,g]=_.useState(l),[h,S]=_.useState([]),[y,w]=_.useState({}),[j,O]=_.useState({}),[N,L]=_.useState(null),[I,Q]=_.useState(new Set),[B,X]=_.useState(!1),[D,F]=_.useState(!1);_.useEffect(()=>{g(l)},[l]),_.useEffect(()=>{(async()=>{if(!x)return;const ne=[],se=x.wordFamily;se&&ne.push(...(se.nouns||[]).map(re=>re.word.toLowerCase().trim()),...(se.verbs||[]).map(re=>re.word.toLowerCase().trim()),...(se.adjs||[]).map(re=>re.word.toLowerCase().trim()),...(se.advs||[]).map(re=>re.word.toLowerCase().trim()));const fe=x.paraphrases;fe&&ne.push(...fe.map(re=>re.word.toLowerCase().trim()));const E=x.idiomsList;E&&ne.push(...E.map(re=>re.text.toLowerCase().trim()));const ee=x.collocationsArray;ee&&ne.push(...ee.map(re=>re.text.toLowerCase().trim()));const oe=[...new Set(ne.filter(Boolean))],pe=new Set;for(const re of oe){if(!re)continue;await A1(x.userId,re)&&pe.add(re)}Q(pe);const de=await N1(x.userId,x.id);S(de);const b=Fr(),C={};(x.tags||[]).filter(re=>re.toLowerCase()!=="ielts").forEach(re=>{const V=b.filter(Z=>{var le;return Z.userId===x.userId&&Z.id!==x.id&&((le=Z.tags)==null?void 0:le.includes(re))});V.length>0&&(C[re]=V)}),w(C);const $={};(x.groups||[]).forEach(re=>{const V=b.filter(Z=>{var le;return Z.userId===x.userId&&Z.id!==x.id&&((le=Z.groups)==null?void 0:le.includes(re))});V.length>0&&($[re]=V)}),O($)})()},[x]);const W=async(G,ne="family")=>{if(!(!G.word||N||I.has(G.word.toLowerCase()))){L(G.word);try{const se=`From ${ne} of "${x.word}"`,fe=[...x.tags||[],`word-${ne}`],E={...Gh(G.word,G.ipa||"",`Added from ${ne}`,"",se,fe),userId:x.userId};await dd(E),Q(ee=>new Set(ee).add(G.word.toLowerCase()))}finally{L(null)}}},P=async(G,ne,se,fe)=>{const E={...x};ne&&(E.lastTestResults={...E.lastTestResults||{},...ne}),E.masteryScore=Ot(E),await f(E),X(!1),g(E)},T=G=>{f(G),g(G)},U=La().audio.appliedAccent;return s.jsxs(s.Fragment,{children:[B&&s.jsx(ag,{word:x,onComplete:P,onClose:()=>X(!1)}),D&&s.jsx(ng,{target:x.word,onClose:()=>F(!1)}),s.jsx(Mv,{word:x,onClose:c,onChallengeRequest:()=>X(!0),onMimicRequest:()=>F(!0),onEditRequest:()=>o(x),onUpdate:T,linkedUnits:h,relatedWords:y,relatedByGroup:j,onNavigateToWord:u,onAddVariantToLibrary:W,addingVariant:N,existingVariants:I,appliedAccent:U,isViewOnly:m})]})},Uv=({isOpen:l,title:c,message:u,confirmText:o,isProcessing:f,onConfirm:d,onClose:m,confirmButtonClass:x="bg-red-600 text-white hover:bg-red-700 shadow-red-200",icon:g=s.jsx(lh,{size:40})})=>l?s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsx("div",{className:"bg-white w-full max-w-sm rounded-[2.5rem] shadow-2xl border border-neutral-200 overflow-hidden animate-in zoom-in-95 duration-200",children:s.jsxs("div",{className:"p-8 text-center space-y-6",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-neutral-50 text-neutral-500 rounded-full flex items-center justify-center border-4 border-white shadow-sm",children:g}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-2xl font-black text-neutral-900 leading-tight",children:c}),s.jsx("p",{className:"text-neutral-500 text-sm leading-relaxed",children:u})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("button",{disabled:f,onClick:d,className:`w-full py-4 rounded-2xl font-black text-sm transition-all shadow-lg active:scale-95 flex items-center justify-center space-x-2 disabled:opacity-50 ${x}`,children:[f?s.jsx(na,{size:18,className:"animate-spin"}):null,s.jsx("span",{children:f?"PROCESSING...":o})]}),s.jsx("button",{disabled:f,onClick:m,className:"w-full py-4 bg-neutral-100 text-neutral-500 rounded-2xl font-bold text-sm hover:bg-neutral-200 transition-all active:scale-95 disabled:opacity-50",children:"Cancel"})]})]})})}):null,Dv=1e3,Bv=300,Hm={woman_teacher:{url:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Woman%20Teacher.png",bg:"bg-indigo-50"},man_teacher:{url:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Man%20Teacher.png",bg:"bg-blue-50"},fox:{url:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Animals/Fox.png",bg:"bg-orange-100"},koala:{url:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Animals/Koala.png",bg:"bg-teal-100"},pet:{url:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Animals/Cat%20Face.png",bg:"bg-pink-100"},owl:{url:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Animals/Owl.png",bg:"bg-yellow-100"},panda:{url:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Animals/Panda.png",bg:"bg-emerald-100"},unicorn:{url:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Animals/Unicorn.png",bg:"bg-purple-100"}},Hv=({user:l,stats:c,currentView:u,onNavigate:o})=>{const{showToast:f}=el(),[d,m]=_.useState(La()),[x,g]=_.useState($1()),[h,S]=_.useState(!1),[y,w]=_.useState(null),[j,O]=_.useState(!1),[N,L]=_.useState(!1),[I,Q]=_.useState(null),[B,X]=_.useState(null),D=_.useRef(null),F=_.useRef(null),W=_.useRef(null),P=d.audioCoach.activeCoach,T=d.audioCoach.coaches[P],U=(de=>de.startsWith("http")||de.startsWith("data:")?{url:de,bg:"bg-white border-2 border-neutral-100"}:Hm[de]||Hm.woman_teacher)(T.avatar);_.useEffect(()=>{const de=()=>m(La()),b=$=>g($.detail.isSpeaking),C=$=>{if(!d.interface.rightClickCommandEnabled)return;const re=window.getSelection();if(re==null?void 0:re.toString().trim()){$.preventDefault();const le=re.getRangeAt(0).getBoundingClientRect(),xe=le.top>120?"top":"bottom";X({x:le.left+le.width/2,y:xe==="top"?le.top:le.bottom,placement:xe}),w(null),S(!0)}else X(null)},M=$=>{W.current&&!W.current.contains($.target)&&h&&(S(!1),X(null))};return window.addEventListener("config-updated",de),window.addEventListener("audio-status-changed",b),document.addEventListener("contextmenu",C),document.addEventListener("mousedown",M),()=>{window.removeEventListener("config-updated",de),window.removeEventListener("audio-status-changed",b),document.removeEventListener("contextmenu",C),document.removeEventListener("mousedown",M)}},[d.interface.rightClickCommandEnabled,h]),_.useEffect(()=>(h&&y&&!x&&(F.current=setTimeout(()=>{D.current||(S(!1),setTimeout(()=>w(null),300))},4e3)),()=>{F.current&&clearTimeout(F.current)}),[h,y,x]),_.useEffect(()=>{if(!N&&l.id){const de=`Cho ${l.name}! Sn sng luyn tp cng mnh cha?`;w({text:de,icon:s.jsx(wi,{size:18,className:"text-yellow-500"})}),S(!0),L(!0),d.interface.buddyVoiceEnabled&&Ut(de,!0,"vi",T.viVoice,T.viAccent)}},[N,l.id,l.name,d.interface.buddyVoiceEnabled,T]);const G=(de="en")=>{const b=window.getSelection(),C=b==null?void 0:b.toString().trim();if(C){if(C.length>Dv){f("on vn bn qu di!","error");return}S(!1),X(null),Ut(C,!1,de,de==="en"?T.enVoice:T.viVoice,de==="en"?T.enAccent:T.viAccent)}else f("Bi en vn bn  nghe!","info")},ne=async()=>{var b,C;const de=(b=window.getSelection())==null?void 0:b.toString().trim();if(!de){f("Bi en  dch!","info");return}O(!0),S(!1),X(null);try{const $=await(await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(de)}&langpair=en|vi`)).json();if((C=$==null?void 0:$.responseData)!=null&&C.translatedText){const re=$.responseData.translatedText;w({text:`**Dch:** ${re}`,icon:s.jsx(vm,{size:18,className:"text-blue-500"})}),S(!0),d.interface.buddyVoiceEnabled&&Ut(re,!0,"vi",T.viVoice,T.viAccent)}}catch{f("Li dch thut!","error")}finally{O(!1)}},se=async()=>{var b;const de=(b=window.getSelection())==null?void 0:b.toString().trim();if(!de){f("Bi en  xem nh ngha!","info");return}O(!0),S(!1),X(null);try{const C=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${encodeURIComponent(de)}`);if(!C.ok)throw new Error;const M=await C.json(),$=M[0].meanings[0].definitions[0].definition;w({text:`**${M[0].word}**

"${$}"`,icon:s.jsx(Ru,{size:18,className:"text-emerald-500"})}),S(!0),d.interface.buddyVoiceEnabled&&Ut($,!0,"en",T.enVoice,T.enAccent)}catch{f("Khng tm thy nh ngha!","error")}finally{O(!1)}},fe=()=>{var b;const de=(b=window.getSelection())==null?void 0:b.toString().trim();if(de){if(de.length>Bv){f("on vn qu di  luyn ni!","error");return}S(!1),X(null),Q(de)}else f("Bi en vn bn  luyn ni!","info")},E=()=>{B||(D.current&&clearTimeout(D.current),j||S(!0))},ee=()=>{B||(D.current=setTimeout(()=>{y||S(!1)},300))},oe=de=>{de.stopPropagation();const b={...d,interface:{...d.interface,rightClickCommandEnabled:!d.interface.rightClickCommandEnabled}};Bh(b),f(b.interface.rightClickCommandEnabled?"Right-click commands enabled":"Right-click commands disabled","info")},pe=()=>s.jsx("div",{ref:W,className:"bg-white/90 backdrop-blur-xl p-1.5 rounded-[1.8rem] shadow-2xl border border-neutral-200 flex flex-col gap-1 w-[130px] animate-in fade-in zoom-in-95 duration-200",children:s.jsxs("div",{className:"grid grid-cols-6 gap-1",children:[s.jsx("button",{type:"button",onClick:ne,className:"col-span-2 aspect-square bg-indigo-50 text-indigo-500 rounded-2xl flex items-center justify-center transition-all hover:bg-indigo-100 active:scale-90 border border-indigo-100/50 shadow-sm",title:"Dch Ting Vit",children:s.jsx(vm,{size:15})}),s.jsx("button",{type:"button",onClick:se,className:"col-span-2 aspect-square bg-emerald-50 text-emerald-500 rounded-2xl flex items-center justify-center transition-all hover:bg-emerald-100 active:scale-90 border border-emerald-100/50 shadow-sm",title:"nh ngha",children:s.jsx(Ru,{size:15})}),s.jsx("button",{type:"button",onClick:fe,className:"col-span-2 aspect-square bg-amber-50 text-amber-500 rounded-2xl flex items-center justify-center transition-all hover:bg-amber-100 active:scale-90 border border-amber-100/50 shadow-sm",title:"Luyn ni (Mimic)",children:s.jsx(vs,{size:15})}),s.jsx("button",{type:"button",onClick:()=>G("en"),className:"col-span-3 aspect-[3/2] bg-neutral-100 text-neutral-500 rounded-2xl flex items-center justify-center transition-all hover:bg-neutral-200 active:scale-95 border border-neutral-200/50",title:"Nghe Ting Anh",children:s.jsx(Sl,{size:15,fill:"currentColor"})}),s.jsx("button",{type:"button",onClick:()=>G("vi"),className:"col-span-3 aspect-[3/2] bg-rose-50 text-rose-400 rounded-2xl flex items-center justify-center transition-all hover:bg-rose-100 active:scale-95 border border-rose-100/50",title:"Nghe Ting Vit",children:s.jsx(va,{size:15})})]})});return s.jsxs(s.Fragment,{children:[h&&B&&s.jsxs("div",{className:"fixed z-[2147483647] pointer-events-auto",style:{left:`${B.x}px`,top:`${B.y}px`,transform:B.placement==="top"?"translate(-50%, -100%) translateY(-10px)":"translate(-50%, 0) translateY(10px)"},children:[s.jsx(pe,{}),s.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 w-3 h-3 bg-white rotate-45 ${B.placement==="top"?"-bottom-1 border-r border-b border-neutral-200":"-top-1 border-l border-t border-neutral-200"}`})]}),s.jsx("div",{className:"fixed bottom-0 left-6 z-[2147483646] flex flex-col items-start pointer-events-none",children:s.jsxs("div",{className:"flex flex-col items-center pointer-events-auto group pb-0 pt-10",onMouseEnter:E,onMouseLeave:ee,children:[s.jsxs("div",{className:"relative",children:[h&&!B&&s.jsx("div",{className:"absolute bottom-16 left-0 z-50 pointer-events-auto animate-in fade-in slide-in-from-bottom-2 duration-200 pb-2",children:y?s.jsxs("div",{className:"bg-white p-5 rounded-[2.5rem] shadow-2xl border border-neutral-200 w-72 relative",children:[s.jsx("button",{onClick:()=>{S(!1),w(null)},className:"absolute top-4 right-4 p-1 text-neutral-300 hover:text-neutral-900 rounded-full transition-colors",children:s.jsx(vt,{size:14})}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"shrink-0 mt-1",children:y.icon||s.jsx(Xr,{size:18,className:"text-neutral-400"})}),s.jsx("div",{className:"text-xs font-medium text-neutral-700 leading-relaxed [&_strong]:font-black [&_strong]:text-neutral-900 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:y.text.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})]})]}):s.jsx(pe,{})}),s.jsx("button",{type:"button",onClick:()=>x&&fd(),className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-all duration-300 transform active:scale-90 shadow-2xl relative z-10 ${U.bg} ${h?"ring-4 ring-white shadow-indigo-500/20":"hover:scale-110 mb-1"}`,children:j?s.jsx("div",{className:"text-neutral-400 animate-spin",children:s.jsx(Xu,{size:20})}):s.jsxs("div",{className:"relative w-10 h-10 flex items-center justify-center pointer-events-none",children:[s.jsx("img",{src:U.url,className:`w-full h-full object-contain ${x?"scale-110":""}`,alt:"Coach"}),x&&s.jsx("div",{className:"absolute inset-0 bg-neutral-900/60 rounded-xl flex items-center justify-center animate-in fade-in duration-200",children:s.jsx(Wu,{size:16,fill:"white",className:"text-white"})})]})})]}),s.jsx("button",{onClick:oe,className:`w-5 h-5 rounded-md flex items-center justify-center transition-all duration-300 transform shadow-sm hover:scale-110 active:scale-90 opacity-0 group-hover:opacity-100 ${d.interface.rightClickCommandEnabled?"bg-indigo-600 text-white shadow-indigo-500/30":"bg-white text-neutral-400 border border-neutral-100"}`,title:d.interface.rightClickCommandEnabled?"Disable Right-Click Commands":"Enable Right-Click Commands",children:s.jsx(Wy,{size:10,fill:d.interface.rightClickCommandEnabled?"currentColor":"none"})})]})}),I&&s.jsx(ng,{target:I,onClose:()=>Q(null)})]})},Gv=Dt.lazy(()=>Kt(()=>import("./Dashboard-CmW1Hubm.js"),__vite__mapDeps([0,1]))),Vv=Dt.lazy(()=>Kt(()=>Promise.resolve().then(()=>Cv),void 0)),qv=Dt.lazy(()=>Kt(()=>import("./WordList-X0L0layQ.js"),__vite__mapDeps([2,3,4,5,6,7,8]))),Qv=Dt.lazy(()=>Kt(()=>import("./ReadingUnitPage-jatvoUxy.js"),__vite__mapDeps([9,3,4,5,6,7,8,10,11,12,13,14,15,16,17])).then(l=>({default:l.ReadingUnitPage}))),Zv=Dt.lazy(()=>Kt(()=>import("./SettingsView-d191SOL9.js"),__vite__mapDeps([18,19,15,20,1,4,5,6,7,8,21,10,11,16])).then(l=>({default:l.SettingsView}))),Yv=Dt.lazy(()=>Kt(()=>import("./Discover-B8qd0JzN.js"),__vite__mapDeps([22,19,15,14,8,7]))),Xv=Dt.lazy(()=>Kt(()=>import("./WritingStudioPage-BA2MndPH.js"),__vite__mapDeps([23,12,13,14,15,8,6,11,16,7,24,25,5,17])).then(l=>({default:l.WritingStudioPage}))),Wv=Dt.lazy(()=>Kt(()=>import("./IrregularVerbs-DhxJWnRB.js"),__vite__mapDeps([26,27,6,8,7,17,25]))),Kv=Dt.lazy(()=>Kt(()=>import("./MimicPractice-CsB0N8y1.js"),__vite__mapDeps([28,21,16,8])).then(l=>({default:l.MimicPractice}))),Fv=Dt.lazy(()=>Kt(()=>import("./ListeningCardPage-PPFo3XrD.js"),__vite__mapDeps([29,12,13,14,15,8,6,11,16,7,5,21,17])).then(l=>({default:l.ListeningCardPage}))),$v=Dt.lazy(()=>Kt(()=>import("./LessonLibraryV2-D1-j7tNp.js"),__vite__mapDeps([30,12,13,14,15,8,6,11,16,7,5,24,17,27])).then(l=>({default:l.LessonLibraryV2}))),ku=Dt.lazy(()=>Kt(()=>import("./SpeakingCardPage-DbXD0SR9.js"),__vite__mapDeps([31,12,13,14,15,8,6,11,16,7,5,17,20])).then(l=>({default:l.SpeakingCardPage}))),Jv=Dt.lazy(()=>Kt(()=>import("./CalendarPage-Ct7YMbMH.js"),__vite__mapDeps([32,8])).then(l=>({default:l.CalendarPage}))),Pv=Dt.lazy(()=>Kt(()=>import("./WordBookPage-DhUWdaZh.js"),__vite__mapDeps([33,13,14,15,6,16,17,8])).then(l=>({default:l.WordBookPage}))),e2=[{id:"DASHBOARD",view:"DASHBOARD",icon:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Objects/Mobile%20Phone.png",label:"Dashboard"},{id:"BROWSE",view:"BROWSE",icon:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Objects/Books.png",label:"Library"},{id:"LESSON",view:"LESSON",icon:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Objects/Notebook.png",label:"Lesson"},{id:"UNIT_LIBRARY",view:"UNIT_LIBRARY",icon:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Objects/Open%20Book.png",label:"Reading"},{id:"LISTENING",view:"LISTENING",icon:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Objects/Headphone.png",label:"Listening"},{id:"SPEAKING",view:"SPEAKING",icon:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Objects/Microphone.png",label:"Speaking"},{id:"WRITING",view:"WRITING",icon:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Objects/Memo.png",label:"Writing"}],t2=({controller:l,onNavigate:c,onLogoutRequest:u})=>{const{currentUser:o,view:f,setView:d,sessionType:m,isSidebarOpen:x,setIsSidebarOpen:g,forceExpandAdd:h,openAddWordLibrary:S,serverStatus:y,handleBackup:w,hasUnsavedChanges:j,nextAutoBackupTime:O}=l,[N,L]=_.useState(0);_.useEffect(()=>{if(!O){L(0);return}const Q=setInterval(()=>{const B=Math.ceil((O-Date.now())/1e3);L(Math.max(0,B))},1e3);return L(Math.max(0,Math.ceil((O-Date.now())/1e3))),()=>clearInterval(Q)},[O]);const I=O?`Auto-sync in ${N}s...`:j?"Unsaved Changes - Sync Now":"Sync to Server";return o?s.jsx(s.Fragment,{children:s.jsxs("aside",{className:`fixed md:relative inset-y-0 left-0 z-50 w-64 bg-white border-r border-neutral-200 transform ${x?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out flex flex-col p-6`,children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[s.jsx("img",{src:o.avatar,className:"w-10 h-10 rounded-2xl bg-neutral-100 shrink-0"}),s.jsxs("div",{className:"flex-1 overflow-hidden",children:[s.jsx("div",{className:"text-sm font-bold text-neutral-900 truncate",children:o.name}),s.jsx("div",{className:"text-[10px] text-neutral-400 font-bold truncate",children:o.role})]})]}),s.jsx("button",{onClick:()=>g(!1),className:"md:hidden p-2 text-neutral-400",children:s.jsx(vt,{size:24})})]}),s.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>c("SETTINGS"),className:"p-2 bg-neutral-50 hover:bg-neutral-100 rounded-xl transition-all active:scale-90 border border-neutral-100",title:"Settings",children:s.jsx("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Objects/Gear.png",alt:"Settings",className:"w-6 h-6 object-contain"})}),s.jsx("button",{onClick:()=>c("CALENDAR"),className:"p-2 bg-neutral-50 hover:bg-neutral-100 rounded-xl transition-all active:scale-90 border border-neutral-100",title:"Study Calendar",children:s.jsx("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Objects/Calendar.png",alt:"Calendar",className:"w-6 h-6 object-contain"})}),s.jsx("button",{onClick:()=>c("DISCOVER"),className:"p-2 bg-neutral-50 hover:bg-neutral-100 rounded-xl transition-all active:scale-90 border border-neutral-100",title:"Games & Discover",children:s.jsx("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Activities/Video%20Game.png",alt:"Games",className:"w-6 h-6 object-contain"})}),y==="connected"&&s.jsxs("button",{onClick:()=>w(),className:`p-2 rounded-xl transition-all active:scale-90 border animate-in fade-in relative ${j&&!O?"bg-orange-50 border-orange-200 shadow-[0_0_10px_rgba(249,115,22,0.4)]":"bg-neutral-50 border-neutral-100 hover:bg-neutral-100"}`,title:I,children:[s.jsx("img",{src:"https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Symbols/Up%20Arrow.png",alt:"Sync",className:"w-6 h-6 object-contain"}),j&&s.jsx("span",{className:`absolute top-0 right-0 w-2.5 h-2.5 rounded-full border-2 border-white -mt-1 -mr-1 ${O?"bg-green-500":"bg-orange-500 animate-ping"}`}),j&&s.jsx("span",{className:`absolute top-0 right-0 w-2.5 h-2.5 rounded-full border-2 border-white -mt-1 -mr-1 ${O?"bg-green-500":"bg-orange-500"}`})]})]})]}),s.jsxs("nav",{className:"flex-1 overflow-y-auto space-y-1",children:[m&&f!=="REVIEW"&&s.jsx("div",{className:"relative group animate-in fade-in duration-300 mb-1",children:s.jsxs("button",{onClick:()=>{d("REVIEW"),g(!1)},className:"w-full flex items-center justify-between px-4 py-3 rounded-xl font-bold text-sm bg-green-500 text-white shadow-lg shadow-green-500/20",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(qm,{size:20}),s.jsx("span",{children:"Study Now"})]}),s.jsxs("div",{className:"relative flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-white"})]})]})}),e2.map(Q=>{const B=f===Q.view&&(Q.id!=="BROWSE"||!h),X=Q.id==="SPEAKING"&&f==="SPEAKING";return s.jsx("div",{className:"relative group",children:s.jsx("button",{onClick:()=>c(Q.view),className:`w-full flex items-center justify-between px-4 py-3 rounded-xl font-bold text-sm transition-colors ${B||X?"bg-neutral-900 text-white shadow-sm":"text-neutral-500 hover:bg-neutral-100"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[typeof Q.icon=="string"?s.jsx("img",{src:Q.icon,className:`w-5 h-5 object-contain transition-all ${B||X?"opacity-100":"opacity-70 group-hover:opacity-100"}`,alt:Q.label}):s.jsx(Q.icon,{size:20}),s.jsx("span",{children:Q.label})]})})},Q.id)})]})]})}):null},a2=({controller:l})=>{const{view:c,currentUser:u,stats:o,xpToNextLevel:f,wotd:d,setGlobalViewWord:m,setView:x,lastBackupTime:g,handleBackup:h,restoreFromServerAction:S,triggerLocalRestore:y,triggerLocalBackup:w,triggerServerBackup:j,handleNavigateToList:O,startDueReviewSession:N,startNewLearnSession:L,sessionWords:I,sessionType:Q,sessionFocus:B,updateWord:X,bulkUpdateWords:D,handleSessionComplete:F,gainExperienceAndLevelUp:W,recalculateXpAndLevelUp:P,handleRetrySession:T,deleteWord:K,bulkDeleteWords:U,startSession:G,initialListFilter:ne,setInitialListFilter:se,forceExpandAdd:fe,setForceExpandAdd:E,handleUpdateUser:ee,refreshGlobalStats:oe,handleLibraryReset:pe,apiUsage:de,xpGained:b,lastMasteryScoreUpdateTimestamp:C,isWotdComposed:M,randomizeWotd:$,handleComposeWithWord:re,writingContextWord:V,consumeWritingContext:Z,serverStatus:le}=l;if(!u)return null;switch(c){case"DASHBOARD":return s.jsx(Gv,{userId:u.id,user:u,totalCount:o.total,dueCount:o.due,newCount:o.new,xpToNextLevel:f,wotd:d,onViewWotd:m,setView:x,lastBackupTime:g,onBackup:h,onRestore:()=>{},restoreFromServerAction:S,triggerLocalRestore:y,onLocalBackup:w,onServerBackup:j,onNavigateToWordList:O,onStartDueReview:N,onStartNewLearn:L,isWotdComposed:M,onComposeWotd:re,onRandomizeWotd:$,serverStatus:le});case"CALENDAR":return s.jsx(Jv,{user:u});case"WORDBOOK":return s.jsx(Pv,{user:u});case"REVIEW":return I&&Q?s.jsx(Vv,{user:u,sessionWords:I,sessionType:Q,sessionFocus:B,onUpdate:X,onBulkUpdate:D,onComplete:F,onRetry:T}):null;case"BROWSE":return s.jsx(qv,{user:u,onDelete:async te=>await K(te),onBulkDelete:async te=>await U(te),onUpdate:X,onStartSession:te=>G(te,"custom"),initialFilter:ne,onInitialFilterApplied:()=>se(null),forceExpandAdd:fe,onExpandAddConsumed:()=>E(!1),onNavigate:x});case"LESSON":return s.jsx($v,{user:u,onStartSession:te=>G(te,"custom"),onExit:()=>x("DASHBOARD"),onNavigate:x,onUpdateUser:ee});case"UNIT_LIBRARY":return s.jsx(Qv,{user:u,onStartSession:te=>G(te,"new_study"),onUpdateUser:ee});case"SETTINGS":return s.jsx(Zv,{user:u,onUpdateUser:ee,onRefresh:oe,onNuke:pe,apiUsage:de});case"DISCOVER":return s.jsx(Yv,{user:u,xpToNextLevel:f,totalWords:o.total,onExit:()=>x("DASHBOARD"),onGainXp:W,onRecalculateXp:P,xpGained:b,onStartSession:G,onUpdateUser:ee,lastMasteryScoreUpdateTimestamp:C,onBulkUpdate:D});case"SPEAKING":return s.jsx(ku,{user:u,onNavigate:x});case"NATIVE_SPEAK":return s.jsx(ku,{user:u,onNavigate:x});case"WRITING":return s.jsx(Xv,{user:u,initialContextWord:V,onConsumeContext:Z});case"IRREGULAR_VERBS":return s.jsx(Wv,{user:u,onGlobalViewWord:m});case"MIMIC":return s.jsx(Kv,{});case"LISTENING":return s.jsx(Fv,{user:u});case"EXPERIMENT":return s.jsx(ku,{user:u,onNavigate:x});default:return s.jsxs("div",{children:["Unknown view: ",c]})}},n2=({controller:l})=>{const{view:c,isSidebarOpen:u,setIsSidebarOpen:o,globalViewWord:f,setGlobalViewWord:d,updateWord:m,gainExperienceAndLevelUp:x,sessionType:g,clearSessionState:h,setView:S,handleLogout:y,setForceExpandAdd:w,openAddWordLibrary:j,currentUser:O,stats:N,startDueReviewSession:L,startNewLearnSession:I,lastBackupTime:Q}=l,[B,X]=_.useState(null),[D,F]=_.useState({isOpen:!1,targetView:null,andThen:void 0}),W=(se,fe)=>{g&&se!=="REVIEW"?F({isOpen:!0,targetView:se,andThen:fe}):(w(!!fe),S(se),o(!1))},P=se=>{switch(se){case"REVIEW":L();break;case"BROWSE":I();break;default:W(se)}},T=()=>{g?F({isOpen:!0,targetView:null,andThen:y}):y()},K=()=>{D.targetView?(h(),S(D.targetView),D.andThen?D.andThen():w(!1),o(!1)):D.andThen&&(h(),D.andThen()),F({isOpen:!1,targetView:null,andThen:void 0})},U=()=>{F({isOpen:!1,targetView:null,andThen:void 0})},G=se=>{d(null),X(se)},ne=se=>{m(se),X(null)};return s.jsxs("div",{className:"min-h-screen bg-neutral-50 md:flex",children:[s.jsx(t2,{controller:l,onNavigate:W,onLogoutRequest:T}),s.jsx("div",{className:`fixed inset-0 bg-black/30 z-40 md:hidden ${u?"block":"hidden"}`,onClick:()=>o(!1)}),s.jsxs("main",{className:"flex-1 p-6 md:p-10 overflow-y-auto relative",children:[s.jsx("button",{onClick:()=>o(!0),className:"md:hidden fixed top-4 left-4 p-2 bg-white/80 backdrop-blur-sm rounded-full shadow-md z-30",children:s.jsx(Yy,{size:24})}),s.jsx(_.Suspense,{fallback:s.jsx("div",{className:"flex justify-center p-20",children:s.jsx(na,{className:"animate-spin text-neutral-300",size:32})}),children:s.jsx(a2,{controller:l})})]}),O&&s.jsx(Hv,{user:O,stats:N,currentView:c,lastBackupTime:Q,onNavigate:P}),f&&s.jsx(lg,{word:f,onClose:()=>d(null),onNavigateToWord:d,onEditRequest:G,onUpdate:m,onGainXp:x}),B&&s.jsx(eg,{user:l.currentUser,word:B,onSave:ne,onClose:()=>X(null),onSwitchToView:se=>{X(null),d(se)}}),s.jsx(Uv,{isOpen:D.isOpen,title:"End Current Session?",message:"Navigating away will end your current study session. Are you sure you want to continue?",confirmText:"End Session",isProcessing:!1,onConfirm:K,onClose:U,icon:s.jsx(lh,{size:40,className:"text-orange-500"}),confirmButtonClass:"bg-orange-600 text-white hover:bg-orange-700 shadow-orange-200"})]})},l2=()=>s.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-neutral-950/90 backdrop-blur-md animate-in fade-in duration-500",children:s.jsxs("div",{className:"bg-white w-full max-w-md rounded-[3rem] shadow-2xl border-2 border-neutral-100 overflow-hidden animate-in zoom-in-95 duration-500",children:[s.jsxs("div",{className:"bg-neutral-900 p-8 text-white text-center space-y-4",children:[s.jsxs("div",{className:"mx-auto w-20 h-20 bg-white/10 rounded-full flex items-center justify-center border-4 border-white/20 mb-2 relative",children:[s.jsx(Hy,{size:40,className:"animate-pulse"}),s.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 rounded-full p-1 border-2 border-neutral-900",children:s.jsx(Ha,{size:14})})]}),s.jsx("h3",{className:"text-2xl font-black tracking-tighter uppercase",children:"Connection Lost"})]}),s.jsxs("div",{className:"p-10 text-center space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-lg font-black text-neutral-900 leading-tight",children:"Database link interrupted"}),s.jsxs("p",{className:"text-neutral-500 text-sm leading-relaxed font-medium",children:["The connection to your local storage was closed unexpectedly by the browser.",s.jsx("br",{}),s.jsx("br",{}),"Don't worry, ",s.jsx("strong",{children:"your data is safe"}),". Refreshing the application will restore the connection immediately."]})]}),s.jsxs("button",{onClick:()=>{localStorage.setItem("vocab_pro_auto_restore","true"),window.location.reload()},className:"w-full py-5 bg-neutral-900 text-white rounded-2xl font-black text-sm hover:bg-neutral-800 transition-all shadow-xl shadow-neutral-900/20 active:scale-95 flex items-center justify-center space-x-3",children:[s.jsx(eh,{size:20}),s.jsx("span",{children:"REFRESH APPLICATION"})]})]}),s.jsx("div",{className:"bg-neutral-50 px-8 py-4 flex items-center justify-center space-x-2 border-t border-neutral-100",children:s.jsx("span",{className:"text-[10px] font-black text-neutral-400 uppercase tracking-widest",children:"Safe Persistent Storage"})})]})}),s2=()=>{const l=U1(),{isLoaded:c,isResetting:u,resetStep:o,view:f,currentUser:d,handleLogin:m}=l,[x,g]=_.useState(!1);return _.useEffect(()=>{rh();const h=()=>g(!0);return window.addEventListener("db-connection-lost",h),()=>window.removeEventListener("db-connection-lost",h)},[]),x?s.jsx(l2,{}):c?u?s.jsxs("div",{className:"h-screen w-screen flex flex-col items-center justify-center bg-white space-y-4",children:[s.jsx(na,{size:40,className:"text-neutral-900 animate-spin"}),s.jsx("p",{className:"text-sm font-bold text-neutral-500",children:o})]}):f==="AUTH"||!d?s.jsx(Jb,{onLogin:m}):s.jsx(n2,{controller:l}):s.jsxs("div",{className:"h-screen w-screen flex flex-col items-center justify-center bg-white space-y-4",children:[s.jsx(wi,{size:40,className:"text-neutral-900"}),s.jsx("p",{className:"text-sm font-bold text-neutral-500",children:"Vocab Pro"})]})},i2=()=>s.jsx(Pb,{children:s.jsx(s2,{})}),sg=document.getElementById("root");if(!sg)throw new Error("Could not find root element to mount to");const r2=_y.createRoot(sg);r2.render(s.jsx(Dt.StrictMode,{children:s.jsx(i2,{})}));export{$y as $,Ut as A,qm as B,yi as C,Vu as D,vi as E,Qu as F,Pm as G,nh as H,el as I,uh as J,d2 as K,$m as L,f2 as M,u2 as N,g2 as O,Ky as P,m2 as Q,Dt as R,th as S,lb as T,dd as U,lg as V,ih as W,vt as X,w1 as Y,S1 as Z,na as _,Yr as a,ag as a$,Ha as a0,Im as a1,Jr as a2,rd as a3,ys as a4,mb as a5,Sl as a6,ab as a7,Ru as a8,Uv as a9,Hy as aA,E2 as aB,ub as aC,db as aD,e1 as aE,x1 as aF,Yh as aG,h2 as aH,Hh as aI,xs as aJ,Jm as aK,qu as aL,Si as aM,Yu as aN,bi as aO,Xr as aP,Ry as aQ,Wu as aR,c1 as aS,Wm as aT,ah as aU,_e as aV,nb as aW,Qy as aX,tb as aY,ps as aZ,Ly as a_,yh as aa,Mb as ab,Lb as ac,Xe as ad,b2 as ae,ud as af,ji as ag,V1 as ah,Q1 as ai,H1 as aj,ib as ak,Km as al,rb as am,Ei as an,My as ao,va as ap,Fm as aq,vs as ar,Zu as as,j2 as at,A2 as au,Bh as av,Jn as aw,lh as ax,eh as ay,Ym as az,o2 as b,gi as b0,c2 as b1,hi as b2,qa as b3,x2 as b4,gb as b5,Ni as b6,bb as b7,Yb as b8,Zb as b9,ed as bA,Ub as bB,Eb as bC,zb as bD,Db as bE,Ab as bF,Sb as bG,ld as bH,qb as bI,Vb as bJ,Qb as bK,Cb as bL,eb as bM,Ob as bN,kb as bO,sd as bP,Rb as bQ,Ib as bR,hh as bS,v2 as bT,S2 as bU,Xb as ba,xb as bb,y2 as bc,yb as bd,zy as be,Uy as bf,Rt as bg,td as bh,jb as bi,wb as bj,Eh as bk,Nb as bl,Iu as bm,Sm as bn,pd as bo,nv as bp,zv as bq,av as br,nd as bs,Hb as bt,Bb as bu,Gb as bv,Tb as bw,_b as bx,vb as by,ad as bz,he as c,Qm as d,$r as e,Xu as f,Gm as g,wi as h,Ga as i,s as j,Py as k,La as l,Fh as m,bs as n,Fr as o,p2 as p,eg as q,_ as r,X1 as s,A1 as t,Gh as u,v1 as v,w2 as w,mn as x,N2 as y,Ph as z};
