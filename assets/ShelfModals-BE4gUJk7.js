import{c as u,j as e,X as c,a as h,r as d,a1 as f}from"./index-DbgyjirZ.js";import{M as b}from"./move-Bos9XfB9.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=u("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=u("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),x=["#5d4037","#3e2723","#1a237e","#1b5e20","#b71c1c","#0ea5e9","#10b981","#f59e0b","#ec4899","#8b5cf6","#0f172a","#171717","#334155","#450a0a","#1e1b4b","#bae6fd","#bbf7d0","#fef08a","#fecaca","#ddd6fe"],w=["#ffffff","#000000","#fef08a","#bae6fd","#fecaca","#ddd6fe","#f59e0b","#0ea5e9","#10b981","#ef4444","#8b5cf6","#ec4899","#3e2723","#1e1b4b","#1b5e20","#450a0a","#171717","#334155","#94a3b8","#475569"],p=({icon:t,className:a})=>t?(t==null?void 0:t.startsWith("http"))||(t==null?void 0:t.startsWith("data:image"))?e.jsx("img",{src:t,className:`object-contain ${a}`,alt:"Book icon"}):e.jsx("span",{className:a,children:t}):null,g=t=>{let a=0;for(let l=0;l<t.length;l++)a=t.charCodeAt(l)+((a<<5)-a);return a},k=({book:t,onClick:a,onMove:l,onDelete:n})=>{const s=t.color||x[Math.abs(g(t.id))%x.length],o=t.topic.split(":").map(m=>m.trim()),r=o.length>1?o.slice(1).join(":").trim():t.topic,i=!!(s.startsWith("http")||s.startsWith("data:image"));return e.jsx("div",{className:"group [perspective:1000px] translate-y-0 cursor-pointer",onClick:a,children:e.jsxs("div",{className:"relative w-full aspect-[5/7] rounded-lg shadow-lg transition-all duration-300 transform group-hover:shadow-2xl group-hover:shadow-black/40 group-hover:[transform:rotateY(-15deg)_scale(1.05)] overflow-hidden",style:{backgroundColor:i?"#262626":s,transformStyle:"preserve-3d",transform:"rotateY(-5deg) rotateX(2deg)"},children:[i&&e.jsx("img",{src:s,className:"absolute inset-0 w-full h-full object-cover",alt:""}),e.jsx("div",{className:"absolute top-0 left-0 bottom-0 w-6 bg-gradient-to-r from-black/40 to-transparent rounded-l-lg z-10"}),e.jsxs("div",{className:`absolute inset-2 border-2 border-black/10 rounded-sm z-10 ${i?"":"bg-black/5"}`,children:[t.icon&&e.jsx("div",{className:"absolute flex items-center justify-center w-12 h-12",style:{top:`${t.iconTop??40}%`,left:`${t.iconLeft??50}%`,transform:"translate(-50%, -50%)"},children:e.jsx(p,{icon:t.icon,className:"text-4xl w-full h-full object-contain drop-shadow-lg"})}),e.jsx("h3",{className:"absolute w-full text-center font-serif font-bold leading-tight drop-shadow-md px-2 line-clamp-3",style:{color:t.titleColor||"#ffffff",fontSize:t.titleSize?`${Math.min(t.titleSize,18)}px`:"18px",top:`${t.titleTop??55}%`,left:`${t.titleLeft??50}%`,transform:"translate(-50%, -50%)"},children:r})]}),!i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute top-4 left-4 right-4 h-px bg-gradient-to-r from-transparent via-white/40 to-transparent z-10"}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4 h-px bg-gradient-to-r from-transparent via-white/40 to-transparent z-10"})]}),e.jsxs("div",{className:"absolute top-2 right-2 z-20 flex flex-col gap-1.5 opacity-0 group-hover:opacity-100 transition-all",children:[e.jsx("button",{onClick:l,className:"p-1.5 bg-black/30 text-white/60 rounded-full hover:bg-neutral-700 hover:text-white transition-all shadow-sm",children:e.jsx(b,{size:16})}),e.jsx("button",{onClick:n,className:"p-1.5 bg-black/30 text-white/60 rounded-full hover:bg-red-600 hover:text-white transition-all shadow-sm",children:e.jsx(c,{size:16})})]})]})})},C=({isOpen:t,onClose:a,onSave:l})=>{const[n,s]=d.useState("");if(d.useEffect(()=>{t&&s("")},[t]),!t)return null;const o=()=>{n.trim()&&l(n.trim())};return e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2.5rem] shadow-2xl border border-neutral-200 flex flex-col",children:[e.jsxs("header",{className:"px-8 py-6 border-b border-neutral-100 flex justify-between items-start",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-xl font-black text-neutral-900",children:"Add New Shelf"})}),e.jsx("button",{onClick:a,className:"p-2 -mr-2 text-neutral-400 hover:bg-neutral-100 rounded-full",children:e.jsx(c,{size:20})})]}),e.jsxs("main",{className:"p-8 space-y-2",children:[e.jsx("label",{htmlFor:"shelf-name-input",className:"font-bold text-sm",children:"Shelf Name"}),e.jsx("input",{id:"shelf-name-input",value:n,onChange:r=>s(r.target.value),className:"w-full px-3 py-2 bg-neutral-50 border border-neutral-200 rounded-lg font-medium",autoFocus:!0,onKeyDown:r=>{r.key==="Enter"&&o()}})]}),e.jsxs("footer",{className:"px-8 py-6 border-t border-neutral-100 flex justify-end items-center gap-3 bg-neutral-50/50 rounded-b-[2.5rem]",children:[e.jsx("button",{onClick:a,className:"px-5 py-2.5 bg-neutral-100 text-neutral-600 rounded-xl font-bold text-xs hover:bg-neutral-200",children:"Cancel"}),e.jsxs("button",{onClick:o,className:"px-6 py-3 bg-neutral-900 text-white rounded-xl font-black text-xs flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(f,{size:14})," Save"]})]})]})})},S=({isOpen:t,onClose:a,onSave:l,initialName:n})=>{const[s,o]=d.useState("");if(d.useEffect(()=>{t&&o(n)},[t,n]),!t)return null;const r=()=>{s.trim()&&l(s.trim())};return e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2.5rem] shadow-2xl border border-neutral-200 flex flex-col",children:[e.jsxs("header",{className:"px-8 py-6 border-b border-neutral-100 flex justify-between items-start",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-xl font-black text-neutral-900",children:"Rename Shelf"})}),e.jsx("button",{onClick:a,className:"p-2 -mr-2 text-neutral-400 hover:bg-neutral-100 rounded-full",children:e.jsx(c,{size:20})})]}),e.jsxs("main",{className:"p-8 space-y-2",children:[e.jsx("label",{htmlFor:"shelf-rename-input",className:"font-bold text-sm",children:"New Shelf Name"}),e.jsx("input",{id:"shelf-rename-input",value:s,onChange:i=>o(i.target.value),className:"w-full px-3 py-2 bg-neutral-50 border border-neutral-200 rounded-lg font-medium",autoFocus:!0,onKeyDown:i=>{i.key==="Enter"&&r()}})]}),e.jsxs("footer",{className:"px-8 py-6 border-t border-neutral-100 flex justify-end items-center gap-3 bg-neutral-50/50 rounded-b-[2.5rem]",children:[e.jsx("button",{onClick:a,className:"px-5 py-2.5 bg-neutral-100 text-neutral-600 rounded-xl font-bold text-xs hover:bg-neutral-200",children:"Cancel"}),e.jsxs("button",{onClick:r,className:"px-6 py-3 bg-neutral-900 text-white rounded-xl font-black text-xs flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(f,{size:14})," Save"]})]})]})})},z=({isOpen:t,onClose:a,onConfirm:l,shelves:n,currentShelf:s,bookTitle:o})=>t?e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2.5rem] shadow-2xl border border-neutral-200 flex flex-col",children:[e.jsxs("header",{className:"px-8 py-6 border-b border-neutral-100 flex justify-between items-start shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-neutral-900",children:"Move Book"}),e.jsxs("p",{className:"text-xs text-neutral-500 font-bold mt-1 truncate",children:['"',o,'"']})]}),e.jsx("button",{onClick:a,className:"p-2 -mr-2 text-neutral-400 hover:bg-neutral-100 rounded-full",children:e.jsx(c,{size:20})})]}),e.jsxs("main",{className:"p-6 overflow-y-auto max-h-[50vh] space-y-2",children:[e.jsx("p",{className:"text-[10px] font-black uppercase text-neutral-400 tracking-widest px-2 mb-2",children:"Select Destination Shelf"}),n.filter(r=>r!==s).map(r=>e.jsxs("button",{onClick:()=>l(r),className:"w-full text-left px-4 py-3 rounded-xl border border-neutral-100 hover:border-neutral-300 hover:bg-neutral-50 transition-all font-bold text-sm text-neutral-700 flex items-center justify-between group",children:[e.jsx("span",{children:r}),e.jsx(h,{size:16,className:"text-neutral-300 group-hover:text-neutral-900 transition-colors"})]},r)),n.length<=1&&e.jsx("p",{className:"text-center py-4 text-xs font-medium text-neutral-400 italic",children:"No other shelves available."})]}),e.jsx("footer",{className:"px-8 py-4 border-t border-neutral-100 bg-neutral-50/50 rounded-b-[2.5rem] flex justify-end",children:e.jsx("button",{onClick:a,className:"px-5 py-2 text-xs font-bold text-neutral-500 hover:text-neutral-900",children:"Cancel"})})]})}):null;export{C as A,p as B,x as C,N as F,y as I,z as M,S as R,w as T,k as W};
